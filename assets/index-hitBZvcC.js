(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function ig(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nu={exports:{}},va={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function x0(){if(dp)return va;dp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(o,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:o,key:m,ref:r!==void 0?r:null,props:f}}return va.Fragment=t,va.jsx=l,va.jsxs=l,va}var mp;function R0(){return mp||(mp=1,Nu.exports=x0()),Nu.exports}var E=R0(),Mu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function N0(){if(pp)return ge;pp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),k=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=k&&b[k]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,w={};function P(b,B,Q){this.props=b,this.context=B,this.refs=w,this.updater=Q||N}P.prototype.isReactComponent={},P.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,B,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function X(){}X.prototype=P.prototype;function Y(b,B,Q){this.props=b,this.context=B,this.refs=w,this.updater=Q||N}var J=Y.prototype=new X;J.constructor=Y,U(J,P.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function ne(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function O(b,B,Q){var j=Q.ref;return{$$typeof:i,type:b,key:B,ref:j!==void 0?j:null,props:Q}}function W(b,B){return O(b.type,B,b.props)}function le(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function re(b){var B={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Q){return B[Q]})}var me=/\/+/g;function Ae(b,B){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):B.toString(36)}function Ue(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ne,ne):(b.status="pending",b.then(function(B){b.status==="pending"&&(b.status="fulfilled",b.value=B)},function(B){b.status==="pending"&&(b.status="rejected",b.reason=B)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function H(b,B,Q,j,oe){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case i:case t:Se=!0;break;case v:return Se=b._init,H(Se(b._payload),B,Q,j,oe)}}if(Se)return oe=oe(b),Se=j===""?"."+Ae(b,0):j,ee(oe)?(Q="",Se!=null&&(Q=Se.replace(me,"$&/")+"/"),H(oe,B,Q,"",function(ti){return ti})):oe!=null&&(le(oe)&&(oe=W(oe,Q+(oe.key==null||b&&b.key===oe.key?"":(""+oe.key).replace(me,"$&/")+"/")+Se)),B.push(oe)),1;Se=0;var Ze=j===""?".":j+":";if(ee(b))for(var Be=0;Be<b.length;Be++)j=b[Be],ce=Ze+Ae(j,Be),Se+=H(j,B,Q,ce,oe);else if(Be=A(b),typeof Be=="function")for(b=Be.call(b),Be=0;!(j=b.next()).done;)j=j.value,ce=Ze+Ae(j,Be++),Se+=H(j,B,Q,ce,oe);else if(ce==="object"){if(typeof b.then=="function")return H(Ue(b),B,Q,j,oe);throw B=String(b),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Z(b,B,Q){if(b==null)return b;var j=[],oe=0;return H(b,j,"","",function(ce){return B.call(Q,ce,oe++)}),j}function fe(b){if(b._status===-1){var B=b._result;B=B(),B.then(function(Q){(b._status===0||b._status===-1)&&(b._status=1,b._result=Q)},function(Q){(b._status===0||b._status===-1)&&(b._status=2,b._result=Q)}),b._status===-1&&(b._status=0,b._result=B)}if(b._status===1)return b._result.default;throw b._result}var $=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},pe={map:Z,forEach:function(b,B,Q){Z(b,function(){B.apply(this,arguments)},Q)},count:function(b){var B=0;return Z(b,function(){B++}),B},toArray:function(b){return Z(b,function(B){return B})||[]},only:function(b){if(!le(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return ge.Activity=T,ge.Children=pe,ge.Component=P,ge.Fragment=l,ge.Profiler=r,ge.PureComponent=Y,ge.StrictMode=o,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ge.__COMPILER_RUNTIME={__proto__:null,c:function(b){return L.H.useMemoCache(b)}},ge.cache=function(b){return function(){return b.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(b,B,Q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var j=U({},b.props),oe=b.key;if(B!=null)for(ce in B.key!==void 0&&(oe=""+B.key),B)!z.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(j[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)j.children=Q;else if(1<ce){for(var Se=Array(ce),Ze=0;Ze<ce;Ze++)Se[Ze]=arguments[Ze+2];j.children=Se}return O(b.type,oe,j)},ge.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},ge.createElement=function(b,B,Q){var j,oe={},ce=null;if(B!=null)for(j in B.key!==void 0&&(ce=""+B.key),B)z.call(B,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(oe[j]=B[j]);var Se=arguments.length-2;if(Se===1)oe.children=Q;else if(1<Se){for(var Ze=Array(Se),Be=0;Be<Se;Be++)Ze[Be]=arguments[Be+2];oe.children=Ze}if(b&&b.defaultProps)for(j in Se=b.defaultProps,Se)oe[j]===void 0&&(oe[j]=Se[j]);return O(b,ce,oe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(b){return{$$typeof:g,render:b}},ge.isValidElement=le,ge.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:fe}},ge.memo=function(b,B){return{$$typeof:h,type:b,compare:B===void 0?null:B}},ge.startTransition=function(b){var B=L.T,Q={};L.T=Q;try{var j=b(),oe=L.S;oe!==null&&oe(Q,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ne,$)}catch(ce){$(ce)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),L.T=B}},ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ge.use=function(b){return L.H.use(b)},ge.useActionState=function(b,B,Q){return L.H.useActionState(b,B,Q)},ge.useCallback=function(b,B){return L.H.useCallback(b,B)},ge.useContext=function(b){return L.H.useContext(b)},ge.useDebugValue=function(){},ge.useDeferredValue=function(b,B){return L.H.useDeferredValue(b,B)},ge.useEffect=function(b,B){return L.H.useEffect(b,B)},ge.useEffectEvent=function(b){return L.H.useEffectEvent(b)},ge.useId=function(){return L.H.useId()},ge.useImperativeHandle=function(b,B,Q){return L.H.useImperativeHandle(b,B,Q)},ge.useInsertionEffect=function(b,B){return L.H.useInsertionEffect(b,B)},ge.useLayoutEffect=function(b,B){return L.H.useLayoutEffect(b,B)},ge.useMemo=function(b,B){return L.H.useMemo(b,B)},ge.useOptimistic=function(b,B){return L.H.useOptimistic(b,B)},ge.useReducer=function(b,B,Q){return L.H.useReducer(b,B,Q)},ge.useRef=function(b){return L.H.useRef(b)},ge.useState=function(b){return L.H.useState(b)},ge.useSyncExternalStore=function(b,B,Q){return L.H.useSyncExternalStore(b,B,Q)},ge.useTransition=function(){return L.H.useTransition()},ge.version="19.2.3",ge}var hp;function ec(){return hp||(hp=1,Mu.exports=N0()),Mu.exports}var K=ec();const be=ig(K);var Du={exports:{}},Sa={},Iu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function M0(){return gp||(gp=1,(function(i){function t(H,Z){var fe=H.length;H.push(Z);e:for(;0<fe;){var $=fe-1>>>1,pe=H[$];if(0<r(pe,Z))H[$]=Z,H[fe]=pe,fe=$;else break e}}function l(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Z=H[0],fe=H.pop();if(fe!==Z){H[0]=fe;e:for(var $=0,pe=H.length,b=pe>>>1;$<b;){var B=2*($+1)-1,Q=H[B],j=B+1,oe=H[j];if(0>r(Q,fe))j<pe&&0>r(oe,Q)?(H[$]=oe,H[j]=fe,$=j):(H[$]=Q,H[B]=fe,$=B);else if(j<pe&&0>r(oe,fe))H[$]=oe,H[j]=fe,$=j;else break e}}return Z}function r(H,Z){var fe=H.sortIndex-Z.sortIndex;return fe!==0?fe:H.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,T=null,k=3,A=!1,N=!1,U=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(H){for(var Z=l(h);Z!==null;){if(Z.callback===null)o(h);else if(Z.startTime<=H)o(h),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=l(h)}}function ee(H){if(U=!1,J(H),!N)if(l(y)!==null)N=!0,ne||(ne=!0,re());else{var Z=l(h);Z!==null&&Ue(ee,Z.startTime-H)}}var ne=!1,L=-1,z=5,O=-1;function W(){return w?!0:!(i.unstable_now()-O<z)}function le(){if(w=!1,ne){var H=i.unstable_now();O=H;var Z=!0;try{e:{N=!1,U&&(U=!1,X(L),L=-1),A=!0;var fe=k;try{t:{for(J(H),T=l(y);T!==null&&!(T.expirationTime>H&&W());){var $=T.callback;if(typeof $=="function"){T.callback=null,k=T.priorityLevel;var pe=$(T.expirationTime<=H);if(H=i.unstable_now(),typeof pe=="function"){T.callback=pe,J(H),Z=!0;break t}T===l(y)&&o(y),J(H)}else o(y);T=l(y)}if(T!==null)Z=!0;else{var b=l(h);b!==null&&Ue(ee,b.startTime-H),Z=!1}}break e}finally{T=null,k=fe,A=!1}Z=void 0}}finally{Z?re():ne=!1}}}var re;if(typeof Y=="function")re=function(){Y(le)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ae=me.port2;me.port1.onmessage=le,re=function(){Ae.postMessage(null)}}else re=function(){P(le,0)};function Ue(H,Z){L=P(function(){H(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(H){switch(k){case 1:case 2:case 3:var Z=3;break;default:Z=k}var fe=k;k=Z;try{return H()}finally{k=fe}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=k;k=H;try{return Z()}finally{k=fe}},i.unstable_scheduleCallback=function(H,Z,fe){var $=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?$+fe:$):fe=$,H){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=fe+pe,H={id:v++,callback:Z,priorityLevel:H,startTime:fe,expirationTime:pe,sortIndex:-1},fe>$?(H.sortIndex=fe,t(h,H),l(y)===null&&H===l(h)&&(U?(X(L),L=-1):U=!0,Ue(ee,fe-$))):(H.sortIndex=pe,t(y,H),N||A||(N=!0,ne||(ne=!0,re()))),H},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(H){var Z=k;return function(){var fe=k;k=Z;try{return H.apply(this,arguments)}finally{k=fe}}}})(wu)),wu}var yp;function D0(){return yp||(yp=1,Iu.exports=M0()),Iu.exports}var Uu={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function I0(){if(vp)return pt;vp=1;var i=ec();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,pt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},pt.flushSync=function(y){var h=m.T,v=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=h,o.p=v,o.d.f()}},pt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(y,h))},pt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},pt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),k=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?o.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:k,fetchPriority:A}):v==="script"&&o.d.X(y,{crossOrigin:T,integrity:k,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(y)},pt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);o.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);o.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(y)},pt.requestFormReset=function(y){o.d.r(y)},pt.unstable_batchedUpdates=function(y,h){return y(h)},pt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},pt.useFormStatus=function(){return m.H.useHostTransitionStatus()},pt.version="19.2.3",pt}var Sp;function lg(){if(Sp)return Uu.exports;Sp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uu.exports=I0(),Uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function w0(){if(Tp)return Sa;Tp=1;var i=D0(),t=ec(),l=lg();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(o(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,s=n;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){a=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return y(d),e;if(p===s)return y(d),n;p=p.sibling}throw Error(o(188))}if(a.return!==s.return)a=d,s=p;else{for(var S=!1,_=d.child;_;){if(_===a){S=!0,a=d,s=p;break}if(_===s){S=!0,s=d,a=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===a){S=!0,a=p,s=d;break}if(_===s){S=!0,s=p,a=d;break}_=_.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,k=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case P:return"Profiler";case w:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case Y:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return n=e.displayName||null,n!==null?n:Ae(e.type)||"Memo";case z:n=e._payload,e=e._init;try{return Ae(e(n))}catch{}}return null}var Ue=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},$=[],pe=-1;function b(e){return{current:e}}function B(e){0>pe||(e.current=$[pe],$[pe]=null,pe--)}function Q(e,n){pe++,$[pe]=e.current,e.current=n}var j=b(null),oe=b(null),ce=b(null),Se=b(null);function Ze(e,n){switch(Q(ce,n),Q(oe,e),Q(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zm(n),e=Lm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(j),Q(j,e)}function Be(){B(j),B(oe),B(ce)}function ti(e){e.memoizedState!==null&&Q(Se,e);var n=j.current,a=Lm(n,e.type);n!==a&&(Q(oe,e),Q(j,a))}function Ai(e){oe.current===e&&(B(j),B(oe)),Se.current===e&&(B(Se),pa._currentValue=fe)}var vl,Ca;function ln(e){if(vl===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vl=n&&n[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vl+e+Ca}var Sl=!1;function Tl(e,n){if(!e||Sl)return"";Sl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(G){var I=G}Reflect.construct(e,[],F)}else{try{F.call()}catch(G){I=G}e.call(F.prototype)}}else{try{throw Error()}catch(G){I=G}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(G){if(G&&I&&typeof G.stack=="string")return[G.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var C=S.split(`
`),D=_.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===D.length)for(s=C.length-1,d=D.length-1;1<=s&&0<=d&&C[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==D[d]){var V=`
`+C[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=d);break}}}finally{Sl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ln(a):""}function hs(e,n){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==n&&n!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Tl(e.type,!1);case 11:return Tl(e.type.render,!1);case 1:return Tl(e.type,!0);case 31:return ln("Activity");default:return""}}function ba(e){try{var n="",a=null;do n+=hs(e,a),a=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var El=Object.prototype.hasOwnProperty,kl=i.unstable_scheduleCallback,_l=i.unstable_cancelCallback,gs=i.unstable_shouldYield,xa=i.unstable_requestPaint,dt=i.unstable_now,Ra=i.unstable_getCurrentPriorityLevel,Al=i.unstable_ImmediatePriority,Cl=i.unstable_UserBlockingPriority,ae=i.unstable_NormalPriority,xe=i.unstable_LowPriority,Ye=i.unstable_IdlePriority,Ut=i.log,bl=i.unstable_setDisableYieldValue,Ci=null,$e=null;function ot(e){if(typeof Ut=="function"&&bl(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ci,e)}catch{}}var mt=Math.clz32?Math.clz32:my,Na=Math.log,dy=Math.LN2;function my(e){return e>>>=0,e===0?32:31-(Na(e)/dy|0)|0}var Ma=256,Da=262144,Ia=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wa(e,n,a){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~p,s!==0?d=ni(s):(S&=_,S!==0?d=ni(S):a||(a=_&~e,a!==0&&(d=ni(a))))):(_=s&~p,_!==0?d=ni(_):S!==0?d=ni(S):a||(a=s&~e,a!==0&&(d=ni(a)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:d}function xl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function py(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var e=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),e}function ys(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Rl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hy(e,n,a,s,d,p){var S=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(a=S&~a;0<a;){var V=31-mt(a),F=1<<V;_[V]=0,C[V]=-1;var I=D[V];if(I!==null)for(D[V]=null,V=0;V<I.length;V++){var G=I[V];G!==null&&(G.lane&=-536870913)}a&=~F}s!==0&&gc(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function gc(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-mt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function yc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var s=31-mt(a),d=1<<s;d&n|e[s]&n&&(e[s]|=n),a&=~d}}function vc(e,n){var a=n&-n;return a=(a&42)!==0?1:vs(a),(a&(e.suspendedLanes|n))!==0?0:a}function vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ss(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:ap(e.type))}function Tc(e,n){var a=Z.p;try{return Z.p=e,n()}finally{Z.p=a}}var xn=Math.random().toString(36).slice(2),st="__reactFiber$"+xn,St="__reactProps$"+xn,bi="__reactContainer$"+xn,Ts="__reactEvents$"+xn,gy="__reactListeners$"+xn,yy="__reactHandles$"+xn,Ec="__reactResources$"+xn,Nl="__reactMarker$"+xn;function Es(e){delete e[st],delete e[St],delete e[Ts],delete e[gy],delete e[yy]}function xi(e){var n=e[st];if(n)return n;for(var a=e.parentNode;a;){if(n=a[bi]||a[st]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Om(e);e!==null;){if(a=e[st])return a;e=Om(e)}return n}e=a,a=e.parentNode}return null}function Ri(e){if(e=e[st]||e[bi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ml(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Ni(e){var n=e[Ec];return n||(n=e[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Nl]=!0}var kc=new Set,_c={};function ii(e,n){Mi(e,n),Mi(e+"Capture",n)}function Mi(e,n){for(_c[e]=n,e=0;e<n.length;e++)kc.add(n[e])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Cc={};function Sy(e){return El.call(Cc,e)?!0:El.call(Ac,e)?!1:vy.test(e)?Cc[e]=!0:(Ac[e]=!0,!1)}function Ua(e,n,a){if(Sy(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function za(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function an(e,n,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+s)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ty(e,n,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){a=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ks(e){if(!e._valueTracker){var n=bc(e)?"checked":"value";e._valueTracker=Ty(e,n,""+e[n])}}function xc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return e&&(s=bc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(n.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ey=/[\n"\\]/g;function Lt(e){return e.replace(Ey,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _s(e,n,a,s,d,p,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?As(e,S,zt(n)):a!=null?As(e,S,zt(a)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+zt(_):e.removeAttribute("name")}function Rc(e,n,a,s,d,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){ks(e);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ks(e)}function As(e,n,a){n==="number"&&La(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Di(e,n,a,s){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&s&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nc(e,n,a){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+zt(a):""}function Mc(e,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(o(92));if(Ue(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=zt(n),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ks(e)}function Ii(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,a):typeof a!="number"||a===0||ky.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ic(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&a[d]!==s&&Dc(e,d,s)}else for(var p in n)n.hasOwnProperty(p)&&Dc(e,p,n[p])}function Cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(e){return Ay.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var bs=null;function xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ui=null;function wc(e){var n=Ri(e);if(n&&(e=n.stateNode)){var a=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(_s(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==e&&s.form===e.form){var d=s[St]||null;if(!d)throw Error(o(90));_s(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===e.form&&xc(s)}break e;case"textarea":Nc(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Di(e,!!a.multiple,n,!1)}}}var Rs=!1;function Uc(e,n,a){if(Rs)return e(n,a);Rs=!0;try{var s=e(n);return s}finally{if(Rs=!1,(wi!==null||Ui!==null)&&(Co(),wi&&(n=wi,e=Ui,Ui=wi=null,wc(n),e)))for(n=0;n<e.length;n++)wc(e[n])}}function Dl(e,n){var a=e.stateNode;if(a===null)return null;var s=a[St]||null;if(s===null)return null;a=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(sn)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Ns=!1}var Rn=null,Ms=null,Ha=null;function zc(){if(Ha)return Ha;var e,n=Ms,a=n.length,s,d="value"in Rn?Rn.value:Rn.textContent,p=d.length;for(e=0;e<a&&n[e]===d[e];e++);var S=a-e;for(s=1;s<=S&&n[a-s]===d[p-s];s++);return Ha=d.slice(e,1<s?1-s:void 0)}function Va(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ba(){return!0}function Lc(){return!1}function Tt(e){function n(a,s,d,p,S){this._reactName=a,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ba:Lc,this.isPropagationStopped=Lc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),n}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Tt(li),wl=T({},li,{view:0,detail:0}),Cy=Tt(wl),Ds,Is,Ul,Pa=T({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(Ds=e.screenX-Ul.screenX,Is=e.screenY-Ul.screenY):Is=Ds=0,Ul=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Is}}),Gc=Tt(Pa),by=T({},Pa,{dataTransfer:0}),xy=Tt(by),Ry=T({},wl,{relatedTarget:0}),ws=Tt(Ry),Ny=T({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),My=Tt(Ny),Dy=T({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iy=Tt(Dy),wy=T({},li,{data:0}),Hc=Tt(wy),Uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ly[e])?!!n[e]:!1}function Us(){return Gy}var Hy=T({},wl,{key:function(e){if(e.key){var n=Uy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?Va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vy=Tt(Hy),By=T({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=Tt(By),qy=T({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Py=Tt(qy),Oy=T({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fy=Tt(Oy),Yy=T({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=Tt(Yy),Ky=T({},li,{newState:0,oldState:0}),Xy=Tt(Ky),Qy=[9,13,27,32],zs=sn&&"CompositionEvent"in window,zl=null;sn&&"documentMode"in document&&(zl=document.documentMode);var Zy=sn&&"TextEvent"in window&&!zl,Bc=sn&&(!zs||zl&&8<zl&&11>=zl),qc=" ",Pc=!1;function Oc(e,n){switch(e){case"keyup":return Qy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function $y(e,n){switch(e){case"compositionend":return Fc(n);case"keypress":return n.which!==32?null:(Pc=!0,qc);case"textInput":return e=n.data,e===qc&&Pc?null:e;default:return null}}function Wy(e,n){if(zi)return e==="compositionend"||!zs&&Oc(e,n)?(e=zc(),Ha=Ms=Rn=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bc&&n.locale!=="ko"?null:n.data;default:return null}}var jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jy[e.type]:n==="textarea"}function Jc(e,n,a,s){wi?Ui?Ui.push(s):Ui=[s]:wi=s,n=Io(n,"onChange"),0<n.length&&(a=new qa("onChange","change",null,a,s),e.push({event:a,listeners:n}))}var Ll=null,Gl=null;function ev(e){Nm(e,0)}function Oa(e){var n=Ml(e);if(xc(n))return e}function Kc(e,n){if(e==="change")return n}var Xc=!1;if(sn){var Ls;if(sn){var Gs="oninput"in document;if(!Gs){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Gs=typeof Qc.oninput=="function"}Ls=Gs}else Ls=!1;Xc=Ls&&(!document.documentMode||9<document.documentMode)}function Zc(){Ll&&(Ll.detachEvent("onpropertychange",$c),Gl=Ll=null)}function $c(e){if(e.propertyName==="value"&&Oa(Gl)){var n=[];Jc(n,Gl,e,xs(e)),Uc(ev,n)}}function tv(e,n,a){e==="focusin"?(Zc(),Ll=n,Gl=a,Ll.attachEvent("onpropertychange",$c)):e==="focusout"&&Zc()}function nv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(Gl)}function iv(e,n){if(e==="click")return Oa(n)}function lv(e,n){if(e==="input"||e==="change")return Oa(n)}function av(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xt=typeof Object.is=="function"?Object.is:av;function Hl(e,n){if(xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var d=a[s];if(!El.call(n,d)||!xt(e[d],n[d]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,n){var a=Wc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=n&&s>=n)return{node:a,offset:n-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wc(a)}}function ef(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ef(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=La(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=La(e.document)}return n}function Hs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ov=sn&&"documentMode"in document&&11>=document.documentMode,Li=null,Vs=null,Vl=null,Bs=!1;function nf(e,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bs||Li==null||Li!==La(s)||(s=Li,"selectionStart"in s&&Hs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vl&&Hl(Vl,s)||(Vl=s,s=Io(Vs,"onSelect"),0<s.length&&(n=new qa("onSelect","select",null,n,a),e.push({event:n,listeners:s}),n.target=Li)))}function ai(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Gi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},qs={},lf={};sn&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function oi(e){if(qs[e])return qs[e];if(!Gi[e])return e;var n=Gi[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in lf)return qs[e]=n[a];return e}var af=oi("animationend"),of=oi("animationiteration"),sf=oi("animationstart"),sv=oi("transitionrun"),rv=oi("transitionstart"),uv=oi("transitioncancel"),rf=oi("transitionend"),uf=new Map,Ps="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ps.push("scrollEnd");function Kt(e,n){uf.set(e,n),ii(n,[e])}var Fa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Hi=0,Os=0;function Ya(){for(var e=Hi,n=Os=Hi=0;n<e;){var a=Gt[n];Gt[n++]=null;var s=Gt[n];Gt[n++]=null;var d=Gt[n];Gt[n++]=null;var p=Gt[n];if(Gt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}p!==0&&cf(a,d,p)}}function Ja(e,n,a,s){Gt[Hi++]=e,Gt[Hi++]=n,Gt[Hi++]=a,Gt[Hi++]=s,Os|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Fs(e,n,a,s){return Ja(e,n,a,s),Ka(e)}function si(e,n){return Ja(e,null,null,n),Ka(e)}function cf(e,n,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var d=!1,p=e.return;p!==null;)p.childLanes|=a,s=p.alternate,s!==null&&(s.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-mt(a),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=a|536870912),p):null}function Ka(e){if(50<sa)throw sa=0,jr=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vi={};function cv(e,n,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,a,s){return new cv(e,n,a,s)}function Ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,n){var a=e.alternate;return a===null?(a=Rt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ff(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xa(e,n,a,s,d,p){var S=0;if(s=e,typeof e=="function")Ys(e)&&(S=1);else if(typeof e=="string")S=h0(e,a,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case O:return e=Rt(31,a,n,d),e.elementType=O,e.lanes=p,e;case U:return ri(a.children,d,p,n);case w:S=8,d|=24;break;case P:return e=Rt(12,a,n,d|2),e.elementType=P,e.lanes=p,e;case ee:return e=Rt(13,a,n,d),e.elementType=ee,e.lanes=p,e;case ne:return e=Rt(19,a,n,d),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:S=10;break e;case X:S=9;break e;case J:S=11;break e;case L:S=14;break e;case z:S=16,s=null;break e}S=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return n=Rt(S,a,n,d),n.elementType=e,n.type=s,n.lanes=p,n}function ri(e,n,a,s){return e=Rt(7,e,s,n),e.lanes=a,e}function Js(e,n,a){return e=Rt(6,e,null,n),e.lanes=a,e}function df(e){var n=Rt(18,null,null,0);return n.stateNode=e,n}function Ks(e,n,a){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mf=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var a=mf.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ba(n)},mf.set(e,n),n)}return{value:e,source:n,stack:ba(n)}}var Bi=[],qi=0,Qa=null,Bl=0,Vt=[],Bt=0,Nn=null,jt=1,en="";function un(e,n){Bi[qi++]=Bl,Bi[qi++]=Qa,Qa=e,Bl=n}function pf(e,n,a){Vt[Bt++]=jt,Vt[Bt++]=en,Vt[Bt++]=Nn,Nn=e;var s=jt;e=en;var d=32-mt(s)-1;s&=~(1<<d),a+=1;var p=32-mt(n)+d;if(30<p){var S=d-d%5;p=(s&(1<<S)-1).toString(32),s>>=S,d-=S,jt=1<<32-mt(n)+d|a<<d|s,en=p+e}else jt=1<<p|a<<d|s,en=e}function Xs(e){e.return!==null&&(un(e,1),pf(e,1,0))}function Qs(e){for(;e===Qa;)Qa=Bi[--qi],Bi[qi]=null,Bl=Bi[--qi],Bi[qi]=null;for(;e===Nn;)Nn=Vt[--Bt],Vt[Bt]=null,en=Vt[--Bt],Vt[Bt]=null,jt=Vt[--Bt],Vt[Bt]=null}function hf(e,n){Vt[Bt++]=jt,Vt[Bt++]=en,Vt[Bt++]=Nn,jt=n.id,en=n.overflow,Nn=e}var rt=null,qe=null,Ce=!1,Mn=null,qt=!1,Zs=Error(o(519));function Dn(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Ht(n,e)),Zs}function gf(e){var n=e.stateNode,a=e.type,s=e.memoizedProps;switch(n[st]=e,n[St]=s,a){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<ua.length;a++)Ee(ua[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),Rc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),Mc(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||wm(n.textContent,a)?(s.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),s.onScroll!=null&&Ee("scroll",n),s.onScrollEnd!=null&&Ee("scrollend",n),s.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||Dn(e,!0)}function yf(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:rt=rt.return}}function Pi(e){if(e!==rt)return!1;if(!Ce)return yf(e),Ce=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pu(e.type,e.memoizedProps)),a=!a),a&&qe&&Dn(e),yf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));qe=Pm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));qe=Pm(e)}else n===27?(n=qe,Yn(e.type)?(e=Su,Su=null,qe=e):qe=n):qe=rt?Ot(e.stateNode.nextSibling):null;return!0}function ui(){qe=rt=null,Ce=!1}function $s(){var e=Mn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Mn=null),e}function ql(e){Mn===null?Mn=[e]:Mn.push(e)}var Ws=b(null),ci=null,cn=null;function In(e,n,a){Q(Ws,n._currentValue),n._currentValue=a}function fn(e){e._currentValue=Ws.current,B(Ws)}function js(e,n,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===a)break;e=e.return}}function er(e,n,a,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=d;for(var C=0;C<n.length;C++)if(_.context===n[C]){p.lanes|=a,_=p.alternate,_!==null&&(_.lanes|=a),js(p.return,a,e),s||(S=null);break e}p=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(o(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),js(S,a,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Oi(e,n,a,s){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var _=d.type;xt(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Se.current){if(S=d.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(pa):e=[pa])}d=d.return}e!==null&&er(n,e,a,s),n.flags|=262144}function Za(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fi(e){ci=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return vf(ci,e)}function $a(e,n){return ci===null&&fi(e),vf(e,n)}function vf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},cn===null){if(e===null)throw Error(o(308));cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cn=cn.next=n;return a}var fv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},dv=i.unstable_scheduleCallback,mv=i.unstable_NormalPriority,We={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tr(){return{controller:new fv,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&dv(mv,function(){e.controller.abort()})}var Ol=null,nr=0,Fi=0,Yi=null;function pv(e,n){if(Ol===null){var a=Ol=[];nr=0,Fi=au(),Yi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return nr++,n.then(Sf,Sf),n}function Sf(){if(--nr===0&&Ol!==null){Yi!==null&&(Yi.status="fulfilled");var e=Ol;Ol=null,Fi=0,Yi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hv(e,n){var a=[],s={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),s}var Tf=H.S;H.S=function(e,n){im=dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pv(e,n),Tf!==null&&Tf(e,n)};var di=b(null);function ir(){var e=di.current;return e!==null?e:Ve.pooledCache}function Wa(e,n){n===null?Q(di,di.current):Q(di,n.pool)}function Ef(){var e=ir();return e===null?null:{parent:We._currentValue,pool:e}}var Ji=Error(o(460)),lr=Error(o(474)),ja=Error(o(542)),eo={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _f(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(on,on),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cf(e),e;default:if(typeof n.status=="string")n.then(on,on);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cf(e),e}throw pi=n,Ji}}function mi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pi=a,Ji):a}}var pi=null;function Af(){if(pi===null)throw Error(o(459));var e=pi;return pi=null,e}function Cf(e){if(e===Ji||e===ja)throw Error(o(483))}var Ki=null,Fl=0;function to(e){var n=Fl;return Fl+=1,Ki===null&&(Ki=[]),_f(Ki,e,n)}function Yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function no(e,n){throw n.$$typeof===k?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function bf(e){function n(R,x){if(e){var M=R.deletions;M===null?(R.deletions=[x],R.flags|=16):M.push(x)}}function a(R,x){if(!e)return null;for(;x!==null;)n(R,x),x=x.sibling;return null}function s(R){for(var x=new Map;R!==null;)R.key!==null?x.set(R.key,R):x.set(R.index,R),R=R.sibling;return x}function d(R,x){return R=rn(R,x),R.index=0,R.sibling=null,R}function p(R,x,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<x?(R.flags|=67108866,x):M):(R.flags|=67108866,x)):(R.flags|=1048576,x)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,x,M,q){return x===null||x.tag!==6?(x=Js(M,R.mode,q),x.return=R,x):(x=d(x,M),x.return=R,x)}function C(R,x,M,q){var ue=M.type;return ue===U?V(R,x,M.props.children,q,M.key):x!==null&&(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===z&&mi(ue)===x.type)?(x=d(x,M.props),Yl(x,M),x.return=R,x):(x=Xa(M.type,M.key,M.props,null,R.mode,q),Yl(x,M),x.return=R,x)}function D(R,x,M,q){return x===null||x.tag!==4||x.stateNode.containerInfo!==M.containerInfo||x.stateNode.implementation!==M.implementation?(x=Ks(M,R.mode,q),x.return=R,x):(x=d(x,M.children||[]),x.return=R,x)}function V(R,x,M,q,ue){return x===null||x.tag!==7?(x=ri(M,R.mode,q,ue),x.return=R,x):(x=d(x,M),x.return=R,x)}function F(R,x,M){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Js(""+x,R.mode,M),x.return=R,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return M=Xa(x.type,x.key,x.props,null,R.mode,M),Yl(M,x),M.return=R,M;case N:return x=Ks(x,R.mode,M),x.return=R,x;case z:return x=mi(x),F(R,x,M)}if(Ue(x)||re(x))return x=ri(x,R.mode,M,null),x.return=R,x;if(typeof x.then=="function")return F(R,to(x),M);if(x.$$typeof===Y)return F(R,$a(R,x),M);no(R,x)}return null}function I(R,x,M,q){var ue=x!==null?x.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ue!==null?null:_(R,x,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return M.key===ue?C(R,x,M,q):null;case N:return M.key===ue?D(R,x,M,q):null;case z:return M=mi(M),I(R,x,M,q)}if(Ue(M)||re(M))return ue!==null?null:V(R,x,M,q,null);if(typeof M.then=="function")return I(R,x,to(M),q);if(M.$$typeof===Y)return I(R,x,$a(R,M),q);no(R,M)}return null}function G(R,x,M,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(M)||null,_(x,R,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return R=R.get(q.key===null?M:q.key)||null,C(x,R,q,ue);case N:return R=R.get(q.key===null?M:q.key)||null,D(x,R,q,ue);case z:return q=mi(q),G(R,x,M,q,ue)}if(Ue(q)||re(q))return R=R.get(M)||null,V(x,R,q,ue,null);if(typeof q.then=="function")return G(R,x,M,to(q),ue);if(q.$$typeof===Y)return G(R,x,M,$a(x,q),ue);no(x,q)}return null}function ie(R,x,M,q){for(var ue=null,Re=null,se=x,ve=x=0,_e=null;se!==null&&ve<M.length;ve++){se.index>ve?(_e=se,se=null):_e=se.sibling;var Ne=I(R,se,M[ve],q);if(Ne===null){se===null&&(se=_e);break}e&&se&&Ne.alternate===null&&n(R,se),x=p(Ne,x,ve),Re===null?ue=Ne:Re.sibling=Ne,Re=Ne,se=_e}if(ve===M.length)return a(R,se),Ce&&un(R,ve),ue;if(se===null){for(;ve<M.length;ve++)se=F(R,M[ve],q),se!==null&&(x=p(se,x,ve),Re===null?ue=se:Re.sibling=se,Re=se);return Ce&&un(R,ve),ue}for(se=s(se);ve<M.length;ve++)_e=G(se,R,ve,M[ve],q),_e!==null&&(e&&_e.alternate!==null&&se.delete(_e.key===null?ve:_e.key),x=p(_e,x,ve),Re===null?ue=_e:Re.sibling=_e,Re=_e);return e&&se.forEach(function(Zn){return n(R,Zn)}),Ce&&un(R,ve),ue}function de(R,x,M,q){if(M==null)throw Error(o(151));for(var ue=null,Re=null,se=x,ve=x=0,_e=null,Ne=M.next();se!==null&&!Ne.done;ve++,Ne=M.next()){se.index>ve?(_e=se,se=null):_e=se.sibling;var Zn=I(R,se,Ne.value,q);if(Zn===null){se===null&&(se=_e);break}e&&se&&Zn.alternate===null&&n(R,se),x=p(Zn,x,ve),Re===null?ue=Zn:Re.sibling=Zn,Re=Zn,se=_e}if(Ne.done)return a(R,se),Ce&&un(R,ve),ue;if(se===null){for(;!Ne.done;ve++,Ne=M.next())Ne=F(R,Ne.value,q),Ne!==null&&(x=p(Ne,x,ve),Re===null?ue=Ne:Re.sibling=Ne,Re=Ne);return Ce&&un(R,ve),ue}for(se=s(se);!Ne.done;ve++,Ne=M.next())Ne=G(se,R,ve,Ne.value,q),Ne!==null&&(e&&Ne.alternate!==null&&se.delete(Ne.key===null?ve:Ne.key),x=p(Ne,x,ve),Re===null?ue=Ne:Re.sibling=Ne,Re=Ne);return e&&se.forEach(function(b0){return n(R,b0)}),Ce&&un(R,ve),ue}function Ge(R,x,M,q){if(typeof M=="object"&&M!==null&&M.type===U&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case A:e:{for(var ue=M.key;x!==null;){if(x.key===ue){if(ue=M.type,ue===U){if(x.tag===7){a(R,x.sibling),q=d(x,M.props.children),q.return=R,R=q;break e}}else if(x.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===z&&mi(ue)===x.type){a(R,x.sibling),q=d(x,M.props),Yl(q,M),q.return=R,R=q;break e}a(R,x);break}else n(R,x);x=x.sibling}M.type===U?(q=ri(M.props.children,R.mode,q,M.key),q.return=R,R=q):(q=Xa(M.type,M.key,M.props,null,R.mode,q),Yl(q,M),q.return=R,R=q)}return S(R);case N:e:{for(ue=M.key;x!==null;){if(x.key===ue)if(x.tag===4&&x.stateNode.containerInfo===M.containerInfo&&x.stateNode.implementation===M.implementation){a(R,x.sibling),q=d(x,M.children||[]),q.return=R,R=q;break e}else{a(R,x);break}else n(R,x);x=x.sibling}q=Ks(M,R.mode,q),q.return=R,R=q}return S(R);case z:return M=mi(M),Ge(R,x,M,q)}if(Ue(M))return ie(R,x,M,q);if(re(M)){if(ue=re(M),typeof ue!="function")throw Error(o(150));return M=ue.call(M),de(R,x,M,q)}if(typeof M.then=="function")return Ge(R,x,to(M),q);if(M.$$typeof===Y)return Ge(R,x,$a(R,M),q);no(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,x!==null&&x.tag===6?(a(R,x.sibling),q=d(x,M),q.return=R,R=q):(a(R,x),q=Js(M,R.mode,q),q.return=R,R=q),S(R)):a(R,x)}return function(R,x,M,q){try{Fl=0;var ue=Ge(R,x,M,q);return Ki=null,ue}catch(se){if(se===Ji||se===ja)throw se;var Re=Rt(29,se,null,R.mode);return Re.lanes=q,Re.return=R,Re}finally{}}}var hi=bf(!0),xf=bf(!1),wn=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function or(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,n,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Ka(e),cf(e,null,a),n}return Ja(e,s,n,a),Ka(e)}function Jl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,yc(e,a)}}function sr(e,n){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?d=p=n:p=p.next=n}else d=p=n;a={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var rr=!1;function Kl(){if(rr){var e=Yi;if(e!==null)throw e}}function Xl(e,n,a,s){rr=!1;var d=e.updateQueue;wn=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var C=_,D=C.next;C.next=null,S===null?p=D:S.next=D,S=C;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==S&&(_===null?V.firstBaseUpdate=D:_.next=D,V.lastBaseUpdate=C))}if(p!==null){var F=d.baseState;S=0,V=D=C=null,_=p;do{var I=_.lane&-536870913,G=I!==_.lane;if(G?(ke&I)===I:(s&I)===I){I!==0&&I===Fi&&(rr=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,de=_;I=n;var Ge=a;switch(de.tag){case 1:if(ie=de.payload,typeof ie=="function"){F=ie.call(Ge,F,I);break e}F=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=de.payload,I=typeof ie=="function"?ie.call(Ge,F,I):ie,I==null)break e;F=T({},F,I);break e;case 2:wn=!0}}I=_.callback,I!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[I]:G.push(I))}else G={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(D=V=G,C=F):V=V.next=G,S|=I;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);V===null&&(C=F),d.baseState=C,d.firstBaseUpdate=D,d.lastBaseUpdate=V,p===null&&(d.shared.lanes=0),Bn|=S,e.lanes=S,e.memoizedState=F}}function Rf(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Nf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rf(a[e],n)}var Xi=b(null),io=b(0);function Mf(e,n){e=Tn,Q(io,e),Q(Xi,n),Tn=e|n.baseLanes}function ur(){Q(io,Tn),Q(Xi,Xi.current)}function cr(){Tn=io.current,B(Xi),B(io)}var Nt=b(null),Pt=null;function Ln(e){var n=e.alternate;Q(Xe,Xe.current&1),Q(Nt,e),Pt===null&&(n===null||Xi.current!==null||n.memoizedState!==null)&&(Pt=e)}function fr(e){Q(Xe,Xe.current),Q(Nt,e),Pt===null&&(Pt=e)}function Df(e){e.tag===22?(Q(Xe,Xe.current),Q(Nt,e),Pt===null&&(Pt=e)):Gn()}function Gn(){Q(Xe,Xe.current),Q(Nt,Nt.current)}function Mt(e){B(Nt),Pt===e&&(Pt=null),B(Xe)}var Xe=b(0);function lo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yu(a)||vu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var dn=0,ye=null,ze=null,je=null,ao=!1,Qi=!1,gi=!1,oo=0,Ql=0,Zi=null,gv=0;function Je(){throw Error(o(321))}function dr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!xt(e[a],n[a]))return!1;return!0}function mr(e,n,a,s,d,p){return dn=p,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?pd:Rr,gi=!1,p=a(s,d),gi=!1,Qi&&(p=wf(n,a,s,d)),If(e),p}function If(e){H.H=Wl;var n=ze!==null&&ze.next!==null;if(dn=0,je=ze=ye=null,ao=!1,Ql=0,Zi=null,n)throw Error(o(300));e===null||et||(e=e.dependencies,e!==null&&Za(e)&&(et=!0))}function wf(e,n,a,s){ye=e;var d=0;do{if(Qi&&(Zi=null),Ql=0,Qi=!1,25<=d)throw Error(o(301));if(d+=1,je=ze=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=hd,p=n(a,s)}while(Qi);return p}function yv(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Zl(n):n,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(ye.flags|=1024),n}function pr(){var e=oo!==0;return oo=0,e}function hr(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function gr(e){if(ao){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ao=!1}dn=0,je=ze=ye=null,Qi=!1,Ql=oo=0,Zi=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ye.memoizedState=je=e:je=je.next=e,je}function Qe(){if(ze===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var n=je===null?ye.memoizedState:je.next;if(n!==null)je=n,ze=e;else{if(e===null)throw ye.alternate===null?Error(o(467)):Error(o(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?ye.memoizedState=je=e:je=je.next=e}return je}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var n=Ql;return Ql+=1,Zi===null&&(Zi=[]),e=_f(Zi,e,n),n=ye,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?pd:Rr),e}function ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Y)return ut(e)}throw Error(o(438,String(e)))}function yr(e){var n=null,a=ye.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=so(),ye.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),s=0;s<e;s++)a[s]=W;return n.index++,a}function mn(e,n){return typeof n=="function"?n(e):n}function uo(e){var n=Qe();return vr(n,ze,e)}function vr(e,n,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var _=S=null,C=null,D=n,V=!1;do{var F=D.lane&-536870913;if(F!==D.lane?(ke&F)===F:(dn&F)===F){var I=D.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),F===Fi&&(V=!0);else if((dn&I)===I){D=D.next,I===Fi&&(V=!0);continue}else F={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=F,S=p):C=C.next=F,ye.lanes|=I,Bn|=I;F=D.action,gi&&a(p,F),p=D.hasEagerState?D.eagerState:a(p,F)}else I={lane:F,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(_=C=I,S=p):C=C.next=I,ye.lanes|=F,Bn|=F;D=D.next}while(D!==null&&D!==n);if(C===null?S=p:C.next=_,!xt(p,e.memoizedState)&&(et=!0,V&&(a=Yi,a!==null)))throw a;e.memoizedState=p,e.baseState=S,e.baseQueue=C,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Sr(e){var n=Qe(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,d=a.pending,p=n.memoizedState;if(d!==null){a.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);xt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,s]}function Uf(e,n,a){var s=ye,d=Qe(),p=Ce;if(p){if(a===void 0)throw Error(o(407));a=a()}else a=n();var S=!xt((ze||d).memoizedState,a);if(S&&(d.memoizedState=a,et=!0),d=d.queue,kr(Gf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,$i(9,{destroy:void 0},Lf.bind(null,s,d,a,n),null),Ve===null)throw Error(o(349));p||(dn&127)!==0||zf(s,n,a)}return a}function zf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ye.updateQueue,n===null?(n=so(),ye.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Lf(e,n,a,s){n.value=a,n.getSnapshot=s,Hf(n)&&Vf(e)}function Gf(e,n,a){return a(function(){Hf(n)&&Vf(e)})}function Hf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!xt(e,a)}catch{return!0}}function Vf(e){var n=si(e,2);n!==null&&Ct(n,e,2)}function Tr(e){var n=gt();if(typeof e=="function"){var a=e;if(e=a(),gi){ot(!0);try{a()}finally{ot(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},n}function Bf(e,n,a,s){return e.baseState=a,vr(e,ze,typeof s=="function"?s:mn)}function vv(e,n,a,s,d){if(mo(e))throw Error(o(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};H.T!==null?a(!0):p.isTransition=!1,s(p),a=n.pending,a===null?(p.next=n.pending=p,qf(n,p)):(p.next=a.next,n.pending=a.next=p)}}function qf(e,n){var a=n.action,s=n.payload,d=e.state;if(n.isTransition){var p=H.T,S={};H.T=S;try{var _=a(d,s),C=H.S;C!==null&&C(S,_),Pf(e,n,_)}catch(D){Er(e,n,D)}finally{p!==null&&S.types!==null&&(p.types=S.types),H.T=p}}else try{p=a(d,s),Pf(e,n,p)}catch(D){Er(e,n,D)}}function Pf(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Of(e,n,s)},function(s){return Er(e,n,s)}):Of(e,n,a)}function Of(e,n,a){n.status="fulfilled",n.value=a,Ff(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,qf(e,a)))}function Er(e,n,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,Ff(n),n=n.next;while(n!==s)}e.action=null}function Ff(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yf(e,n){return n}function Jf(e,n){if(Ce){var a=Ve.formState;if(a!==null){e:{var s=ye;if(Ce){if(qe){t:{for(var d=qe,p=qt;d.nodeType!==8;){if(!p){d=null;break t}if(d=Ot(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){qe=Ot(d.nextSibling),s=d.data==="F!";break e}}Dn(s)}s=!1}s&&(n=a[0])}}return a=gt(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:n},a.queue=s,a=fd.bind(null,ye,s),s.dispatch=a,s=Tr(!1),p=xr.bind(null,ye,!1,s.queue),s=gt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,a=vv.bind(null,ye,d,p,a),d.dispatch=a,s.memoizedState=e,[n,a,!1]}function Kf(e){var n=Qe();return Xf(n,ze,e)}function Xf(e,n,a){if(n=vr(e,n,Yf)[0],e=uo(mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Zl(n)}catch(S){throw S===Ji?ja:S}else s=n;n=Qe();var d=n.queue,p=d.dispatch;return a!==n.memoizedState&&(ye.flags|=2048,$i(9,{destroy:void 0},Sv.bind(null,d,a),null)),[s,p,e]}function Sv(e,n){e.action=n}function Qf(e){var n=Qe(),a=ze;if(a!==null)return Xf(n,a,e);Qe(),n=n.memoizedState,a=Qe();var s=a.queue.dispatch;return a.memoizedState=e,[n,s,!1]}function $i(e,n,a,s){return e={tag:e,create:a,deps:s,inst:n,next:null},n=ye.updateQueue,n===null&&(n=so(),ye.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,n.lastEffect=e),e}function Zf(){return Qe().memoizedState}function co(e,n,a,s){var d=gt();ye.flags|=e,d.memoizedState=$i(1|n,{destroy:void 0},a,s===void 0?null:s)}function fo(e,n,a,s){var d=Qe();s=s===void 0?null:s;var p=d.memoizedState.inst;ze!==null&&s!==null&&dr(s,ze.memoizedState.deps)?d.memoizedState=$i(n,p,a,s):(ye.flags|=e,d.memoizedState=$i(1|n,p,a,s))}function $f(e,n){co(8390656,8,e,n)}function kr(e,n){fo(2048,8,e,n)}function Tv(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=so(),ye.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Wf(e){var n=Qe().memoizedState;return Tv({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function jf(e,n){return fo(4,2,e,n)}function ed(e,n){return fo(4,4,e,n)}function td(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nd(e,n,a){a=a!=null?a.concat([e]):null,fo(4,4,td.bind(null,n,e),a)}function _r(){}function id(e,n){var a=Qe();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&dr(n,s[1])?s[0]:(a.memoizedState=[e,n],e)}function ld(e,n){var a=Qe();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&dr(n,s[1]))return s[0];if(s=e(),gi){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[s,n],s}function Ar(e,n,a){return a===void 0||(dn&1073741824)!==0&&(ke&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=am(),ye.lanes|=e,Bn|=e,a)}function ad(e,n,a,s){return xt(a,n)?a:Xi.current!==null?(e=Ar(e,a,s),xt(e,n)||(et=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(ke&261930)===0?(et=!0,e.memoizedState=a):(e=am(),ye.lanes|=e,Bn|=e,n)}function od(e,n,a,s,d){var p=Z.p;Z.p=p!==0&&8>p?p:8;var S=H.T,_={};H.T=_,xr(e,!1,n,a);try{var C=d(),D=H.S;if(D!==null&&D(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=hv(C,s);$l(e,n,V,wt(e))}else $l(e,n,s,wt(e))}catch(F){$l(e,n,{then:function(){},status:"rejected",reason:F},wt())}finally{Z.p=p,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function Ev(){}function Cr(e,n,a,s){if(e.tag!==5)throw Error(o(476));var d=sd(e).queue;od(e,d,n,fe,a===null?Ev:function(){return rd(e),a(s)})}function sd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rd(e){var n=sd(e);n.next===null&&(n=e.alternate.memoizedState),$l(e,n.next.queue,{},wt())}function br(){return ut(pa)}function ud(){return Qe().memoizedState}function cd(){return Qe().memoizedState}function kv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=wt();e=Un(a);var s=zn(n,e,a);s!==null&&(Ct(s,n,a),Jl(s,n,a)),n={cache:tr()},e.payload=n;return}n=n.return}}function _v(e,n,a){var s=wt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mo(e)?dd(n,a):(a=Fs(e,n,a,s),a!==null&&(Ct(a,e,s),md(a,n,s)))}function fd(e,n,a){var s=wt();$l(e,n,a,s)}function $l(e,n,a,s){var d={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mo(e))dd(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,_=p(S,a);if(d.hasEagerState=!0,d.eagerState=_,xt(_,S))return Ja(e,n,d,0),Ve===null&&Ya(),!1}catch{}finally{}if(a=Fs(e,n,d,s),a!==null)return Ct(a,e,s),md(a,n,s),!0}return!1}function xr(e,n,a,s){if(s={lane:2,revertLane:au(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(n)throw Error(o(479))}else n=Fs(e,a,s,2),n!==null&&Ct(n,e,2)}function mo(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function dd(e,n){Qi=ao=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function md(e,n,a){if((a&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,yc(e,a)}}var Wl={readContext:ut,use:ro,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Wl.useEffectEvent=Je;var pd={readContext:ut,use:ro,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:$f,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,co(4194308,4,td.bind(null,n,e),a)},useLayoutEffect:function(e,n){return co(4194308,4,e,n)},useInsertionEffect:function(e,n){co(4,2,e,n)},useMemo:function(e,n){var a=gt();n=n===void 0?null:n;var s=e();if(gi){ot(!0);try{e()}finally{ot(!1)}}return a.memoizedState=[s,n],s},useReducer:function(e,n,a){var s=gt();if(a!==void 0){var d=a(n);if(gi){ot(!0);try{a(n)}finally{ot(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=_v.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=Tr(e);var n=e.queue,a=fd.bind(null,ye,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:_r,useDeferredValue:function(e,n){var a=gt();return Ar(a,e,n)},useTransition:function(){var e=Tr(!1);return e=od.bind(null,ye,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var s=ye,d=gt();if(Ce){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Ve===null)throw Error(o(349));(ke&127)!==0||zf(s,n,a)}d.memoizedState=a;var p={value:a,getSnapshot:n};return d.queue=p,$f(Gf.bind(null,s,p,e),[e]),s.flags|=2048,$i(9,{destroy:void 0},Lf.bind(null,s,p,a,n),null),a},useId:function(){var e=gt(),n=Ve.identifierPrefix;if(Ce){var a=en,s=jt;a=(s&~(1<<32-mt(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=oo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=gv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:br,useFormState:Jf,useActionState:Jf,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xr.bind(null,ye,!0,a),a.dispatch=n,[e,n]},useMemoCache:yr,useCacheRefresh:function(){return gt().memoizedState=kv.bind(null,ye)},useEffectEvent:function(e){var n=gt(),a={impl:e};return n.memoizedState=a,function(){if((De&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Rr={readContext:ut,use:ro,useCallback:id,useContext:ut,useEffect:kr,useImperativeHandle:nd,useInsertionEffect:jf,useLayoutEffect:ed,useMemo:ld,useReducer:uo,useRef:Zf,useState:function(){return uo(mn)},useDebugValue:_r,useDeferredValue:function(e,n){var a=Qe();return ad(a,ze.memoizedState,e,n)},useTransition:function(){var e=uo(mn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Zl(e),n]},useSyncExternalStore:Uf,useId:ud,useHostTransitionStatus:br,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,n){var a=Qe();return Bf(a,ze,e,n)},useMemoCache:yr,useCacheRefresh:cd};Rr.useEffectEvent=Wf;var hd={readContext:ut,use:ro,useCallback:id,useContext:ut,useEffect:kr,useImperativeHandle:nd,useInsertionEffect:jf,useLayoutEffect:ed,useMemo:ld,useReducer:Sr,useRef:Zf,useState:function(){return Sr(mn)},useDebugValue:_r,useDeferredValue:function(e,n){var a=Qe();return ze===null?Ar(a,e,n):ad(a,ze.memoizedState,e,n)},useTransition:function(){var e=Sr(mn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Zl(e),n]},useSyncExternalStore:Uf,useId:ud,useHostTransitionStatus:br,useFormState:Qf,useActionState:Qf,useOptimistic:function(e,n){var a=Qe();return ze!==null?Bf(a,ze,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yr,useCacheRefresh:cd};hd.useEffectEvent=Wf;function Nr(e,n,a,s){n=e.memoizedState,a=a(s,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mr={enqueueSetState:function(e,n,a){e=e._reactInternals;var s=wt(),d=Un(s);d.payload=n,a!=null&&(d.callback=a),n=zn(e,d,s),n!==null&&(Ct(n,e,s),Jl(n,e,s))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var s=wt(),d=Un(s);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=zn(e,d,s),n!==null&&(Ct(n,e,s),Jl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=wt(),s=Un(a);s.tag=2,n!=null&&(s.callback=n),n=zn(e,s,a),n!==null&&(Ct(n,e,a),Jl(n,e,a))}};function gd(e,n,a,s,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!Hl(a,s)||!Hl(d,p):!0}function yd(e,n,a,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==e&&Mr.enqueueReplaceState(n,n.state,null)}function yi(e,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function vd(e){Fa(e)}function Sd(e){console.error(e)}function Td(e){Fa(e)}function po(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Ed(e,n,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dr(e,n,a){return a=Un(a),a.tag=3,a.payload={element:null},a.callback=function(){po(e,n)},a}function kd(e){return e=Un(e),e.tag=3,e}function _d(e,n,a,s){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){Ed(n,a,s)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Ed(n,a,s),typeof d!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Av(e,n,a,s,d){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&Oi(n,a,d,!0),a=Nt.current,a!==null){switch(a.tag){case 31:case 13:return Pt===null?bo():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=d,s===eo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),nu(e,s,d)),!1;case 22:return a.flags|=65536,s===eo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),nu(e,s,d)),!1}throw Error(o(435,a.tag))}return nu(e,s,d),bo(),!1}if(Ce)return n=Nt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Zs&&(e=Error(o(422),{cause:s}),ql(Ht(e,a)))):(s!==Zs&&(n=Error(o(423),{cause:s}),ql(Ht(n,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Ht(s,a),d=Dr(e.stateNode,s,d),sr(e,d),Ke!==4&&(Ke=2)),!1;var p=Error(o(520),{cause:s});if(p=Ht(p,a),oa===null?oa=[p]:oa.push(p),Ke!==4&&(Ke=2),n===null)return!0;s=Ht(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=Dr(a.stateNode,s,e),sr(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(qn===null||!qn.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=kd(d),_d(d,e,a,s),sr(a,d),!1}a=a.return}while(a!==null);return!1}var Ir=Error(o(461)),et=!1;function ct(e,n,a,s){n.child=e===null?xf(n,null,a,s):hi(n,e.child,a,s)}function Ad(e,n,a,s,d){a=a.render;var p=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return fi(n),s=mr(e,n,a,S,p,d),_=pr(),e!==null&&!et?(hr(e,n,d),pn(e,n,d)):(Ce&&_&&Xs(n),n.flags|=1,ct(e,n,s,d),n.child)}function Cd(e,n,a,s,d){if(e===null){var p=a.type;return typeof p=="function"&&!Ys(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,bd(e,n,p,s,d)):(e=Xa(a.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Br(e,d)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(S,s)&&e.ref===n.ref)return pn(e,n,d)}return n.flags|=1,e=rn(p,s),e.ref=n.ref,e.return=n,n.child=e}function bd(e,n,a,s,d){if(e!==null){var p=e.memoizedProps;if(Hl(p,s)&&e.ref===n.ref)if(et=!1,n.pendingProps=s=p,Br(e,d))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,pn(e,n,d)}return wr(e,n,a,s,d)}function xd(e,n,a,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,n.child=null;return Rd(e,n,p,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wa(n,p!==null?p.cachePool:null),p!==null?Mf(n,p):ur(),Df(n);else return s=n.lanes=536870912,Rd(e,n,p!==null?p.baseLanes|a:a,a,s)}else p!==null?(Wa(n,p.cachePool),Mf(n,p),Gn(),n.memoizedState=null):(e!==null&&Wa(n,null),ur(),Gn());return ct(e,n,d,a),n.child}function jl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Rd(e,n,a,s,d){var p=ir();return p=p===null?null:{parent:We._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},e!==null&&Wa(n,null),ur(),Df(n),e!==null&&Oi(e,n,s,!0),n.childLanes=d,null}function ho(e,n){return n=yo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Nd(e,n,a){return hi(n,e.child,null,a),e=ho(n,n.pendingProps),e.flags|=2,Mt(n),n.memoizedState=null,e}function Cv(e,n,a){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ce){if(s.mode==="hidden")return e=ho(n,s),n.lanes=536870912,jl(null,e);if(fr(n),(e=qe)?(e=qm(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},a=df(e),a.return=n,n.child=a,rt=n,qe=null)):e=null,e===null)throw Dn(n);return n.lanes=536870912,null}return ho(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(fr(n),d)if(n.flags&256)n.flags&=-257,n=Nd(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(et||Oi(e,n,a,!1),d=(a&e.childLanes)!==0,et||d){if(s=Ve,s!==null&&(S=vc(s,a),S!==0&&S!==p.retryLane))throw p.retryLane=S,si(e,S),Ct(s,e,S),Ir;bo(),n=Nd(e,n,a)}else e=p.treeContext,qe=Ot(S.nextSibling),rt=n,Ce=!0,Mn=null,qt=!1,e!==null&&hf(n,e),n=ho(n,s),n.flags|=4096;return n}return e=rn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function go(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function wr(e,n,a,s,d){return fi(n),a=mr(e,n,a,s,void 0,d),s=pr(),e!==null&&!et?(hr(e,n,d),pn(e,n,d)):(Ce&&s&&Xs(n),n.flags|=1,ct(e,n,a,d),n.child)}function Md(e,n,a,s,d,p){return fi(n),n.updateQueue=null,a=wf(n,s,a,d),If(e),s=pr(),e!==null&&!et?(hr(e,n,p),pn(e,n,p)):(Ce&&s&&Xs(n),n.flags|=1,ct(e,n,a,p),n.child)}function Dd(e,n,a,s,d){if(fi(n),n.stateNode===null){var p=Vi,S=a.contextType;typeof S=="object"&&S!==null&&(p=ut(S)),p=new a(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Mr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},ar(n),S=a.contextType,p.context=typeof S=="object"&&S!==null?ut(S):Vi,p.state=n.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Nr(n,a,S,s),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Mr.enqueueReplaceState(p,p.state,null),Xl(n,s,p,d),Kl(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var _=n.memoizedProps,C=yi(a,_);p.props=C;var D=p.context,V=a.contextType;S=Vi,typeof V=="object"&&V!==null&&(S=ut(V));var F=a.getDerivedStateFromProps;V=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||D!==S)&&yd(n,p,s,S),wn=!1;var I=n.memoizedState;p.state=I,Xl(n,s,p,d),Kl(),D=n.memoizedState,_||I!==D||wn?(typeof F=="function"&&(Nr(n,a,F,s),D=n.memoizedState),(C=wn||gd(n,a,C,s,I,D,S))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),p.props=s,p.state=D,p.context=S,s=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,or(e,n),S=n.memoizedProps,V=yi(a,S),p.props=V,F=n.pendingProps,I=p.context,D=a.contextType,C=Vi,typeof D=="object"&&D!==null&&(C=ut(D)),_=a.getDerivedStateFromProps,(D=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==F||I!==C)&&yd(n,p,s,C),wn=!1,I=n.memoizedState,p.state=I,Xl(n,s,p,d),Kl();var G=n.memoizedState;S!==F||I!==G||wn||e!==null&&e.dependencies!==null&&Za(e.dependencies)?(typeof _=="function"&&(Nr(n,a,_,s),G=n.memoizedState),(V=wn||gd(n,a,V,s,I,G,C)||e!==null&&e.dependencies!==null&&Za(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,G,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,G,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),p.props=s,p.state=G,p.context=C,s=V):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,go(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=hi(n,e.child,null,d),n.child=hi(n,null,a,d)):ct(e,n,a,d),n.memoizedState=p.state,e=n.child):e=pn(e,n,d),e}function Id(e,n,a,s){return ui(),n.flags|=256,ct(e,n,a,s),n.child}var Ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zr(e){return{baseLanes:e,cachePool:Ef()}}function Lr(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=It),e}function wd(e,n,a){var s=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ce){if(d?Ln(n):Gn(),(e=qe)?(e=qm(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},a=df(e),a.return=n,n.child=a,rt=n,qe=null)):e=null,e===null)throw Dn(n);return vu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Gn(),d=n.mode,_=yo({mode:"hidden",children:_},d),s=ri(s,d,a,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=zr(a),s.childLanes=Lr(e,S,a),n.memoizedState=Ur,jl(null,s)):(Ln(n),Gr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(p)n.flags&256?(Ln(n),n.flags&=-257,n=Hr(e,n,a)):n.memoizedState!==null?(Gn(),n.child=e.child,n.flags|=128,n=null):(Gn(),_=s.fallback,d=n.mode,s=yo({mode:"visible",children:s.children},d),_=ri(_,d,a,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,hi(n,e.child,null,a),s=n.child,s.memoizedState=zr(a),s.childLanes=Lr(e,S,a),n.memoizedState=Ur,n=jl(null,s));else if(Ln(n),vu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(o(419)),s.stack="",s.digest=S,ql({value:s,source:null,stack:null}),n=Hr(e,n,a)}else if(et||Oi(e,n,a,!1),S=(a&e.childLanes)!==0,et||S){if(S=Ve,S!==null&&(s=vc(S,a),s!==0&&s!==C.retryLane))throw C.retryLane=s,si(e,s),Ct(S,e,s),Ir;yu(_)||bo(),n=Hr(e,n,a)}else yu(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,qe=Ot(_.nextSibling),rt=n,Ce=!0,Mn=null,qt=!1,e!==null&&hf(n,e),n=Gr(n,s.children),n.flags|=4096);return n}return d?(Gn(),_=s.fallback,d=n.mode,C=e.child,D=C.sibling,s=rn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,D!==null?_=rn(D,_):(_=ri(_,d,a,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,jl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=zr(a):(d=_.cachePool,d!==null?(C=We._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Ef(),_={baseLanes:_.baseLanes|a,cachePool:d}),s.memoizedState=_,s.childLanes=Lr(e,S,a),n.memoizedState=Ur,jl(e.child,s)):(Ln(n),a=e.child,e=a.sibling,a=rn(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=a,n.memoizedState=null,a)}function Gr(e,n){return n=yo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yo(e,n){return e=Rt(22,e,null,n),e.lanes=0,e}function Hr(e,n,a){return hi(n,e.child,null,a),e=Gr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ud(e,n,a){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),js(e.return,n,a)}function Vr(e,n,a,s,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:d,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=a,S.tailMode=d,S.treeForkCount=p)}function zd(e,n,a){var s=n.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var S=Xe.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,Q(Xe,S),ct(e,n,s,a),s=Ce?Bl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ud(e,a,n);else if(e.tag===19)Ud(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&lo(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),Vr(n,!1,d,a,p,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&lo(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Vr(n,!0,a,null,p,s);break;case"together":Vr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function pn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Bn|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Oi(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=rn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=rn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Br(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Za(e)))}function bv(e,n,a){switch(n.tag){case 3:Ze(n,n.stateNode.containerInfo),In(n,We,e.memoizedState.cache),ui();break;case 27:case 5:ti(n);break;case 4:Ze(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Ln(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wd(e,n,a):(Ln(n),e=pn(e,n,a),e!==null?e.sibling:null);Ln(n);break;case 19:var d=(e.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(Oi(e,n,a,!1),s=(a&n.childLanes)!==0),d){if(s)return zd(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(Xe,Xe.current),s)break;return null;case 22:return n.lanes=0,xd(e,n,a,n.pendingProps);case 24:In(n,We,e.memoizedState.cache)}return pn(e,n,a)}function Ld(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Br(e,a)&&(n.flags&128)===0)return et=!1,bv(e,n,a);et=(e.flags&131072)!==0}else et=!1,Ce&&(n.flags&1048576)!==0&&pf(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=mi(n.elementType),n.type=e,typeof e=="function")Ys(e)?(s=yi(e,s),n.tag=1,n=Dd(null,n,e,s,a)):(n.tag=0,n=wr(null,n,e,s,a));else{if(e!=null){var d=e.$$typeof;if(d===J){n.tag=11,n=Ad(null,n,e,s,a);break e}else if(d===L){n.tag=14,n=Cd(null,n,e,s,a);break e}}throw n=Ae(e)||e,Error(o(306,n,""))}}return n;case 0:return wr(e,n,n.type,n.pendingProps,a);case 1:return s=n.type,d=yi(s,n.pendingProps),Dd(e,n,s,d,a);case 3:e:{if(Ze(n,n.stateNode.containerInfo),e===null)throw Error(o(387));s=n.pendingProps;var p=n.memoizedState;d=p.element,or(e,n),Xl(n,s,null,a);var S=n.memoizedState;if(s=S.cache,In(n,We,s),s!==p.cache&&er(n,[We],a,!0),Kl(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Id(e,n,s,a);break e}else if(s!==d){d=Ht(Error(o(424)),n),ql(d),n=Id(e,n,s,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Ot(e.firstChild),rt=n,Ce=!0,Mn=null,qt=!0,a=xf(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ui(),s===d){n=pn(e,n,a);break e}ct(e,n,s,a)}n=n.child}return n;case 26:return go(e,n),e===null?(a=Km(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ce||(a=n.type,e=n.pendingProps,s=wo(ce.current).createElement(a),s[st]=n,s[St]=e,ft(s,a,e),it(s),n.stateNode=s):n.memoizedState=Km(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ti(n),e===null&&Ce&&(s=n.stateNode=Fm(n.type,n.pendingProps,ce.current),rt=n,qt=!0,d=qe,Yn(n.type)?(Su=d,qe=Ot(s.firstChild)):qe=d),ct(e,n,n.pendingProps.children,a),go(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ce&&((d=s=qe)&&(s=n0(s,n.type,n.pendingProps,qt),s!==null?(n.stateNode=s,rt=n,qe=Ot(s.firstChild),qt=!1,d=!0):d=!1),d||Dn(n)),ti(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,pu(d,p)?s=null:S!==null&&pu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=mr(e,n,yv,null,null,a),pa._currentValue=d),go(e,n),ct(e,n,s,a),n.child;case 6:return e===null&&Ce&&((e=a=qe)&&(a=i0(a,n.pendingProps,qt),a!==null?(n.stateNode=a,rt=n,qe=null,e=!0):e=!1),e||Dn(n)),null;case 13:return wd(e,n,a);case 4:return Ze(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=hi(n,null,s,a):ct(e,n,s,a),n.child;case 11:return Ad(e,n,n.type,n.pendingProps,a);case 7:return ct(e,n,n.pendingProps,a),n.child;case 8:return ct(e,n,n.pendingProps.children,a),n.child;case 12:return ct(e,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,In(n,n.type,s.value),ct(e,n,s.children,a),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,fi(n),d=ut(d),s=s(d),n.flags|=1,ct(e,n,s,a),n.child;case 14:return Cd(e,n,n.type,n.pendingProps,a);case 15:return bd(e,n,n.type,n.pendingProps,a);case 19:return zd(e,n,a);case 31:return Cv(e,n,a);case 22:return xd(e,n,a,n.pendingProps);case 24:return fi(n),s=ut(We),e===null?(d=ir(),d===null&&(d=Ve,p=tr(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),n.memoizedState={parent:s,cache:d},ar(n),In(n,We,d)):((e.lanes&a)!==0&&(or(e,n),Xl(n,null,null,a),Kl()),d=e.memoizedState,p=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),In(n,We,s)):(s=p.cache,In(n,We,s),s!==d.cache&&er(n,[We],a,!0))),ct(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function hn(e){e.flags|=4}function qr(e,n,a,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(um())e.flags|=8192;else throw pi=eo,lr}else e.flags&=-16777217}function Gd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(n))if(um())e.flags|=8192;else throw pi=eo,lr}function vo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?hc():536870912,e.lanes|=n,tl|=n)}function ea(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=a,n}function xv(e,n,a){var s=n.pendingProps;switch(Qs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return a=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fn(We),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pi(n)?hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$s())),Pe(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(hn(n),p!==null?(Pe(n),Gd(n,p)):(Pe(n),qr(n,d,null,s,a))):p?p!==e.memoizedState?(hn(n),Pe(n),Gd(n,p)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&hn(n),Pe(n),qr(n,d,e,s,a)),null;case 27:if(Ai(n),a=ce.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return Pe(n),null}e=j.current,Pi(n)?gf(n):(e=Fm(d,s,a),n.stateNode=e,hn(n))}return Pe(n),null;case 5:if(Ai(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return Pe(n),null}if(p=j.current,Pi(n))gf(n);else{var S=wo(ce.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}p[st]=n,p[St]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(ft(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hn(n)}}return Pe(n),qr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(e=ce.current,Pi(n)){if(e=n.stateNode,a=n.memoizedProps,s=null,d=rt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[st]=n,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||wm(e.nodeValue,a)),e||Dn(n,!0)}else e=wo(e).createTextNode(s),e[st]=n,n.stateNode=e}return Pe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(s=Pi(n),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[st]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else a=$s(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Mt(n),n):(Mt(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Pe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Pi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[st]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),d=!1}else d=$s(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Mt(n),n):(Mt(n),null)}return Mt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),vo(n,n.updateQueue),Pe(n),null);case 4:return Be(),e===null&&uu(n.stateNode.containerInfo),Pe(n),null;case 10:return fn(n.type),Pe(n),null;case 19:if(B(Xe),s=n.memoizedState,s===null)return Pe(n),null;if(d=(n.flags&128)!==0,p=s.rendering,p===null)if(d)ea(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=lo(e),p!==null){for(n.flags|=128,ea(s,!1),e=p.updateQueue,n.updateQueue=e,vo(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ff(a,e),a=a.sibling;return Q(Xe,Xe.current&1|2),Ce&&un(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&dt()>_o&&(n.flags|=128,d=!0,ea(s,!1),n.lanes=4194304)}else{if(!d)if(e=lo(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,vo(n,e),ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Ce)return Pe(n),null}else 2*dt()-s.renderingStartTime>_o&&a!==536870912&&(n.flags|=128,d=!0,ea(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,a=Xe.current,Q(Xe,d?a&1|2:a&1),Ce&&un(n,s.treeForkCount),e):(Pe(n),null);case 22:case 23:return Mt(n),cr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),a=n.updateQueue,a!==null&&vo(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),e!==null&&B(di),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),fn(We),Pe(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Rv(e,n){switch(Qs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fn(We),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ai(n),null;case 31:if(n.memoizedState!==null){if(Mt(n),n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Xe),null;case 4:return Be(),null;case 10:return fn(n.type),null;case 22:case 23:return Mt(n),cr(),e!==null&&B(di),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fn(We),null;case 25:return null;default:return null}}function Hd(e,n){switch(Qs(n),n.tag){case 3:fn(We),Be();break;case 26:case 27:case 5:Ai(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&Mt(n);break;case 13:Mt(n);break;case 19:B(Xe);break;case 10:fn(n.type);break;case 22:case 23:Mt(n),cr(),e!==null&&B(di);break;case 24:fn(We)}}function ta(e,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var d=s.next;a=d;do{if((a.tag&e)===e){s=void 0;var p=a.create,S=a.inst;s=p(),S.destroy=s}a=a.next}while(a!==d)}}catch(_){we(n,n.return,_)}}function Hn(e,n,a){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var C=a,D=_;try{D()}catch(V){we(d,C,V)}}}s=s.next}while(s!==p)}}catch(V){we(n,n.return,V)}}function Vd(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Nf(n,a)}catch(s){we(e,e.return,s)}}}function Bd(e,n,a){a.props=yi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){we(e,n,s)}}function na(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(d){we(e,n,d)}}function tn(e,n){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(d){we(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){we(e,n,d)}else a.current=null}function qd(e){var n=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(d){we(e,e.return,d)}}function Pr(e,n,a){try{var s=e.stateNode;Zv(s,e.type,a,n),s[St]=n}catch(d){we(e,e.return,d)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function Or(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fr(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=on));else if(s!==4&&(s===27&&Yn(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Fr(e,n,a),e=e.sibling;e!==null;)Fr(e,n,a),e=e.sibling}function So(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(s!==4&&(s===27&&Yn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(So(e,n,a),e=e.sibling;e!==null;)So(e,n,a),e=e.sibling}function Od(e){var n=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ft(n,s,a),n[st]=e,n[St]=a}catch(p){we(e,e.return,p)}}var gn=!1,tt=!1,Yr=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Nv(e,n){if(e=e.containerInfo,du=Bo,e=tf(e),Hs(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,_=-1,C=-1,D=0,V=0,F=e,I=null;t:for(;;){for(var G;F!==a||d!==0&&F.nodeType!==3||(_=S+d),F!==p||s!==0&&F.nodeType!==3||(C=S+s),F.nodeType===3&&(S+=F.nodeValue.length),(G=F.firstChild)!==null;)I=F,F=G;for(;;){if(F===e)break t;if(I===a&&++D===d&&(_=S),I===p&&++V===s&&(C=S),(G=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=G}a=_===-1||C===-1?null:{start:_,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(mu={focusedElem:e,selectionRange:a},Bo=!1,lt=n;lt!==null;)if(n=lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,lt=e;else for(;lt!==null;){switch(n=lt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,d=p.memoizedProps,p=p.memoizedState,s=a.stateNode;try{var ie=yi(a.type,d);e=s.getSnapshotBeforeUpdate(ie,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){we(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)gu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,lt=e;break}lt=n.return}}function Yd(e,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:vn(e,a),s&4&&ta(5,a);break;case 1:if(vn(e,a),s&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(S){we(a,a.return,S)}else{var d=yi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){we(a,a.return,S)}}s&64&&Vd(a),s&512&&na(a,a.return);break;case 3:if(vn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Nf(e,n)}catch(S){we(a,a.return,S)}}break;case 27:n===null&&s&4&&Od(a);case 26:case 5:vn(e,a),n===null&&s&4&&qd(a),s&512&&na(a,a.return);break;case 12:vn(e,a);break;case 31:vn(e,a),s&4&&Xd(e,a);break;case 13:vn(e,a),s&4&&Qd(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Hv.bind(null,a),l0(e,a))));break;case 22:if(s=a.memoizedState!==null||gn,!s){n=n!==null&&n.memoizedState!==null||tt,d=gn;var p=tt;gn=s,(tt=n)&&!p?Sn(e,a,(a.subtreeFlags&8772)!==0):vn(e,a),gn=d,tt=p}break;case 30:break;default:vn(e,a)}}function Jd(e){var n=e.alternate;n!==null&&(e.alternate=null,Jd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Es(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,Et=!1;function yn(e,n,a){for(a=a.child;a!==null;)Kd(e,n,a),a=a.sibling}function Kd(e,n,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 26:tt||tn(a,n),yn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||tn(a,n);var s=Oe,d=Et;Yn(a.type)&&(Oe=a.stateNode,Et=!1),yn(e,n,a),fa(a.stateNode),Oe=s,Et=d;break;case 5:tt||tn(a,n);case 6:if(s=Oe,d=Et,Oe=null,yn(e,n,a),Oe=s,Et=d,Oe!==null)if(Et)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(p){we(a,n,p)}else try{Oe.removeChild(a.stateNode)}catch(p){we(a,n,p)}break;case 18:Oe!==null&&(Et?(e=Oe,Vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ul(e)):Vm(Oe,a.stateNode));break;case 4:s=Oe,d=Et,Oe=a.stateNode.containerInfo,Et=!0,yn(e,n,a),Oe=s,Et=d;break;case 0:case 11:case 14:case 15:Hn(2,a,n),tt||Hn(4,a,n),yn(e,n,a);break;case 1:tt||(tn(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Bd(a,n,s)),yn(e,n,a);break;case 21:yn(e,n,a);break;case 22:tt=(s=tt)||a.memoizedState!==null,yn(e,n,a),tt=s;break;default:yn(e,n,a)}}function Xd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ul(e)}catch(a){we(n,n.return,a)}}}function Qd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){we(n,n.return,a)}}function Mv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fd),n;default:throw Error(o(435,e.tag))}}function To(e,n){var a=Mv(e);n.forEach(function(s){if(!a.has(s)){a.add(s);var d=Vv.bind(null,e,s);s.then(d,d)}})}function kt(e,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var d=a[s],p=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Yn(_.type)){Oe=_.stateNode,Et=!1;break e}break;case 5:Oe=_.stateNode,Et=!1;break e;case 3:case 4:Oe=_.stateNode.containerInfo,Et=!0;break e}_=_.return}if(Oe===null)throw Error(o(160));Kd(p,S,d),Oe=null,Et=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zd(n,e),n=n.sibling}var Xt=null;function Zd(e,n){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(n,e),_t(e),s&4&&(Hn(3,e,e.return),ta(3,e),Hn(5,e,e.return));break;case 1:kt(n,e),_t(e),s&512&&(tt||a===null||tn(a,a.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var d=Xt;if(kt(n,e),_t(e),s&512&&(tt||a===null||tn(a,a.return)),s&4){var p=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Nl]||p[st]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),ft(p,s,a),p[st]=e,it(p),s=p;break e;case"link":var S=Zm("link","href",d).get(s+(a.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(_,1);break t}}p=d.createElement(s),ft(p,s,a),d.head.appendChild(p);break;case"meta":if(S=Zm("meta","content",d).get(s+(a.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(_,1);break t}}p=d.createElement(s),ft(p,s,a),d.head.appendChild(p);break;default:throw Error(o(468,s))}p[st]=e,it(p),s=p}e.stateNode=s}else $m(d,e.type,e.stateNode);else e.stateNode=Qm(d,s,e.memoizedProps);else p!==s?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,s===null?$m(d,e.type,e.stateNode):Qm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Pr(e,e.memoizedProps,a.memoizedProps)}break;case 27:kt(n,e),_t(e),s&512&&(tt||a===null||tn(a,a.return)),a!==null&&s&4&&Pr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(kt(n,e),_t(e),s&512&&(tt||a===null||tn(a,a.return)),e.flags&32){d=e.stateNode;try{Ii(d,"")}catch(ie){we(e,e.return,ie)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Pr(e,d,a!==null?a.memoizedProps:d)),s&1024&&(Yr=!0);break;case 6:if(kt(n,e),_t(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ie){we(e,e.return,ie)}}break;case 3:if(Lo=null,d=Xt,Xt=Uo(n.containerInfo),kt(n,e),Xt=d,_t(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(ie){we(e,e.return,ie)}Yr&&(Yr=!1,$d(e));break;case 4:s=Xt,Xt=Uo(e.stateNode.containerInfo),kt(n,e),_t(e),Xt=s;break;case 12:kt(n,e),_t(e);break;case 31:kt(n,e),_t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,To(e,s)));break;case 13:kt(n,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ko=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,To(e,s)));break;case 22:d=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,D=gn,V=tt;if(gn=D||d,tt=V||C,kt(n,e),tt=V,gn=D,_t(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||C||gn||tt||vi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(p=C.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=C.stateNode;var F=C.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ie){we(C,C.return,ie)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ie){we(C,C.return,ie)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;d?Bm(G,!0):Bm(C.stateNode,!1)}catch(ie){we(C,C.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,To(e,a))));break;case 19:kt(n,e),_t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,To(e,s)));break;case 30:break;case 21:break;default:kt(n,e),_t(e)}}function _t(e){var n=e.flags;if(n&2){try{for(var a,s=e.return;s!==null;){if(Pd(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,p=Or(e);So(e,p,d);break;case 5:var S=a.stateNode;a.flags&32&&(Ii(S,""),a.flags&=-33);var _=Or(e);So(e,_,S);break;case 3:case 4:var C=a.stateNode.containerInfo,D=Or(e);Fr(e,D,C);break;default:throw Error(o(161))}}catch(V){we(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $d(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$d(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yd(e,n.alternate,n),n=n.sibling}function vi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hn(4,n,n.return),vi(n);break;case 1:tn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Bd(n,n.return,a),vi(n);break;case 27:fa(n.stateNode);case 26:case 5:tn(n,n.return),vi(n);break;case 22:n.memoizedState===null&&vi(n);break;case 30:vi(n);break;default:vi(n)}e=e.sibling}}function Sn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Sn(d,p,a),ta(4,p);break;case 1:if(Sn(d,p,a),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){we(s,s.return,D)}if(s=p,d=s.updateQueue,d!==null){var _=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Rf(C[d],_)}catch(D){we(s,s.return,D)}}a&&S&64&&Vd(p),na(p,p.return);break;case 27:Od(p);case 26:case 5:Sn(d,p,a),a&&s===null&&S&4&&qd(p),na(p,p.return);break;case 12:Sn(d,p,a);break;case 31:Sn(d,p,a),a&&S&4&&Xd(d,p);break;case 13:Sn(d,p,a),a&&S&4&&Qd(d,p);break;case 22:p.memoizedState===null&&Sn(d,p,a),na(p,p.return);break;case 30:break;default:Sn(d,p,a)}n=n.sibling}}function Jr(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Pl(a))}function Kr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Qt(e,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wd(e,n,a,s),n=n.sibling}function Wd(e,n,a,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(e,n,a,s),d&2048&&ta(9,n);break;case 1:Qt(e,n,a,s);break;case 3:Qt(e,n,a,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(d&2048){Qt(e,n,a,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){we(n,n.return,C)}}else Qt(e,n,a,s);break;case 31:Qt(e,n,a,s);break;case 13:Qt(e,n,a,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?Qt(e,n,a,s):ia(e,n):p._visibility&2?Qt(e,n,a,s):(p._visibility|=2,Wi(e,n,a,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Jr(S,n);break;case 24:Qt(e,n,a,s),d&2048&&Kr(n.alternate,n);break;default:Qt(e,n,a,s)}}function Wi(e,n,a,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,_=a,C=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Wi(p,S,_,C,d),ta(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Wi(p,S,_,C,d):ia(p,S):(V._visibility|=2,Wi(p,S,_,C,d)),d&&D&2048&&Jr(S.alternate,S);break;case 24:Wi(p,S,_,C,d),d&&D&2048&&Kr(S.alternate,S);break;default:Wi(p,S,_,C,d)}n=n.sibling}}function ia(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,s=n,d=s.flags;switch(s.tag){case 22:ia(a,s),d&2048&&Jr(s.alternate,s);break;case 24:ia(a,s),d&2048&&Kr(s.alternate,s);break;default:ia(a,s)}n=n.sibling}}var la=8192;function ji(e,n,a){if(e.subtreeFlags&la)for(e=e.child;e!==null;)jd(e,n,a),e=e.sibling}function jd(e,n,a){switch(e.tag){case 26:ji(e,n,a),e.flags&la&&e.memoizedState!==null&&g0(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:ji(e,n,a);break;case 3:case 4:var s=Xt;Xt=Uo(e.stateNode.containerInfo),ji(e,n,a),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=la,la=16777216,ji(e,n,a),la=s):ji(e,n,a));break;default:ji(e,n,a)}}function em(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];lt=s,nm(s,e)}em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 0:case 11:case 15:aa(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:aa(e);break;case 12:aa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Eo(e)):aa(e);break;default:aa(e)}}function Eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];lt=s,nm(s,e)}em(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hn(8,n,n.return),Eo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eo(n));break;default:Eo(n)}e=e.sibling}}function nm(e,n){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:Hn(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,lt=s;else e:for(a=e;lt!==null;){s=lt;var d=s.sibling,p=s.return;if(Jd(s),s===a){lt=null;break e}if(d!==null){d.return=p,lt=d;break e}lt=p}}}var Dv={getCacheForType:function(e){var n=ut(We),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ut(We).controller.signal}},Iv=typeof WeakMap=="function"?WeakMap:Map,De=0,Ve=null,Te=null,ke=0,Ie=0,Dt=null,Vn=!1,el=!1,Xr=!1,Tn=0,Ke=0,Bn=0,Si=0,Qr=0,It=0,tl=0,oa=null,At=null,Zr=!1,ko=0,im=0,_o=1/0,Ao=null,qn=null,nt=0,Pn=null,nl=null,En=0,$r=0,Wr=null,lm=null,sa=0,jr=null;function wt(){return(De&2)!==0&&ke!==0?ke&-ke:H.T!==null?au():Sc()}function am(){if(It===0)if((ke&536870912)===0||Ce){var e=Da;Da<<=1,(Da&3932160)===0&&(Da=262144),It=e}else It=536870912;return e=Nt.current,e!==null&&(e.flags|=32),It}function Ct(e,n,a){(e===Ve&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(il(e,0),On(e,ke,It,!1)),Rl(e,a),((De&2)===0||e!==Ve)&&(e===Ve&&((De&2)===0&&(Si|=a),Ke===4&&On(e,ke,It,!1)),nn(e))}function om(e,n,a){if((De&6)!==0)throw Error(o(327));var s=!a&&(n&127)===0&&(n&e.expiredLanes)===0||xl(e,n),d=s?zv(e,n):tu(e,n,!0),p=s;do{if(d===0){el&&!s&&On(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!wv(a)){d=tu(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=oa;var C=_.current.memoizedState.isDehydrated;if(C&&(il(_,S).flags|=256),S=tu(_,S,!1),S!==2){if(Xr&&!C){_.errorRecoveryDisabledLanes|=p,Si|=p,d=4;break e}p=At,At=d,p!==null&&(At===null?At=p:At.push.apply(At,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){il(e,0),On(e,n,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:On(s,n,It,!Vn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(d=ko+300-dt(),10<d)){if(On(s,n,It,!Vn),wa(s,0,!0)!==0)break e;En=n,s.timeoutHandle=Gm(sm.bind(null,s,a,At,Ao,Zr,n,It,Si,tl,Vn,p,"Throttled",-0,0),d);break e}sm(s,a,At,Ao,Zr,n,It,Si,tl,Vn,p,null,-0,0)}}break}while(!0);nn(e)}function sm(e,n,a,s,d,p,S,_,C,D,V,F,I,G){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},jd(n,p,F);var ie=(p&62914560)===p?ko-dt():(p&4194048)===p?im-dt():0;if(ie=y0(F,ie),ie!==null){En=p,e.cancelPendingCommit=ie(hm.bind(null,e,n,p,a,s,d,S,_,C,V,F,null,I,G)),On(e,p,S,!D);return}}hm(e,n,p,a,s,d,S,_,C)}function wv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var d=a[s],p=d.getSnapshot;d=d.value;try{if(!xt(p(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function On(e,n,a,s){n&=~Qr,n&=~Si,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var p=31-mt(d),S=1<<p;s[p]=-1,d&=~S}a!==0&&gc(e,a,n)}function Co(){return(De&6)===0?(ra(0),!1):!0}function eu(){if(Te!==null){if(Ie===0)var e=Te.return;else e=Te,cn=ci=null,gr(e),Ki=null,Fl=0,e=Te;for(;e!==null;)Hd(e.alternate,e),e=e.return;Te=null}}function il(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),En=0,eu(),Ve=e,Te=a=rn(e.current,null),ke=n,Ie=0,Dt=null,Vn=!1,el=xl(e,n),Xr=!1,tl=It=Qr=Si=Bn=Ke=0,At=oa=null,Zr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-mt(s),p=1<<d;n|=e[d],s&=~p}return Tn=n,Ya(),a}function rm(e,n){ye=null,H.H=Wl,n===Ji||n===ja?(n=Af(),Ie=3):n===lr?(n=Af(),Ie=4):Ie=n===Ir?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,Te===null&&(Ke=1,po(e,Ht(n,e.current)))}function um(){var e=Nt.current;return e===null?!0:(ke&4194048)===ke?Pt===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Pt:!1}function cm(){var e=H.H;return H.H=Wl,e===null?Wl:e}function fm(){var e=H.A;return H.A=Dv,e}function bo(){Ke=4,Vn||(ke&4194048)!==ke&&Nt.current!==null||(el=!0),(Bn&134217727)===0&&(Si&134217727)===0||Ve===null||On(Ve,ke,It,!1)}function tu(e,n,a){var s=De;De|=2;var d=cm(),p=fm();(Ve!==e||ke!==n)&&(Ao=null,il(e,n)),n=!1;var S=Ke;e:do try{if(Ie!==0&&Te!==null){var _=Te,C=Dt;switch(Ie){case 8:eu(),S=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(n=!0);var D=Ie;if(Ie=0,Dt=null,ll(e,_,C,D),a&&el){S=0;break e}break;default:D=Ie,Ie=0,Dt=null,ll(e,_,C,D)}}Uv(),S=Ke;break}catch(V){rm(e,V)}while(!0);return n&&e.shellSuspendCounter++,cn=ci=null,De=s,H.H=d,H.A=p,Te===null&&(Ve=null,ke=0,Ya()),S}function Uv(){for(;Te!==null;)dm(Te)}function zv(e,n){var a=De;De|=2;var s=cm(),d=fm();Ve!==e||ke!==n?(Ao=null,_o=dt()+500,il(e,n)):el=xl(e,n);e:do try{if(Ie!==0&&Te!==null){n=Te;var p=Dt;t:switch(Ie){case 1:Ie=0,Dt=null,ll(e,n,p,1);break;case 2:case 9:if(kf(p)){Ie=0,Dt=null,mm(n);break}n=function(){Ie!==2&&Ie!==9||Ve!==e||(Ie=7),nn(e)},p.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:kf(p)?(Ie=0,Dt=null,mm(n)):(Ie=0,Dt=null,ll(e,n,p,7));break;case 5:var S=null;switch(Te.tag){case 26:S=Te.memoizedState;case 5:case 27:var _=Te;if(S?Wm(S):_.stateNode.complete){Ie=0,Dt=null;var C=_.sibling;if(C!==null)Te=C;else{var D=_.return;D!==null?(Te=D,xo(D)):Te=null}break t}}Ie=0,Dt=null,ll(e,n,p,5);break;case 6:Ie=0,Dt=null,ll(e,n,p,6);break;case 8:eu(),Ke=6;break e;default:throw Error(o(462))}}Lv();break}catch(V){rm(e,V)}while(!0);return cn=ci=null,H.H=s,H.A=d,De=a,Te!==null?0:(Ve=null,ke=0,Ya(),Ke)}function Lv(){for(;Te!==null&&!gs();)dm(Te)}function dm(e){var n=Ld(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?xo(e):Te=n}function mm(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Md(a,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Md(a,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:gr(n);default:Hd(a,n),n=Te=ff(n,Tn),n=Ld(a,n,Tn)}e.memoizedProps=e.pendingProps,n===null?xo(e):Te=n}function ll(e,n,a,s){cn=ci=null,gr(n),Ki=null,Fl=0;var d=n.return;try{if(Av(e,d,n,a,ke)){Ke=1,po(e,Ht(a,e.current)),Te=null;return}}catch(p){if(d!==null)throw Te=d,p;Ke=1,po(e,Ht(a,e.current)),Te=null;return}n.flags&32768?(Ce||s===1?e=!0:el||(ke&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),pm(n,e)):xo(n)}function xo(e){var n=e;do{if((n.flags&32768)!==0){pm(n,Vn);return}e=n.return;var a=xv(n.alternate,n,Tn);if(a!==null){Te=a;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Ke===0&&(Ke=5)}function pm(e,n){do{var a=Rv(e.alternate,e);if(a!==null){a.flags&=32767,Te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=a}while(e!==null);Ke=6,Te=null}function hm(e,n,a,s,d,p,S,_,C){e.cancelPendingCommit=null;do Ro();while(nt!==0);if((De&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=Os,hy(e,a,p,S,_,C),e===Ve&&(Te=Ve=null,ke=0),nl=n,Pn=e,En=a,$r=p,Wr=d,lm=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bv(ae,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=Z.p,Z.p=2,S=De,De|=4;try{Nv(e,n,a)}finally{De=S,Z.p=d,H.T=s}}nt=1,gm(),ym(),vm()}}function gm(){if(nt===1){nt=0;var e=Pn,n=nl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var s=Z.p;Z.p=2;var d=De;De|=4;try{Zd(n,e);var p=mu,S=tf(e.containerInfo),_=p.focusedElem,C=p.selectionRange;if(S!==_&&_&&_.ownerDocument&&ef(_.ownerDocument.documentElement,_)){if(C!==null&&Hs(_)){var D=C.start,V=C.end;if(V===void 0&&(V=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(V,_.value.length);else{var F=_.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var G=I.getSelection(),ie=_.textContent.length,de=Math.min(C.start,ie),Ge=C.end===void 0?de:Math.min(C.end,ie);!G.extend&&de>Ge&&(S=Ge,Ge=de,de=S);var R=jc(_,de),x=jc(_,Ge);if(R&&x&&(G.rangeCount!==1||G.anchorNode!==R.node||G.anchorOffset!==R.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var M=F.createRange();M.setStart(R.node,R.offset),G.removeAllRanges(),de>Ge?(G.addRange(M),G.extend(x.node,x.offset)):(M.setEnd(x.node,x.offset),G.addRange(M))}}}}for(F=[],G=_;G=G.parentNode;)G.nodeType===1&&F.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<F.length;_++){var q=F[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Bo=!!du,mu=du=null}finally{De=d,Z.p=s,H.T=a}}e.current=n,nt=2}}function ym(){if(nt===2){nt=0;var e=Pn,n=nl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var s=Z.p;Z.p=2;var d=De;De|=4;try{Yd(e,n.alternate,n)}finally{De=d,Z.p=s,H.T=a}}nt=3}}function vm(){if(nt===4||nt===3){nt=0,xa();var e=Pn,n=nl,a=En,s=lm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,nl=Pn=null,Sm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(qn=null),Ss(a),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ci,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=Z.p,Z.p=2,H.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];p(_.value,{componentStack:_.stack})}}finally{H.T=n,Z.p=d}}(En&3)!==0&&Ro(),nn(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===jr?sa++:(sa=0,jr=e):sa=0,ra(0)}}function Sm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function Ro(){return gm(),ym(),vm(),Tm()}function Tm(){if(nt!==5)return!1;var e=Pn,n=$r;$r=0;var a=Ss(En),s=H.T,d=Z.p;try{Z.p=32>a?32:a,H.T=null,a=Wr,Wr=null;var p=Pn,S=En;if(nt=0,nl=Pn=null,En=0,(De&6)!==0)throw Error(o(331));var _=De;if(De|=4,tm(p.current),Wd(p,p.current,S,a),De=_,ra(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ci,p)}catch{}return!0}finally{Z.p=d,H.T=s,Sm(e,n)}}function Em(e,n,a){n=Ht(a,n),n=Dr(e.stateNode,n,2),e=zn(e,n,2),e!==null&&(Rl(e,2),nn(e))}function we(e,n,a){if(e.tag===3)Em(e,e,a);else for(;n!==null;){if(n.tag===3){Em(n,e,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=Ht(a,e),a=kd(2),s=zn(n,a,2),s!==null&&(_d(a,s,n,e),Rl(s,2),nn(s));break}}n=n.return}}function nu(e,n,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Iv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(a)||(Xr=!0,d.add(a),e=Gv.bind(null,e,n,a),n.then(e,e))}function Gv(e,n,a){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(ke&a)===a&&(Ke===4||Ke===3&&(ke&62914560)===ke&&300>dt()-ko?(De&2)===0&&il(e,0):Qr|=a,tl===ke&&(tl=0)),nn(e)}function km(e,n){n===0&&(n=hc()),e=si(e,n),e!==null&&(Rl(e,n),nn(e))}function Hv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),km(e,a)}function Vv(e,n){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(n),km(e,a)}function Bv(e,n){return kl(e,n)}var No=null,al=null,iu=!1,Mo=!1,lu=!1,Fn=0;function nn(e){e!==al&&e.next===null&&(al===null?No=al=e:al=al.next=e),Mo=!0,iu||(iu=!0,Pv())}function ra(e,n){if(!lu&&Mo){lu=!0;do for(var a=!1,s=No;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var S=s.suspendedLanes,_=s.pingedLanes;p=(1<<31-mt(42|e)+1)-1,p&=d&~(S&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,bm(s,p))}else p=ke,p=wa(s,s===Ve?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||xl(s,p)||(a=!0,bm(s,p));s=s.next}while(a);lu=!1}}function qv(){_m()}function _m(){Mo=iu=!1;var e=0;Fn!==0&&Wv()&&(e=Fn);for(var n=dt(),a=null,s=No;s!==null;){var d=s.next,p=Am(s,n);p===0?(s.next=null,a===null?No=d:a.next=d,d===null&&(al=a)):(a=s,(e!==0||(p&3)!==0)&&(Mo=!0)),s=d}nt!==0&&nt!==5||ra(e),Fn!==0&&(Fn=0)}function Am(e,n){for(var a=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-mt(p),_=1<<S,C=d[S];C===-1?((_&a)===0||(_&s)!==0)&&(d[S]=py(_,n)):C<=n&&(e.expiredLanes|=_),p&=~_}if(n=Ve,a=ke,a=wa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&_l(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xl(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(s!==null&&_l(s),Ss(a)){case 2:case 8:a=Cl;break;case 32:a=ae;break;case 268435456:a=Ye;break;default:a=ae}return s=Cm.bind(null,e),a=kl(a,s),e.callbackPriority=n,e.callbackNode=a,n}return s!==null&&s!==null&&_l(s),e.callbackPriority=2,e.callbackNode=null,2}function Cm(e,n){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ro()&&e.callbackNode!==a)return null;var s=ke;return s=wa(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(om(e,s,n),Am(e,dt()),e.callbackNode!=null&&e.callbackNode===a?Cm.bind(null,e):null)}function bm(e,n){if(Ro())return null;om(e,n,!0)}function Pv(){e0(function(){(De&6)!==0?kl(Al,qv):_m()})}function au(){if(Fn===0){var e=Fi;e===0&&(e=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),Fn=e}return Fn}function xm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ga(""+e)}function Rm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Ov(e,n,a,s,d){if(n==="submit"&&a&&a.stateNode===d){var p=xm((d[St]||null).action),S=s.submitter;S&&(n=(n=S[St]||null)?xm(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var _=new qa("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Fn!==0){var C=S?Rm(d,S):new FormData(d);Cr(a,{pending:!0,data:C,method:d.method,action:p},null,C)}}else typeof p=="function"&&(_.preventDefault(),C=S?Rm(d,S):new FormData(d),Cr(a,{pending:!0,data:C,method:d.method,action:p},p,C))},currentTarget:d}]})}}for(var ou=0;ou<Ps.length;ou++){var su=Ps[ou],Fv=su.toLowerCase(),Yv=su[0].toUpperCase()+su.slice(1);Kt(Fv,"on"+Yv)}Kt(af,"onAnimationEnd"),Kt(of,"onAnimationIteration"),Kt(sf,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(sv,"onTransitionRun"),Kt(rv,"onTransitionStart"),Kt(uv,"onTransitionCancel"),Kt(rf,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ua));function Nm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],d=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],C=_.instance,D=_.currentTarget;if(_=_.listener,C!==p&&d.isPropagationStopped())break e;p=_,d.currentTarget=D;try{p(d)}catch(V){Fa(V)}d.currentTarget=null,p=C}else for(S=0;S<s.length;S++){if(_=s[S],C=_.instance,D=_.currentTarget,_=_.listener,C!==p&&d.isPropagationStopped())break e;p=_,d.currentTarget=D;try{p(d)}catch(V){Fa(V)}d.currentTarget=null,p=C}}}}function Ee(e,n){var a=n[Ts];a===void 0&&(a=n[Ts]=new Set);var s=e+"__bubble";a.has(s)||(Mm(n,e,2,!1),a.add(s))}function ru(e,n,a){var s=0;n&&(s|=4),Mm(a,e,s,n)}var Do="_reactListening"+Math.random().toString(36).slice(2);function uu(e){if(!e[Do]){e[Do]=!0,kc.forEach(function(a){a!=="selectionchange"&&(Jv.has(a)||ru(a,!1,e),ru(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Do]||(n[Do]=!0,ru("selectionchange",!1,n))}}function Mm(e,n,a,s){switch(ap(n)){case 2:var d=T0;break;case 8:d=E0;break;default:d=Au}a=d.bind(null,n,a,e),d=void 0,!Ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function cu(e,n,a,s,d){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=xi(_),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=p=S;continue e}_=_.parentNode}}s=s.return}Uc(function(){var D=p,V=xs(a),F=[];e:{var I=uf.get(e);if(I!==void 0){var G=qa,ie=e;switch(e){case"keypress":if(Va(a)===0)break e;case"keydown":case"keyup":G=Vy;break;case"focusin":ie="focus",G=ws;break;case"focusout":ie="blur",G=ws;break;case"beforeblur":case"afterblur":G=ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Py;break;case af:case of:case sf:G=My;break;case rf:G=Fy;break;case"scroll":case"scrollend":G=Cy;break;case"wheel":G=Jy;break;case"copy":case"cut":case"paste":G=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Vc;break;case"toggle":case"beforetoggle":G=Xy}var de=(n&4)!==0,Ge=!de&&(e==="scroll"||e==="scrollend"),R=de?I!==null?I+"Capture":null:I;de=[];for(var x=D,M;x!==null;){var q=x;if(M=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||M===null||R===null||(q=Dl(x,R),q!=null&&de.push(ca(x,q,M))),Ge)break;x=x.return}0<de.length&&(I=new G(I,ie,null,a,V),F.push({event:I,listeners:de}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",I&&a!==bs&&(ie=a.relatedTarget||a.fromElement)&&(xi(ie)||ie[bi]))break e;if((G||I)&&(I=V.window===V?V:(I=V.ownerDocument)?I.defaultView||I.parentWindow:window,G?(ie=a.relatedTarget||a.toElement,G=D,ie=ie?xi(ie):null,ie!==null&&(Ge=f(ie),de=ie.tag,ie!==Ge||de!==5&&de!==27&&de!==6)&&(ie=null)):(G=null,ie=D),G!==ie)){if(de=Gc,q="onMouseLeave",R="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(de=Vc,q="onPointerLeave",R="onPointerEnter",x="pointer"),Ge=G==null?I:Ml(G),M=ie==null?I:Ml(ie),I=new de(q,x+"leave",G,a,V),I.target=Ge,I.relatedTarget=M,q=null,xi(V)===D&&(de=new de(R,x+"enter",ie,a,V),de.target=M,de.relatedTarget=Ge,q=de),Ge=q,G&&ie)t:{for(de=Kv,R=G,x=ie,M=0,q=R;q;q=de(q))M++;q=0;for(var ue=x;ue;ue=de(ue))q++;for(;0<M-q;)R=de(R),M--;for(;0<q-M;)x=de(x),q--;for(;M--;){if(R===x||x!==null&&R===x.alternate){de=R;break t}R=de(R),x=de(x)}de=null}else de=null;G!==null&&Dm(F,I,G,de,!1),ie!==null&&Ge!==null&&Dm(F,Ge,ie,de,!0)}}e:{if(I=D?Ml(D):window,G=I.nodeName&&I.nodeName.toLowerCase(),G==="select"||G==="input"&&I.type==="file")var Re=Kc;else if(Yc(I))if(Xc)Re=lv;else{Re=nv;var se=tv}else G=I.nodeName,!G||G.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&Cs(D.elementType)&&(Re=Kc):Re=iv;if(Re&&(Re=Re(e,D))){Jc(F,Re,a,V);break e}se&&se(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&As(I,"number",I.value)}switch(se=D?Ml(D):window,e){case"focusin":(Yc(se)||se.contentEditable==="true")&&(Li=se,Vs=D,Vl=null);break;case"focusout":Vl=Vs=Li=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,nf(F,a,V);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":nf(F,a,V)}var ve;if(zs)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else zi?Oc(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Bc&&a.locale!=="ko"&&(zi||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&zi&&(ve=zc()):(Rn=V,Ms="value"in Rn?Rn.value:Rn.textContent,zi=!0)),se=Io(D,_e),0<se.length&&(_e=new Hc(_e,e,null,a,V),F.push({event:_e,listeners:se}),ve?_e.data=ve:(ve=Fc(a),ve!==null&&(_e.data=ve)))),(ve=Zy?$y(e,a):Wy(e,a))&&(_e=Io(D,"onBeforeInput"),0<_e.length&&(se=new Hc("onBeforeInput","beforeinput",null,a,V),F.push({event:se,listeners:_e}),se.data=ve)),Ov(F,e,D,a,V)}Nm(F,n)})}function ca(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Io(e,n){for(var a=n+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Dl(e,a),d!=null&&s.unshift(ca(e,d,p)),d=Dl(e,n),d!=null&&s.push(ca(e,d,p))),e.tag===3)return s;e=e.return}return[]}function Kv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dm(e,n,a,s,d){for(var p=n._reactName,S=[];a!==null&&a!==s;){var _=a,C=_.alternate,D=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||D===null||(C=D,d?(D=Dl(a,p),D!=null&&S.unshift(ca(a,D,C))):d||(D=Dl(a,p),D!=null&&S.push(ca(a,D,C)))),a=a.return}S.length!==0&&e.push({event:n,listeners:S})}var Xv=/\r\n?/g,Qv=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Qv,"")}function wm(e,n){return n=Im(n),Im(e)===n}function Le(e,n,a,s,d,p){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ii(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ii(e,""+s);break;case"className":za(e,"class",s);break;case"tabIndex":za(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":za(e,a,s);break;case"style":Ic(e,s,p);break;case"data":if(n!=="object"){za(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ga(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Le(e,n,"name",d.name,d,null),Le(e,n,"formEncType",d.formEncType,d,null),Le(e,n,"formMethod",d.formMethod,d,null),Le(e,n,"formTarget",d.formTarget,d,null)):(Le(e,n,"encType",d.encType,d,null),Le(e,n,"method",d.method,d,null),Le(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ga(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ga(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Ua(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ua(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_y.get(a)||a,Ua(e,a,s))}}function fu(e,n,a,s,d,p){switch(a){case"style":Ic(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ii(e,s):(typeof s=="number"||typeof s=="bigint")&&Ii(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),p=e[St]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,s,d);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ua(e,a,s)}}}function ft(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Le(e,n,p,S,a,null)}}d&&Le(e,n,"srcSet",a.srcSet,a,null),s&&Le(e,n,"src",a.src,a,null);return;case"input":Ee("invalid",e);var _=p=S=d=null,C=null,D=null;for(s in a)if(a.hasOwnProperty(s)){var V=a[s];if(V!=null)switch(s){case"name":d=V;break;case"type":S=V;break;case"checked":C=V;break;case"defaultChecked":D=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,n));break;default:Le(e,n,s,V,a,null)}}Rc(e,p,_,C,D,S,d,!1);return;case"select":Ee("invalid",e),s=S=p=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Le(e,n,d,_,a,null)}n=p,a=S,e.multiple=!!s,n!=null?Di(e,!!s,n,!1):a!=null&&Di(e,!!s,a,!0);return;case"textarea":Ee("invalid",e),p=d=s=null;for(S in a)if(a.hasOwnProperty(S)&&(_=a[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(91));break;default:Le(e,n,S,_,a,null)}Mc(e,s,d,p);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(s=a[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,n,C,s,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<ua.length;s++)Ee(ua[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(s=a[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Le(e,n,D,s,a,null)}return;default:if(Cs(n)){for(V in a)a.hasOwnProperty(V)&&(s=a[V],s!==void 0&&fu(e,n,V,s,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(s=a[_],s!=null&&Le(e,n,_,s,a,null))}function Zv(e,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,_=null,C=null,D=null,V=null;for(G in a){var F=a[G];if(a.hasOwnProperty(G)&&F!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=F;default:s.hasOwnProperty(G)||Le(e,n,G,null,s,F)}}for(var I in s){var G=s[I];if(F=a[I],s.hasOwnProperty(I)&&(G!=null||F!=null))switch(I){case"type":p=G;break;case"name":d=G;break;case"checked":D=G;break;case"defaultChecked":V=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,n));break;default:G!==F&&Le(e,n,I,G,s,F)}}_s(e,S,_,C,D,V,p,d);return;case"select":G=S=_=I=null;for(p in a)if(C=a[p],a.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":G=C;default:s.hasOwnProperty(p)||Le(e,n,p,null,s,C)}for(d in s)if(p=s[d],C=a[d],s.hasOwnProperty(d)&&(p!=null||C!=null))switch(d){case"value":I=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==C&&Le(e,n,d,p,s,C)}n=_,a=S,s=G,I!=null?Di(e,!!a,I,!1):!!s!=!!a&&(n!=null?Di(e,!!a,n,!0):Di(e,!!a,a?[]:"",!1));return;case"textarea":G=I=null;for(_ in a)if(d=a[_],a.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,n,_,null,s,d)}for(S in s)if(d=s[S],p=a[S],s.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":I=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&Le(e,n,S,d,s,p)}Nc(e,I,G);return;case"option":for(var ie in a)if(I=a[ie],a.hasOwnProperty(ie)&&I!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Le(e,n,ie,null,s,I)}for(C in s)if(I=s[C],G=a[C],s.hasOwnProperty(C)&&I!==G&&(I!=null||G!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Le(e,n,C,I,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)I=a[de],a.hasOwnProperty(de)&&I!=null&&!s.hasOwnProperty(de)&&Le(e,n,de,null,s,I);for(D in s)if(I=s[D],G=a[D],s.hasOwnProperty(D)&&I!==G&&(I!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,n));break;default:Le(e,n,D,I,s,G)}return;default:if(Cs(n)){for(var Ge in a)I=a[Ge],a.hasOwnProperty(Ge)&&I!==void 0&&!s.hasOwnProperty(Ge)&&fu(e,n,Ge,void 0,s,I);for(V in s)I=s[V],G=a[V],!s.hasOwnProperty(V)||I===G||I===void 0&&G===void 0||fu(e,n,V,I,s,G);return}}for(var R in a)I=a[R],a.hasOwnProperty(R)&&I!=null&&!s.hasOwnProperty(R)&&Le(e,n,R,null,s,I);for(F in s)I=s[F],G=a[F],!s.hasOwnProperty(F)||I===G||I==null&&G==null||Le(e,n,F,I,s,G)}function Um(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var d=a[s],p=d.transferSize,S=d.initiatorType,_=d.duration;if(p&&_&&Um(S)){for(S=0,_=d.responseEnd,s+=1;s<a.length;s++){var C=a[s],D=C.startTime;if(D>_)break;var V=C.transferSize,F=C.initiatorType;V&&Um(F)&&(C=C.responseEnd,S+=V*(C<_?1:(_-D)/(C-D)))}if(--s,n+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var du=null,mu=null;function wo(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hu=null;function Wv(){var e=window.event;return e&&e.type==="popstate"?e===hu?!1:(hu=e,!0):(hu=null,!1)}var Gm=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(t0)}:Gm;function t0(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function Vm(e,n){var a=n,s=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(d),ul(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")fa(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fa(a);for(var p=a.firstChild;p;){var S=p.nextSibling,_=p.nodeName;p[Nl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=S}}else a==="body"&&fa(e.ownerDocument.body);a=d}while(a);ul(n)}function Bm(e,n){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function gu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gu(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function n0(e,n,a,s){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Nl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ot(e.nextSibling),e===null)break}return null}function i0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ot(e.nextSibling),e===null))return null;return e}function qm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ot(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$?"||e.data==="$~"}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l0(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ot(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Su=null;function Pm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ot(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Om(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Fm(e,n,a){switch(n=wo(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function fa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Es(e)}var Ft=new Map,Ym=new Set;function Uo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=Z.d;Z.d={f:a0,r:o0,D:s0,C:r0,L:u0,m:c0,X:d0,S:f0,M:m0};function a0(){var e=kn.f(),n=Co();return e||n}function o0(e){var n=Ri(e);n!==null&&n.tag===5&&n.type==="form"?rd(n):kn.r(e)}var ol=typeof document>"u"?null:document;function Jm(e,n,a){var s=ol;if(s&&typeof n=="string"&&n){var d=Lt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Ym.has(d)||(Ym.add(d),e={rel:e,crossOrigin:a,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ft(n,"link",e),it(n),s.head.appendChild(n)))}}function s0(e){kn.D(e),Jm("dns-prefetch",e,null)}function r0(e,n){kn.C(e,n),Jm("preconnect",e,n)}function u0(e,n,a){kn.L(e,n,a);var s=ol;if(s&&e&&n){var d='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Lt(a.imageSizes)+'"]')):d+='[href="'+Lt(e)+'"]';var p=d;switch(n){case"style":p=sl(e);break;case"script":p=rl(e)}Ft.has(p)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ft.set(p,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(da(p))||n==="script"&&s.querySelector(ma(p))||(n=s.createElement("link"),ft(n,"link",e),it(n),s.head.appendChild(n)))}}function c0(e,n){kn.m(e,n);var a=ol;if(a&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=rl(e)}if(!Ft.has(p)&&(e=T({rel:"modulepreload",href:e},n),Ft.set(p,e),a.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ma(p)))return}s=a.createElement("link"),ft(s,"link",e),it(s),a.head.appendChild(s)}}}function f0(e,n,a){kn.S(e,n,a);var s=ol;if(s&&e){var d=Ni(s).hoistableStyles,p=sl(e);n=n||"default";var S=d.get(p);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(da(p)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ft.get(p))&&Tu(e,a);var C=S=s.createElement("link");it(C),ft(C,"link",e),C._p=new Promise(function(D,V){C.onload=D,C.onerror=V}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,zo(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(p,S)}}}function d0(e,n){kn.X(e,n);var a=ol;if(a&&e){var s=Ni(a).hoistableScripts,d=rl(e),p=s.get(d);p||(p=a.querySelector(ma(d)),p||(e=T({src:e,async:!0},n),(n=Ft.get(d))&&Eu(e,n),p=a.createElement("script"),it(p),ft(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function m0(e,n){kn.M(e,n);var a=ol;if(a&&e){var s=Ni(a).hoistableScripts,d=rl(e),p=s.get(d);p||(p=a.querySelector(ma(d)),p||(e=T({src:e,async:!0,type:"module"},n),(n=Ft.get(d))&&Eu(e,n),p=a.createElement("script"),it(p),ft(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Km(e,n,a,s){var d=(d=ce.current)?Uo(d):null;if(!d)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=sl(a.href),a=Ni(d).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sl(a.href);var p=Ni(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(da(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),p||p0(d,e,a,S.state))),n&&s===null)throw Error(o(528,""));return S}if(n&&s!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rl(a),a=Ni(d).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function sl(e){return'href="'+Lt(e)+'"'}function da(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function p0(e,n,a,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ft(n,"link",a),it(n),e.head.appendChild(n))}function rl(e){return'[src="'+Lt(e)+'"]'}function ma(e){return"script[async]"+e}function Qm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(s)return n.instance=s,it(s),s;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),ft(s,"style",d),zo(s,a.precedence,e),n.instance=s;case"stylesheet":d=sl(a.href);var p=e.querySelector(da(d));if(p)return n.state.loading|=4,n.instance=p,it(p),p;s=Xm(a),(d=Ft.get(d))&&Tu(s,d),p=(e.ownerDocument||e).createElement("link"),it(p);var S=p;return S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),ft(p,"link",s),n.state.loading|=4,zo(p,a.precedence,e),n.instance=p;case"script":return p=rl(a.src),(d=e.querySelector(ma(p)))?(n.instance=d,it(d),d):(s=a,(d=Ft.get(p))&&(s=T({},a),Eu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),it(d),ft(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,zo(s,a.precedence,e));return n.instance}function zo(e,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)p=_;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lo=null;function Zm(e,n,a){if(Lo===null){var s=new Map,d=Lo=new Map;d.set(a,s)}else d=Lo,s=d.get(a),s||(s=new Map,d.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var p=a[d];if(!(p[Nl]||p[st]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(p):s.set(S,[p])}}return s}function $m(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function h0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g0(e,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=sl(s.href),p=n.querySelector(da(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Go.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=p,it(p);return}p=n.ownerDocument||n,s=Xm(s),(d=Ft.get(d))&&Tu(s,d),p=p.createElement("link"),it(p);var S=p;S._p=new Promise(function(_,C){S.onload=_,S.onerror=C}),ft(p,"link",s),a.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Go.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ku=0;function y0(e,n){return e.stylesheets&&e.count===0&&Vo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Vo(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&ku===0&&(ku=62500*$v());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vo(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>ku?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ho=null;function Vo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ho=new Map,n.forEach(v0,e),Ho=null,Go.call(e))}function v0(e,n){if(!(n.state.loading&4)){var a=Ho.get(e);if(a)var s=a.get(null);else{a=new Map,Ho.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),s=S)}s&&a.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),p=a.get(S)||s,p===s&&a.set(null,d),a.set(S,d),this.count++,s=Go.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var pa={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function S0(e,n,a,s,d,p,S,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function jm(e,n,a,s,d,p,S,_,C,D,V,F){return e=new S0(e,n,a,S,C,D,V,F,_),n=1,p===!0&&(n|=24),p=Rt(3,null,null,n),e.current=p,p.stateNode=e,n=tr(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:a,cache:n},ar(p),e}function ep(e){return e?(e=Vi,e):Vi}function tp(e,n,a,s,d,p){d=ep(d),s.context===null?s.context=d:s.pendingContext=d,s=Un(n),s.payload={element:a},p=p===void 0?null:p,p!==null&&(s.callback=p),a=zn(e,s,n),a!==null&&(Ct(a,e,n),Jl(a,e,n))}function np(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function _u(e,n){np(e,n),(e=e.alternate)&&np(e,n)}function ip(e){if(e.tag===13||e.tag===31){var n=si(e,67108864);n!==null&&Ct(n,e,67108864),_u(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var n=wt();n=vs(n);var a=si(e,n);a!==null&&Ct(a,e,n),_u(e,n)}}var Bo=!0;function T0(e,n,a,s){var d=H.T;H.T=null;var p=Z.p;try{Z.p=2,Au(e,n,a,s)}finally{Z.p=p,H.T=d}}function E0(e,n,a,s){var d=H.T;H.T=null;var p=Z.p;try{Z.p=8,Au(e,n,a,s)}finally{Z.p=p,H.T=d}}function Au(e,n,a,s){if(Bo){var d=Cu(s);if(d===null)cu(e,n,s,qo,a),op(e,s);else if(_0(d,e,n,a,s))s.stopPropagation();else if(op(e,s),n&4&&-1<k0.indexOf(e)){for(;d!==null;){var p=Ri(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ni(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var C=1<<31-mt(S);_.entanglements[1]|=C,S&=~C}nn(p),(De&6)===0&&(_o=dt()+500,ra(0))}}break;case 31:case 13:_=si(p,2),_!==null&&Ct(_,p,2),Co(),_u(p,2)}if(p=Cu(s),p===null&&cu(e,n,s,qo,a),p===d)break;d=p}d!==null&&s.stopPropagation()}else cu(e,n,s,null,a)}}function Cu(e){return e=xs(e),bu(e)}var qo=null;function bu(e){if(qo=null,e=xi(e),e!==null){var n=f(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qo=e,null}function ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case Al:return 2;case Cl:return 8;case ae:case xe:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var xu=!1,Jn=null,Kn=null,Xn=null,ha=new Map,ga=new Map,Qn=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,n){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ha.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(n.pointerId)}}function ya(e,n,a,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Ri(n),n!==null&&ip(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function _0(e,n,a,s,d){switch(n){case"focusin":return Jn=ya(Jn,e,n,a,s,d),!0;case"dragenter":return Kn=ya(Kn,e,n,a,s,d),!0;case"mouseover":return Xn=ya(Xn,e,n,a,s,d),!0;case"pointerover":var p=d.pointerId;return ha.set(p,ya(ha.get(p)||null,e,n,a,s,d)),!0;case"gotpointercapture":return p=d.pointerId,ga.set(p,ya(ga.get(p)||null,e,n,a,s,d)),!0}return!1}function sp(e){var n=xi(e.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,Tc(e.priority,function(){lp(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Tc(e.priority,function(){lp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);bs=s,a.target.dispatchEvent(s),bs=null}else return n=Ri(a),n!==null&&ip(n),e.blockedOn=a,!1;n.shift()}return!0}function rp(e,n,a){Po(e)&&a.delete(n)}function A0(){xu=!1,Jn!==null&&Po(Jn)&&(Jn=null),Kn!==null&&Po(Kn)&&(Kn=null),Xn!==null&&Po(Xn)&&(Xn=null),ha.forEach(rp),ga.forEach(rp)}function Oo(e,n){e.blockedOn===n&&(e.blockedOn=null,xu||(xu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,A0)))}var Fo=null;function up(e){Fo!==e&&(Fo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fo===e&&(Fo=null);for(var n=0;n<e.length;n+=3){var a=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(bu(s||a)===null)continue;break}var p=Ri(a);p!==null&&(e.splice(n,3),n-=3,Cr(p,{pending:!0,data:d,method:a.method,action:s},s,d))}}))}function ul(e){function n(C){return Oo(C,e)}Jn!==null&&Oo(Jn,e),Kn!==null&&Oo(Kn,e),Xn!==null&&Oo(Xn,e),ha.forEach(n),ga.forEach(n);for(var a=0;a<Qn.length;a++){var s=Qn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)sp(a),a.blockedOn===null&&Qn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var d=a[s],p=a[s+1],S=d[St]||null;if(typeof p=="function")S||up(a);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[St]||null)_=S.formAction;else if(bu(d)!==null)continue}else _=S.action;typeof _=="function"?a[s+1]=_:(a.splice(s,3),s-=3),up(a)}}}function cp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Ru(e){this._internalRoot=e}Yo.prototype.render=Ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,s=wt();tp(a,s,e,n,null,null)},Yo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tp(e.current,2,null,e,null,null),Co(),n[bi]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Sc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Qn.length&&n!==0&&n<Qn[a].priority;a++);Qn.splice(a,0,e),a===0&&sp(e)}};var fp=t.version;if(fp!=="19.2.3")throw Error(o(527,fp,"19.2.3"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var C0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Ci=Jo.inject(C0),$e=Jo}catch{}}return Sa.createRoot=function(e,n){if(!r(e))throw Error(o(299));var a=!1,s="",d=vd,p=Sd,S=Td;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=jm(e,1,!1,null,null,a,s,null,d,p,S,cp),e[bi]=n.current,uu(e),new Ru(n)},Sa.hydrateRoot=function(e,n,a){if(!r(e))throw Error(o(299));var s=!1,d="",p=vd,S=Sd,_=Td,C=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=jm(e,1,!0,n,a??null,s,d,C,p,S,_,cp),n.context=ep(null),a=n.current,s=wt(),s=vs(s),d=Un(s),d.callback=null,zn(a,d,s),a=s,n.current.lanes=a,Rl(n,a),nn(n),e[bi]=n.current,uu(e),new Yo(n)},Sa.version="19.2.3",Sa}var Ep;function U0(){if(Ep)return Du.exports;Ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Du.exports=w0(),Du.exports}var z0=U0();const L0=ig(z0),G0="RiskDosyaDB",bt="riskDosyalari",H0=1;let Ta=null;const ki=()=>(Ta||(Ta=new Promise((i,t)=>{const l=indexedDB.open(G0,H0);l.onerror=()=>{console.error("Veritaban hatas: ",l.error),Ta=null,t("Veritaban hatas: "+l.error)},l.onsuccess=()=>{const o=l.result;o.onclose=()=>{console.warn("Veritaban balants kapand. Bir sonraki ilemde yeniden alacak."),Ta=null},i(o)},l.onupgradeneeded=o=>{const r=o.target.result;r.objectStoreNames.contains(bt)||r.createObjectStore(bt,{keyPath:"id",autoIncrement:!0}).createIndex("riskIdIndex","riskId",{unique:!1})}})),Ta),V0=ki,ag=async(i,t)=>{const l=await ki();return new Promise((o,r)=>{const f=l.transaction([bt],"readwrite"),m=f.objectStore(bt),g={riskId:i,fileData:t,fileName:t.name,fileType:t.type},y=m.add(g);f.oncomplete=()=>o(y.result),f.onerror=()=>r("Dosya eklenemedi: "+f.error)})},og=async i=>{const t=await ki();return new Promise((l,o)=>{const g=t.transaction([bt],"readonly").objectStore(bt).index("riskIdIndex").getAll(i);g.onsuccess=()=>l(g.result),g.onerror=()=>o("Dosyalar alnamad: "+g.error)})},B0=async()=>{const i=await ki();return new Promise((t,l)=>{const f=i.transaction([bt],"readonly").objectStore(bt).getAll();f.onsuccess=()=>t(f.result),f.onerror=()=>l("Dosyalar alnamad: "+f.error)})},sg=async i=>{const t=await ki();return new Promise((l,o)=>{const r=t.transaction([bt],"readwrite");r.objectStore(bt).delete(i),r.oncomplete=()=>l(),r.onerror=()=>o("Dosya silinemedi: "+r.error)})},q0=async i=>{const t=await ki();return new Promise((l,o)=>{const r=t.transaction([bt],"readwrite"),f=r.objectStore(bt),g=f.index("riskIdIndex").getAllKeys(i);g.onsuccess=()=>{const y=g.result;if(!y||y.length===0){l();return}y.forEach(h=>{f.delete(h)}),r.oncomplete=()=>l()},g.onerror=()=>o("Dosya anahtarlar alnamad: "+g.error)})},kp=async()=>{const i=await ki();return new Promise((t,l)=>{const o=i.transaction([bt],"readwrite");o.objectStore(bt).clear(),o.oncomplete=()=>t(),o.onerror=()=>l("Veritaban temizlenemedi: "+o.error)})};var P0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let O0,F0;function Y0(){return{geminiUrl:O0,vertexUrl:F0}}function J0(i,t,l,o){var r,f;if(!(i!=null&&i.baseUrl)){const m=Y0();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(f=m.geminiUrl)!==null&&f!==void 0?f:o}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn{}function te(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const m=t[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),l[h])}else for(const h of y)c(h,t.slice(f+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const o=t[t.length-1],r=i[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[o]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let o=0;o<t.length;o++){if(typeof i!="object"||i===null)return l;const r=t[o];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(g=>u(g,t.slice(o+1),l)):l}else return l}else i=i[r]}return i}catch(o){if(o instanceof TypeError)return l;throw o}}function K0(i,t){for(const[l,o]of Object.entries(t)){const r=l.split("."),f=o.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Hu(i,r,f,0,m)}}function Hu(i,t,l,o,r){if(o>=t.length||typeof i!="object"||i===null)return;const f=t[o];if(f.endsWith("[]")){const m=f.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Hu(y,t,l,o+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const T=[];for(const k of l.slice(o))k==="*"?T.push(h):T.push(k);c(m,T,v)}for(const h of g)delete m[h]}}else{const m=i;f in m&&Hu(m[f],t,l,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const o=u(i,["resourceName"]);return o!=null&&c(t,["_url","resourceName"],o),t}function Q0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],$0(m)),t}function Z0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],W0(m)),t}function $0(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>j0(m))),c(t,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function W0(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>eS(m))),c(t,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function j0(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],oS(l)),t}function eS(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],sS(l)),t}function tS(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function nS(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function iS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],lS(m)),t}function lS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(t,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function rg(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],aS(m)),t}function aS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(t,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function oS(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const o=u(i,["encodedVideo"]);o!=null&&c(t,["videoBytes"],tc(o));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function sS(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["videoBytes"],tc(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _p;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_p||(_p={}));var Ap;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Ap||(Ap={}));var Cp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Cp||(Cp={}));var Fe;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Fe||(Fe={}));var bp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(bp||(bp={}));var xp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(xp||(xp={}));var Rp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rp||(Rp={}));var Np;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Np||(Np={}));var Mp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Mp||(Mp={}));var Dp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Dp||(Dp={}));var Ip;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Ip||(Ip={}));var wp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(wp||(wp={}));var Up;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Up||(Up={}));var zp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(zp||(zp={}));var Lp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Lp||(Lp={}));var Gp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Gp||(Gp={}));var Hp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Hp||(Hp={}));var Vp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vp||(Vp={}));var Bp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bp||(Bp={}));var qp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(qp||(qp={}));var Pp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pp||(Pp={}));var es;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(es||(es={}));var Op;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var Fp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Fp||(Fp={}));var Yp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Yp||(Yp={}));var Vu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vu||(Vu={}));var Jp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Jp||(Jp={}));var Kp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Kp||(Kp={}));var Xp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Xp||(Xp={}));var Qp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qp||(Qp={}));var Zp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Zp||(Zp={}));var $p;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})($p||($p={}));var Wp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Wp||(Wp={}));var jp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jp||(jp={}));var eh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eh||(eh={}));var th;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(th||(th={}));var nh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nh||(nh={}));var ih;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ih||(ih={}));var lh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(lh||(lh={}));var ah;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(ah||(ah={}));var oh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(oh||(oh={}));var sh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(sh||(sh={}));var rh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(rh||(rh={}));var uh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(uh||(uh={}));var ch;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(ch||(ch={}));var fh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fh||(fh={}));var dh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(dh||(dh={}));var mh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mh||(mh={}));var ph;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(ph||(ph={}));var hh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hh||(hh={}));var gh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gh||(gh={}));var yh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(yh||(yh={}));var vh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vh||(vh={}));var Sh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sh||(Sh={}));var Th;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Th||(Th={}));var fl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class Bu{constructor(t){const l={};for(const o of t.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ea{get text(){var t,l,o,r,f,m,g,y;if(((r=(o=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const k of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(k))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(N!==null||N!==void 0)&&T.push(A);if(typeof k.text=="string"){if(typeof k.thought=="boolean"&&k.thought)continue;v=!0,h+=k.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,o,r,f,m,g,y;if(((r=(o=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[k,A]of Object.entries(T))k!=="inlineData"&&(A!==null||A!==void 0)&&v.push(k);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,o,r,f,m,g,y;if(((r=(o=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,o,r,f,m,g,y,h;if(((r=(o=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,o,r,f,m,g,y,h;if(((r=(o=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Eh{}class kh{}class rS{}class uS{}class cS{}class fS{}class _h{}class Ah{}class Ch{}class dS{}class ts{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const o=new ts;let r;const f=t;return l?r=Z0(f):r=Q0(f),Object.assign(o,r),o}}class bh{}class xh{}class Rh{}class Nh{}class mS{}class pS{}class hS{}class nc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const o=new nc,f=iS(t);return Object.assign(o,f),o}}class gS{}class yS{}class vS{}class Mh{}class SS{get text(){var t,l,o;let r="",f=!1;const m=[];for(const g of(o=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,o;let r="";const f=[];for(const m of(o=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class TS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ic{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const o=new ic,f=rg(t);return Object.assign(o,f),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ug(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function cg(i){return Array.isArray(i)?i.map(t=>ns(t)):[ns(i)]}function ns(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function fg(i){const t=ns(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dg(i){const t=ns(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function mg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Dh(t)):[Dh(i)]}function qu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Ih(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function wh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ht(i){if(i==null)throw new Error("ContentUnion is required");return qu(i)?i:{role:"user",parts:mg(i)}}function lc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const o=ht(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(i.isVertexAI()){const l=ht(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>ht(l)):[ht(t)]}function Yt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Ih(i)||wh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(i)]}const t=[],l=[],o=qu(i[0]);for(const r of i){const f=qu(r);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Ih(r)||wh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||t.push({role:"user",parts:mg(l)}),t}function ES(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(o=>o!=="null");if(l.length===1)t.type=Object.values(Fe).includes(l[0].toUpperCase())?l[0].toUpperCase():Fe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of l)t.anyOf.push({type:Object.values(Fe).includes(o.toUpperCase())?o.toUpperCase():Fe.TYPE_UNSPECIFIED})}}function ml(i){const t={},l=["items"],o=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&ES(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Fe).includes(g.toUpperCase())?g.toUpperCase():Fe.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=ml(g);else if(o.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ml(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=ml(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function ac(i){return ml(i)}function oc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function sc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function hl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ml(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ml(t.response));return i}function gl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function kS(i,t,l,o=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===o;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function bn(i,t){if(typeof t!="string")throw new Error("name must be a string");return kS(i,t,"cachedContents")}function pg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function jn(i){return tc(i)}function _S(i){return i!=null&&typeof i=="object"&&"name"in i}function AS(i){return i!=null&&typeof i=="object"&&"video"in i}function CS(i){return i!=null&&typeof i=="object"&&"uri"in i}function hg(i){var t;let l;if(_S(i)&&(l=i.name),!(CS(i)&&(l=i.uri,l===void 0))&&!(AS(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function gg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function yg(i){for(const t of["models","tunedModels","publisherModels"])if(bS(i,t))return i[t];return[]}function bS(i,t){return i!==null&&typeof i=="object"&&t in i}function xS(i,t={}){const l=i,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function RS(i,t={}){const l=[],o=new Set;for(const r of i){const f=r.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=xS(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function vg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function NS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Sg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function yl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Tg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const o=u(i,["inlinedResponses","inlinedResponses"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>cT(m))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["inlinedEmbedContentResponses"],f)}return t}function DS(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const o=u(i,["gcsDestination","outputUriPrefix"]);o!=null&&c(t,["gcsUri"],o);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function IS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const o=u(i,["gcsUri"]);o!=null&&c(t,["gcsDestination","outputUriPrefix"],o);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Wo(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata","displayName"]);o!=null&&c(t,["displayName"],o);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Tg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],MS(Sg(h))),t}function Pu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["displayName"]);o!=null&&c(t,["displayName"],o);const r=u(i,["state"]);r!=null&&c(t,["state"],Tg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],wS(T));const k=u(i,["outputConfig"]);k!=null&&c(t,["dest"],DS(Sg(k)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function wS(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const o=u(i,["gcsSource","uris"]);o!=null&&c(t,["gcsUri"],o);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function US(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=u(t,["fileName"]);o!=null&&c(l,["fileName"],o);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>uT(i,m))),c(l,["requests","requests"],f)}return l}function zS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const o=u(i,["gcsUri"]);o!=null&&c(t,["gcsSource","uris"],o);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function LS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function GS(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function HS(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function VS(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const o=u(i,["citationMetadata"]);o!=null&&c(t,["citationMetadata"],BS(o));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let k=v;Array.isArray(k)&&(k=k.map(A=>A)),c(t,["safetyRatings"],k)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function BS(i){const t={},l=u(i,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["citations"],o)}return t}function Eg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>yT(f))),c(t,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(t,["role"],o),t}function qS(i,t){const l={},o=u(i,["displayName"]);if(t!==void 0&&o!=null&&c(t,["batch","displayName"],o),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function PS(i,t){const l={},o=u(i,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],IS(NS(r))),l}function Uh(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],US(i,vg(i,r)));const f=u(t,["config"]);return f!=null&&qS(f,l),l}function OS(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["model"],Me(i,o));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],zS(vg(i,r)));const f=u(t,["config"]);return f!=null&&PS(f,l),l}function FS(i,t){const l={},o=u(i,["displayName"]);return t!==void 0&&o!=null&&c(t,["batch","displayName"],o),l}function YS(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],WS(i,r));const f=u(t,["config"]);return f!=null&&FS(f,l),l}function JS(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function KS(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function XS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["name"]);o!=null&&c(t,["name"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["name"]);o!=null&&c(t,["name"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function ZS(i,t){const l={},o=u(t,["contents"]);if(o!=null){let f=lc(i,o);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],$S(r,l)),K0(l,{"requests[].*":"requests[].request.*"})),l}function $S(i,t){const l={},o=u(i,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function WS(i,t){const l={},o=u(t,["fileName"]);o!=null&&c(l,["file_name"],o);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],ZS(i,r)),l}function jS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function eT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const o=u(i,["args"]);o!=null&&c(t,["args"],o);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const o=u(i,["mode"]);if(o!=null&&c(t,["mode"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nT(i,t,l){const o={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Eg(ht(r)));const f=u(t,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(o,["topP"],m);const g=u(t,["topK"]);g!=null&&c(o,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const k=u(t,["logprobs"]);k!=null&&c(o,["logprobs"],k);const A=u(t,["presencePenalty"]);A!=null&&c(o,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(o,["frequencyPenalty"],N);const U=u(t,["seed"]);U!=null&&c(o,["seed"],U);const w=u(t,["responseMimeType"]);w!=null&&c(o,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&c(o,["responseSchema"],ac(P));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(o,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(l!==void 0&&Y!=null){let me=Y;Array.isArray(me)&&(me=me.map(Ae=>vT(Ae))),c(l,["safetySettings"],me)}const J=u(t,["tools"]);if(l!==void 0&&J!=null){let me=gl(J);Array.isArray(me)&&(me=me.map(Ae=>TT(hl(Ae)))),c(l,["tools"],me)}const ee=u(t,["toolConfig"]);if(l!==void 0&&ee!=null&&c(l,["toolConfig"],ST(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(i,ne));const L=u(t,["responseModalities"]);L!=null&&c(o,["responseModalities"],L);const z=u(t,["mediaResolution"]);z!=null&&c(o,["mediaResolution"],z);const O=u(t,["speechConfig"]);if(O!=null&&c(o,["speechConfig"],oc(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=u(t,["thinkingConfig"]);W!=null&&c(o,["thinkingConfig"],W);const le=u(t,["imageConfig"]);le!=null&&c(o,["imageConfig"],rT(le));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(o,["enableEnhancedCivicAnswers"],re),o}function iT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>VS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function lT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function aT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],yl(i,o)),l}function oT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function sT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function rT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const o=u(i,["imageSize"]);if(o!=null&&c(t,["imageSize"],o),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function uT(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["request","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let g=Yt(r);Array.isArray(g)&&(g=g.map(y=>Eg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(t,["config"]);return m!=null&&c(l,["request","generationConfig"],nT(i,m,u(l,["request"],{}))),l}function cT(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],iT(l));const o=u(i,["error"]);return o!=null&&c(t,["error"],o),t}function fT(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function dT(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function mT(i){const t={},l=u(i,["config"]);return l!=null&&fT(l,t),t}function pT(i){const t={},l=u(i,["config"]);return l!=null&&dT(l,t),t}function hT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Wo(m))),c(t,["batchJobs"],f)}return t}function gT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Pu(m))),c(t,["batchJobs"],f)}return t}function yT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],jS(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],eT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],LS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const k=u(i,["videoMetadata"]);return k!=null&&c(t,["videoMetadata"],k),t}function vT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function ST(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const o=u(i,["functionCallingConfig"]);return o!=null&&c(t,["functionCallingConfig"],tT(o)),t}function TT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const o=u(i,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],oT(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],sT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class _i{constructor(t,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,o,r)}init(t,l,o){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!o||Object.keys(o).length===0?m={config:{}}:typeof o=="object"?m=Object.assign({},o):m=o,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _i(_n.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Uh(this.apiClient,t),o=l._url,r=te("{model}:batchGenerateContent",o),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const k=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=k,T.request=A}h.push(T)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const o=l?Object.assign({},l):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const f=this.getGcsUri(t),m=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?o.dest=`${f.slice(0,-6)}/dest`:o.dest=`${f}_dest_${r}`;else if(m)o.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OS(this.apiClient,t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Pu(v))}else{const h=Uh(this.apiClient,t);return g=te("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Wo(v))}}async createEmbeddingsInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YS(this.apiClient,t);return f=te("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>Wo(y))}}async get(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aT(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Pu(v))}else{const h=lT(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Wo(v))}}async cancel(t){var l,o,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=HS(this.apiClient,t);m=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=GS(this.apiClient,t);m=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(t);return g=te("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=gT(v),k=new Mh;return Object.assign(k,T),k})}else{const h=mT(t);return g=te("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=hT(v),k=new Mh;return Object.assign(k,T),k})}}async delete(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=KS(this.apiClient,t);return g=te("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>QS(v))}else{const h=JS(this.apiClient,t);return g=te("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>XS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function zh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>YT(f))),c(t,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(t,["role"],o),t}function _T(i,t){const l={},o=u(i,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let v=Yt(m);Array.isArray(v)&&(v=v.map(T=>zh(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],zh(ht(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>KT(T))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],JT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function AT(i,t){const l={},o=u(i,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=Yt(m);Array.isArray(T)&&(T=T.map(k=>k)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ht(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(k=>XT(k))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function CT(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["model"],ug(i,o));const r=u(t,["config"]);return r!=null&&_T(r,l),l}function bT(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["model"],ug(i,o));const r=u(t,["config"]);return r!=null&&AT(r,l),l}function xT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],bn(i,o)),l}function RT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],bn(i,o)),l}function NT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function MT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function DT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function IT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const o=u(i,["args"]);o!=null&&c(t,["args"],o);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const o=u(i,["mode"]);if(o!=null&&c(t,["mode"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UT(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const o=u(i,["name"]);o!=null&&c(t,["name"],o);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function zT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],bn(i,o)),l}function LT(i,t){const l={},o=u(t,["name"]);return o!=null&&c(l,["_url","name"],bn(i,o)),l}function GT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function HT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function VT(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function BT(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function qT(i){const t={},l=u(i,["config"]);return l!=null&&VT(l,t),t}function PT(i){const t={},l=u(i,["config"]);return l!=null&&BT(l,t),t}function OT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function FT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function YT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],DT(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],IT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],kT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const k=u(i,["videoMetadata"]);return k!=null&&c(t,["videoMetadata"],k),t}function JT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const o=u(i,["functionCallingConfig"]);return o!=null&&c(t,["functionCallingConfig"],wT(o)),t}function KT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const o=u(i,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],GT(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],HT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function XT(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const o=u(i,["computerUse"]);if(o!=null&&c(t,["computerUse"],o),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(k=>UT(k))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function QT(i,t){const l={},o=u(i,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function ZT(i,t){const l={},o=u(i,["ttl"]);t!==void 0&&o!=null&&c(t,["ttl"],o);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function $T(i,t){const l={},o=u(t,["name"]);o!=null&&c(l,["_url","name"],bn(i,o));const r=u(t,["config"]);return r!=null&&QT(r,l),l}function WT(i,t){const l={},o=u(t,["name"]);o!=null&&c(l,["_url","name"],bn(i,o));const r=u(t,["config"]);return r!=null&&ZT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _i(_n.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bT(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=CT(this.apiClient,t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=LT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=zT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=RT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=MT(v),k=new Rh;return Object.assign(k,T),k})}else{const h=xT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=NT(v),k=new Rh;return Object.assign(k,T),k})}}async update(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=WT(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=$T(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=PT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=FT(v),k=new Nh;return Object.assign(k,T),k})}else{const h=qT(t);return g=te("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=OT(v),k=new Nh;return Object.assign(k,T),k})}}}function is(i,t){var l={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&t.indexOf(o)<0&&(l[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(i);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(i,o[r])&&(l[o[r]]=i[o[r]]);return l}function Lh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],o=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(i){return this instanceof he?(this.v=i,this):new he(i)}function Zt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(A){return function(N){return Promise.resolve(N).then(A,T)}}function g(A,N){o[A]&&(r[A]=function(U){return new Promise(function(w,P){f.push([A,U,w,P])>1||y(A,U)})},N&&(r[A]=N(r[A])))}function y(A,N){try{h(o[A](N))}catch(U){k(f[0][3],U)}}function h(A){A.value instanceof he?Promise.resolve(A.value.v).then(v,T):k(f[0][2],A)}function v(A){y("next",A)}function T(A){y("throw",A)}function k(A,N){A(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function $t(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Lh=="function"?Lh(i):i[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=i[f]&&function(m){return new Promise(function(g,y){m=i[f](m),r(g,y,m.done,m.value)})}}function r(f,m,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:kg(l)}function kg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function tE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Gh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let o=0;for(;o<l;)if(i[o].role==="user")t.push(i[o]),o++;else{const r=[];let f=!0;for(;o<l&&i[o].role==="model";)r.push(i[o]),f&&!kg(i[o])&&(f=!1),o++;f?t.push(...r):t.pop()}return t}class nE{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new iE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class iE{constructor(t,l,o,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=o,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),tE(f)}async sendMessage(t){var l;await this.sendPromise;const o=ht(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await r,h=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let k=[];v!=null&&(k=(g=v.slice(T))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(o,A,k)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const o=ht(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,o)}getHistory(t=!1){const l=t?Gh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Zt(this,arguments,function*(){var r,f,m,g,y,h;const v=[];try{for(var T=!0,k=$t(t),A;A=yield he(k.next()),r=A.done,!r;T=!0){g=A.value,T=!1;const N=g;if(eE(N)){const U=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;U!==void 0&&v.push(U)}yield yield he(N)}}catch(N){f={error:N}}finally{try{!T&&!r&&(m=k.return)&&(yield he(m.call(k)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,o){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Gh(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ss extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ss.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function aE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function oE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],hg(l)),t}function sE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function rE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],hg(l)),t}function uE(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function cE(i){const t={},l=u(i,["config"]);return l!=null&&uE(l,t),t}function fE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dE extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _i(_n.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cE(t);return f=te("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=fE(y),v=new gS;return Object.assign(v,h),v})}}async createInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lE(t);return f=te("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aE(y),v=new yS;return Object.assign(v,h),v})}}async get(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rE(t);return f=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oE(t);return f=te("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=sE(y),v=new vS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jo(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function mE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>NE(f))),c(t,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(t,["role"],o),t}function pE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function hE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const o=u(i,["args"]);o!=null&&c(t,["args"],o);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gE(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const o=u(i,["name"]);o!=null&&c(t,["name"],o);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function yE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const o=u(i,["responseJsonSchema"]);o!=null&&c(t,["responseJsonSchema"],o);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const k=u(i,["responseLogprobs"]);k!=null&&c(t,["responseLogprobs"],k);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const Y=u(i,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const L=u(i,["topP"]);if(L!=null&&c(t,["topP"],L),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function SE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function TE(i,t){const l={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],sc(T));const k=u(i,["thinkingConfig"]);t!==void 0&&k!=null&&c(t,["setup","generationConfig","thinkingConfig"],k);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],mE(ht(N)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let ne=gl(U);Array.isArray(ne)&&(ne=ne.map(L=>DE(hl(L)))),c(t,["setup","tools"],ne)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],ME(w));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function EE(i,t){const l={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],yE(o));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],sc(T));const k=u(i,["thinkingConfig"]);t!==void 0&&k!=null&&c(t,["setup","generationConfig","thinkingConfig"],k);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],ht(N));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let L=gl(U);Array.isArray(L)&&(L=L.map(z=>IE(hl(z)))),c(t,["setup","tools"],L)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],w);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const ee=u(i,["proactivity"]);t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),l}function kE(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["setup","model"],Me(i,o));const r=u(t,["config"]);return r!=null&&c(l,["config"],TE(r,l)),l}function _E(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["setup","model"],Me(i,o));const r=u(t,["config"]);return r!=null&&c(l,["config"],EE(r,l)),l}function AE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function CE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["weightedPrompts"],o)}return t}function bE(i){const t={},l=u(i,["media"]);if(l!=null){let h=cg(l);Array.isArray(h)&&(h=h.map(v=>jo(v))),c(t,["mediaChunks"],h)}const o=u(i,["audio"]);o!=null&&c(t,["audio"],jo(dg(o)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],jo(fg(f)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function xE(i){const t={},l=u(i,["media"]);if(l!=null){let h=cg(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const o=u(i,["audio"]);o!=null&&c(t,["audio"],dg(o));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],fg(f));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function RE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const o=u(i,["serverContent"]);o!=null&&c(t,["serverContent"],o);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],wE(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],UE(v)),t}function NE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],pE(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],hE(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],jo(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const k=u(i,["videoMetadata"]);return k!=null&&c(t,["videoMetadata"],k),t}function ME(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function DE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const o=u(i,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],vE(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],SE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function IE(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const o=u(i,["computerUse"]);if(o!=null&&c(t,["computerUse"],o),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(k=>gE(k))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function wE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const o=u(i,["cachedContentTokenCount"]);o!=null&&c(t,["cachedContentTokenCount"],o);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["responseTokensDetails"],A)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["toolUsePromptTokensDetails"],A)}const k=u(i,["trafficType"]);return k!=null&&c(t,["trafficType"],k),t}function UE(i){const t={},l=u(i,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function LE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const o=u(i,["citationMetadata"]);o!=null&&c(t,["citationMetadata"],GE(o));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let k=v;Array.isArray(k)&&(k=k.map(A=>A)),c(t,["safetyRatings"],k)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function GE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["citations"],o)}return t}function HE(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let f=Yt(r);Array.isArray(f)&&(f=f.map(m=>m)),c(l,["contents"],f)}return l}function VE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function BE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const o=u(i,["statistics"]);return o!=null&&c(t,["statistics"],qE(o)),t}function qE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const o=u(i,["token_count"]);return o!=null&&c(t,["tokenCount"],o),t}function rs(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Zk(f))),c(t,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(t,["role"],o),t}function PE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const o=u(i,["enableControlImageComputation"]);return o!=null&&c(t,["computeControl"],o),t}function OE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function FE(i,t){const l={},o=u(i,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],ht(o));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>bg(g))),c(t,["tools"],m)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],zk(f)),l}function YE(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let m=Yt(r);Array.isArray(m)&&(m=m.map(g=>rs(g))),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&OE(f),l}function JE(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let m=Yt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&FE(f,l),l}function KE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["totalTokens"]);o!=null&&c(t,["totalTokens"],o);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function XE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["totalTokens"]);return o!=null&&c(t,["totalTokens"],o),t}function QE(i,t){const l={},o=u(t,["model"]);return o!=null&&c(l,["_url","name"],Me(i,o)),l}function ZE(i,t){const l={},o=u(t,["model"]);return o!=null&&c(l,["_url","name"],Me(i,o)),l}function $E(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function WE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function jE(i,t){const l={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const k=u(i,["includeRaiReason"]);t!==void 0&&k!=null&&c(t,["parameters","includeRaiReason"],k);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const Y=u(i,["baseSteps"]);return t!==void 0&&Y!=null&&c(t,["parameters","editConfig","baseSteps"],Y),l}function ek(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>n_(y))),c(l,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&jE(m,l),l}function tk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>us(f))),c(t,["generatedImages"],r)}return t}function nk(i,t){const l={},o=u(i,["taskType"]);t!==void 0&&o!=null&&c(t,["requests[]","taskType"],o);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function ik(i,t){const l={},o=u(i,["taskType"]);t!==void 0&&o!=null&&c(t,["instances[]","task_type"],o);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function lk(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let g=lc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&nk(f,l);const m=u(t,["model"]);return m!==void 0&&c(l,["requests[]","model"],Me(i,m)),l}function ak(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let m=lc(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const f=u(t,["config"]);return f!=null&&ik(f,l),l}function ok(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function sk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["predictions[]","embeddings"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>BE(m))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function rk(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const o=u(i,["deployedModelId"]);return o!=null&&c(t,["deployedModelId"],o),t}function uk(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function ck(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const o=u(i,["args"]);o!=null&&c(t,["args"],o);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fk(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const o=u(i,["mode"]);if(o!=null&&c(t,["mode"],o),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dk(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const o=u(i,["name"]);o!=null&&c(t,["name"],o);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function mk(i,t,l){const o={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],rs(ht(r)));const f=u(t,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(o,["topP"],m);const g=u(t,["topK"]);g!=null&&c(o,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const k=u(t,["logprobs"]);k!=null&&c(o,["logprobs"],k);const A=u(t,["presencePenalty"]);A!=null&&c(o,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(o,["frequencyPenalty"],N);const U=u(t,["seed"]);U!=null&&c(o,["seed"],U);const w=u(t,["responseMimeType"]);w!=null&&c(o,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&c(o,["responseSchema"],ac(P));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(o,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(l!==void 0&&Y!=null){let me=Y;Array.isArray(me)&&(me=me.map(Ae=>i_(Ae))),c(l,["safetySettings"],me)}const J=u(t,["tools"]);if(l!==void 0&&J!=null){let me=gl(J);Array.isArray(me)&&(me=me.map(Ae=>c_(hl(Ae)))),c(l,["tools"],me)}const ee=u(t,["toolConfig"]);if(l!==void 0&&ee!=null&&c(l,["toolConfig"],u_(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(i,ne));const L=u(t,["responseModalities"]);L!=null&&c(o,["responseModalities"],L);const z=u(t,["mediaResolution"]);z!=null&&c(o,["mediaResolution"],z);const O=u(t,["speechConfig"]);if(O!=null&&c(o,["speechConfig"],oc(O)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=u(t,["thinkingConfig"]);W!=null&&c(o,["thinkingConfig"],W);const le=u(t,["imageConfig"]);le!=null&&c(o,["imageConfig"],Bk(le));const re=u(t,["enableEnhancedCivicAnswers"]);return re!=null&&c(o,["enableEnhancedCivicAnswers"],re),o}function pk(i,t,l){const o={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ht(r));const f=u(t,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(t,["topP"]);m!=null&&c(o,["topP"],m);const g=u(t,["topK"]);g!=null&&c(o,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(o,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const k=u(t,["logprobs"]);k!=null&&c(o,["logprobs"],k);const A=u(t,["presencePenalty"]);A!=null&&c(o,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(o,["frequencyPenalty"],N);const U=u(t,["seed"]);U!=null&&c(o,["seed"],U);const w=u(t,["responseMimeType"]);w!=null&&c(o,["responseMimeType"],w);const P=u(t,["responseSchema"]);P!=null&&c(o,["responseSchema"],ac(P));const X=u(t,["responseJsonSchema"]);X!=null&&c(o,["responseJsonSchema"],X);const Y=u(t,["routingConfig"]);Y!=null&&c(o,["routingConfig"],Y);const J=u(t,["modelSelectionConfig"]);J!=null&&c(o,["modelConfig"],J);const ee=u(t,["safetySettings"]);if(l!==void 0&&ee!=null){let H=ee;Array.isArray(H)&&(H=H.map(Z=>Z)),c(l,["safetySettings"],H)}const ne=u(t,["tools"]);if(l!==void 0&&ne!=null){let H=gl(ne);Array.isArray(H)&&(H=H.map(Z=>bg(hl(Z)))),c(l,["tools"],H)}const L=u(t,["toolConfig"]);l!==void 0&&L!=null&&c(l,["toolConfig"],L);const z=u(t,["labels"]);l!==void 0&&z!=null&&c(l,["labels"],z);const O=u(t,["cachedContent"]);l!==void 0&&O!=null&&c(l,["cachedContent"],bn(i,O));const W=u(t,["responseModalities"]);W!=null&&c(o,["responseModalities"],W);const le=u(t,["mediaResolution"]);le!=null&&c(o,["mediaResolution"],le);const re=u(t,["speechConfig"]);re!=null&&c(o,["speechConfig"],oc(re));const me=u(t,["audioTimestamp"]);me!=null&&c(o,["audioTimestamp"],me);const Ae=u(t,["thinkingConfig"]);Ae!=null&&c(o,["thinkingConfig"],Ae);const Ue=u(t,["imageConfig"]);if(Ue!=null&&c(o,["imageConfig"],qk(Ue)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Hh(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let m=Yt(r);Array.isArray(m)&&(m=m.map(g=>rs(g))),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],mk(i,f,l)),l}function Vh(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["contents"]);if(r!=null){let m=Yt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],pk(i,f,l)),l}function Bh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>LE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function qh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function hk(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=u(i,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const k=u(i,["outputCompressionQuality"]);if(t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function gk(i,t){const l={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const k=u(i,["includeRaiReason"]);t!==void 0&&k!=null&&c(t,["parameters","includeRaiReason"],k);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const Y=u(i,["enhancePrompt"]);return t!==void 0&&Y!=null&&c(t,["parameters","enhancePrompt"],Y),l}function yk(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&hk(f,l),l}function vk(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&gk(f,l),l}function Sk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>Dk(m))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Ag(r)),t}function Tk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>us(m))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Cg(r)),t}function Ek(i,t){const l={},o=u(i,["numberOfVideos"]);if(t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],cs(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let k=T;Array.isArray(k)&&(k=k.map(A=>__(A))),c(t,["instances[0]","referenceImages"],k)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function kk(i,t){const l={},o=u(i,["numberOfVideos"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const k=u(i,["negativePrompt"]);t!==void 0&&k!=null&&c(t,["parameters","negativePrompt"],k);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const U=u(i,["lastFrame"]);t!==void 0&&U!=null&&c(t,["instances[0]","lastFrame"],Wt(U));const w=u(i,["referenceImages"]);if(t!==void 0&&w!=null){let Y=w;Array.isArray(Y)&&(Y=Y.map(J=>A_(J))),c(t,["instances[0]","referenceImages"],Y)}const P=u(i,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],k_(P));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),l}function _k(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],xk(m)),t}function Ak(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],Rk(m)),t}function Ck(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],cs(f));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],xg(m));const g=u(t,["source"]);g!=null&&Nk(g,l);const y=u(t,["config"]);return y!=null&&Ek(y,l),l}function bk(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Wt(f));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],Rg(m));const g=u(t,["source"]);g!=null&&Mk(g,l);const y=u(t,["config"]);return y!=null&&kk(y,l),l}function xk(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>wk(m))),c(t,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Rk(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Uk(m))),c(t,["generatedVideos"],f)}const o=u(i,["raiMediaFilteredCount"]);o!=null&&c(t,["raiMediaFilteredCount"],o);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Nk(i,t){const l={},o=u(i,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],cs(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],xg(f)),l}function Mk(i,t){const l={},o=u(i,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Wt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Rg(f)),l}function Dk(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],Pk(l));const o=u(i,["raiFilteredReason"]);o!=null&&c(t,["raiFilteredReason"],o);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Ag(r)),t}function us(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],_g(l));const o=u(i,["raiFilteredReason"]);o!=null&&c(t,["raiFilteredReason"],o);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Cg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function Ik(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],_g(l));const o=u(i,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function wk(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],T_(l)),t}function Uk(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],E_(l)),t}function zk(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const o=u(i,["responseJsonSchema"]);o!=null&&c(t,["responseJsonSchema"],o);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const k=u(i,["responseLogprobs"]);k!=null&&c(t,["responseLogprobs"],k);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const Y=u(i,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const J=u(i,["temperature"]);J!=null&&c(t,["temperature"],J);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const L=u(i,["topP"]);if(L!=null&&c(t,["topP"],L),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Lk(i,t){const l={},o=u(t,["model"]);return o!=null&&c(l,["_url","name"],Me(i,o)),l}function Gk(i,t){const l={},o=u(t,["model"]);return o!=null&&c(l,["_url","name"],Me(i,o)),l}function Hk(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function Vk(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function Bk(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const o=u(i,["imageSize"]);if(o!=null&&c(t,["imageSize"],o),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function qk(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const o=u(i,["imageSize"]);o!=null&&c(t,["imageSize"],o);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const m=u(i,["outputCompressionQuality"]);return m!=null&&c(t,["imageOutputOptions","compressionQuality"],m),t}function Pk(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],jn(l));const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function _g(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],jn(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function cs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],jn(l));const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function Wt(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],jn(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ok(i,t,l){const o={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],gg(i,g)),o}function Fk(i,t,l){const o={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],gg(i,g)),o}function Yk(i,t){const l={},o=u(t,["config"]);return o!=null&&Ok(i,o,l),l}function Jk(i,t){const l={},o=u(t,["config"]);return o!=null&&Fk(i,o,l),l}function Kk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["_self"]);if(r!=null){let f=yg(r);Array.isArray(f)&&(f=f.map(m=>Ou(m))),c(t,["models"],f)}return t}function Xk(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["_self"]);if(r!=null){let f=yg(r);Array.isArray(f)&&(f=f.map(m=>Fu(m))),c(t,["models"],f)}return t}function Qk(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const o=u(i,["segmentationClasses"]);o!=null&&c(t,["maskClasses"],o);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Ou(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["displayName"]);o!=null&&c(t,["displayName"],o);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],f_(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const k=u(i,["topP"]);k!=null&&c(t,["topP"],k);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const N=u(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function Fu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["displayName"]);o!=null&&c(t,["displayName"],o);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(k=>rk(k))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],d_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(k=>k)),c(t,["checkpoints"],T)}return t}function Zk(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],uk(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],ck(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],zE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const k=u(i,["videoMetadata"]);return k!=null&&c(t,["videoMetadata"],k),t}function $k(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Wt(l)),t}function Wk(i,t){const l={},o=u(i,["numberOfImages"]);t!==void 0&&o!=null&&c(t,["parameters","sampleCount"],o);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const k=u(i,["enhancePrompt"]);t!==void 0&&k!=null&&c(t,["parameters","enhancePrompt"],k);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function jk(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["source"]);r!=null&&t_(r,l);const f=u(t,["config"]);return f!=null&&Wk(f,l),l}function e_(i){const t={},l=u(i,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>us(r))),c(t,["generatedImages"],o)}return t}function t_(i,t){const l={},o=u(i,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Wt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>$k(g))),c(t,["instances[0]","productImages"],m)}return l}function n_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Wt(l));const o=u(i,["referenceId"]);o!=null&&c(t,["referenceId"],o);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],Qk(f));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],PE(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Ag(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const o=u(i,["safetyAttributes","scores"]);o!=null&&c(t,["scores"],o);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Cg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const o=u(i,["safetyAttributes","scores"]);o!=null&&c(t,["scores"],o);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function i_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=u(i,["threshold"]);return o!=null&&c(t,["threshold"],o),t}function l_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Wt(l)),t}function a_(i,t){const l={},o=u(i,["mode"]);t!==void 0&&o!=null&&c(t,["parameters","mode"],o);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function o_(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["source"]);r!=null&&r_(r,l);const f=u(t,["config"]);return f!=null&&a_(f,l),l}function s_(i){const t={},l=u(i,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Ik(r))),c(t,["generatedMasks"],o)}return t}function r_(i,t){const l={},o=u(i,["prompt"]);t!==void 0&&o!=null&&c(t,["instances[0]","prompt"],o);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Wt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],l_(f)),l}function u_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const o=u(i,["functionCallingConfig"]);return o!=null&&c(t,["functionCallingConfig"],fk(o)),t}function c_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const o=u(i,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],Hk(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],Vk(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function bg(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const o=u(i,["computerUse"]);if(o!=null&&c(t,["computerUse"],o),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(k=>dk(k))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function f_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const o=u(i,["createTime"]);o!=null&&c(t,["createTime"],o);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function d_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const o=u(i,["createTime"]);o!=null&&c(t,["createTime"],o);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function m_(i,t){const l={},o=u(i,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function p_(i,t){const l={},o=u(i,["displayName"]);t!==void 0&&o!=null&&c(t,["displayName"],o);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function h_(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","name"],Me(i,o));const r=u(t,["config"]);return r!=null&&m_(r,l),l}function g_(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["config"]);return r!=null&&p_(r,l),l}function y_(i,t){const l={},o=u(i,["outputGcsUri"]);t!==void 0&&o!=null&&c(t,["parameters","storageUri"],o);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const k=u(i,["numberOfImages"]);t!==void 0&&k!=null&&c(t,["parameters","sampleCount"],k);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function v_(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["_url","model"],Me(i,o));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Wt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(t,["config"]);return m!=null&&y_(m,l),l}function S_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>us(f))),c(t,["generatedImages"],r)}return t}function T_(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const o=u(i,["encodedVideo"]);o!=null&&c(t,["videoBytes"],jn(o));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function E_(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["videoBytes"],jn(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function k_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Wt(l));const o=u(i,["maskMode"]);return o!=null&&c(t,["maskMode"],o),t}function __(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],cs(l));const o=u(i,["referenceType"]);return o!=null&&c(t,["referenceType"],o),t}function A_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Wt(l));const o=u(i,["referenceType"]);return o!=null&&c(t,["referenceType"],o),t}function xg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const o=u(i,["videoBytes"]);o!=null&&c(t,["encodedVideo"],jn(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Rg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const o=u(i,["videoBytes"]);o!=null&&c(t,["bytesBase64Encoded"],jn(o));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(i,t){const l={},o=u(i,["displayName"]);return t!==void 0&&o!=null&&c(t,["displayName"],o),l}function b_(i){const t={},l=u(i,["config"]);return l!=null&&C_(l,t),t}function x_(i,t){const l={},o=u(i,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),l}function R_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const o=u(i,["config"]);return o!=null&&x_(o,t),t}function N_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function M_(i,t){const l={},o=u(i,["customMetadata"]);if(t!==void 0&&o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function D_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const o=u(i,["metadata"]);o!=null&&c(t,["metadata"],o);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const m=u(i,["response"]);return m!=null&&c(t,["response"],w_(m)),t}function I_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const o=u(i,["fileName"]);o!=null&&c(t,["fileName"],o);const r=u(i,["config"]);return r!=null&&M_(r,t),t}function w_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["parent"]);o!=null&&c(t,["parent"],o);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function U_(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function z_(i){const t={},l=u(i,["config"]);return l!=null&&U_(l,t),t}function L_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["fileSearchStores"],f)}return t}function Ng(i,t){const l={},o=u(i,["mimeType"]);t!==void 0&&o!=null&&c(t,["mimeType"],o);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),l}function G_(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const o=u(i,["config"]);return o!=null&&Ng(o,t),t}function H_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V_="Content-Type",B_="X-Server-Timeout",q_="User-Agent",Yu="x-goog-api-client",P_="1.37.0",O_=`google-genai-sdk/${P_}`,F_="v1beta1",Y_="v1beta";class J_{constructor(t){var l,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:F_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Y_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,o);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const o=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?o[r]=Object.assign(Object.assign({},o[r]),f):f!==void 0&&(o[r]=f);return o}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,o,r){if(l&&l.timeout||r){const f=new AbortController,m=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=m}return l&&l.extraBody!==null&&K_(t,l.extraBody),t.headers=await this.getHeadersInternal(l,o),t}async unaryApiCall(t,l,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Ph(r),new Bu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Ph(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Zt(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield he(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const N=JSON.parse(T);if("error"in N){const U=JSON.parse(JSON.stringify(N.error)),w=U.status,P=U.code,X=`got status: ${w}. ${JSON.stringify(N)}`;if(P>=400&&P<600)throw new ss({message:X,status:P})}}catch(N){if(N.name==="ApiError")throw N}m+=T;let k=-1,A=0;for(;;){k=-1,A=0;for(const w of y){const P=m.indexOf(w);P!==-1&&(k===-1||P<k)&&(k=P,A=w.length)}if(k===-1)break;const N=m.substring(0,k);m=m.substring(k+A);const U=N.trim();if(U.startsWith(g)){const w=U.substring(g.length).trim();try{const P=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield he(new Bu(P))}catch(P){throw new Error(`exception parsing stream chunk ${w}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},l=O_+" "+this.clientOptions.userAgentExtra;return t[q_]=l,t[Yu]=l,t[V_]="application/json",t}async getHeadersInternal(t,l){const o=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))o.append(r,f);t.timeout&&t.timeout>0&&o.append(B_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,l),o}getFileName(t){var l;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(l=o.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),o}async uploadFile(t,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(t);r.sizeBytes=String(m.size);const g=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=te("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,o){var r;const f=this.clientOptions.uploader,m=await f.stat(l),g=String(m.size),y=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};o!=null&&Ng(o,T);const k=await this.fetchUploadUrl(h,g,y,v,T,o==null?void 0:o.httpOptions);return f.uploadToFileSearchStore(l,k,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,o,r,f,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Ph(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let o;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new ss({message:r,status:l}):new Error(r)}}function K_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=o(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=o(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X_="mcp_used/unknown";let Q_=!1;function Mg(i){for(const t of i)if(Z_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Q_}function Dg(i){var t;const l=(t=i[Yu])!==null&&t!==void 0?t:"";i[Yu]=(l+` ${X_}`).trimStart()}function Z_(i){return i!==null&&typeof i=="object"&&i instanceof rc}function $_(i){return Zt(this,arguments,function*(l,o=100){let r,f=0;for(;f<o;){const m=yield he(l.listTools({cursor:r}));for(const g of m.tools)yield yield he(g),f++;if(!m.nextCursor)break;r=m.nextCursor}})}class rc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new rc(t,l)}async initialize(){var t,l,o,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,$t($_(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;m.push(T);const k=T.name;if(f[k])throw new Error(`Duplicate function name ${k} found in MCP tools. Please ensure function names are unique.`);f[k]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),RS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function W_(i,t,l){const o=new TS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(o,r),t(o)}class j_{constructor(t,l,o){this.apiClient=t,this.auth=l,this.webSocketFactory=o}async connect(t){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=nA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(Y=>{h=Y}),T=t.callbacks,k=function(){h({})},A=this.apiClient,N={onopen:k,onmessage:Y=>{W_(A,T.onmessage,Y)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(Y){}},U=this.webSocketFactory.create(y,tA(m),N);U.connect(),await v;const X={setup:{model:Me(this.apiClient,t.model)}};return U.send(JSON.stringify(X)),new eA(U,this.apiClient)}}class eA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=CE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=AE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function tA(i){const t={};return i.forEach((l,o)=>{t[o]=l}),t}function nA(i){const t=new Headers;for(const[l,o]of Object.entries(i))t.append(l,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lA(i,t,l){const o=new SS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const m=RE(f);Object.assign(o,m)}else Object.assign(o,f);t(o)}class aA{constructor(t,l,o){this.apiClient=t,this.auth=l,this.webSocketFactory=o,this.music=new j_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,o,r,f,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Mg(t.config.tools)&&Dg(T);const k=uA(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(k,v);else{const O=this.apiClient.getApiKey();let W="BidiGenerateContent",le="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${W}?${le}=${O}`}let A=()=>{};const N=new Promise(O=>{A=O}),U=t.callbacks,w=function(){var O;(O=U==null?void 0:U.onopen)===null||O===void 0||O.call(U),A({})},P=this.apiClient,X={onopen:w,onmessage:O=>{lA(P,U.onmessage,O)},onerror:(l=U==null?void 0:U.onerror)!==null&&l!==void 0?l:function(O){},onclose:(o=U==null?void 0:U.onclose)!==null&&o!==void 0?o:function(O){}},Y=this.webSocketFactory.create(v,rA(k),X);Y.connect(),await N;let J=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const O=this.apiClient.getProject(),W=this.apiClient.getLocation();J=`projects/${O}/locations/${W}/`+J}let ee={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[es.AUDIO]}:t.config.responseModalities=[es.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],L=[];for(const O of ne)if(this.isCallableTool(O)){const W=O;L.push(await W.tool())}else L.push(O);L.length>0&&(t.config.tools=L);const z={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ee=_E(this.apiClient,z):ee=kE(this.apiClient,z),delete ee.config,Y.send(JSON.stringify(ee)),new sA(Y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oA={turnComplete:!0};class sA{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=Yt(l.turns),t.isVertexAI()||(o=o.map(r=>rs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(iA)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},oA),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:xE(t)}:l={realtimeInput:bE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function rA(i){const t={};return i.forEach((l,o)=>{t[o]=l}),t}function uA(i){const t=new Headers;for(const[l,o]of Object.entries(i))t.append(l,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh=10;function Fh(i){var t,l,o;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(pl(m)){r=!0;break}if(!r)return!0;const f=(o=i==null?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function pl(i){return"callTool"in i&&typeof i.callTool=="function"}function cA(i){var t,l,o;return(o=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>pl(r)))!==null&&o!==void 0?o:!1}function Yh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((o,r)=>{if(pl(o))return;const f=o;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Jh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fA extends Cn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var o,r,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!cA(l)||Fh(l.config))return await this.generateContentInternal(y);const h=Yh(l);if(h.length>0){const U=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let v,T;const k=Yt(y.contents),A=(f=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Oh;let N=0;for(;N<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const U=v.candidates[0].content,w=[];for(const P of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(pl(P)){const Y=await P.callTool(v.functionCalls);w.push(...Y)}N++,T={role:"user",parts:w},y.contents=Yt(y.contents),y.contents.push(U),y.contents.push(T),Jh(y.config)&&(k.push(U),k.push(T))}return Jh(y.config)&&(v.automaticFunctionCallingHistory=k),v},this.generateContentStream=async l=>{var o,r,f,m,g;if(this.maybeMoveToResponseJsonSchem(l),Fh(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=Yh(l);if(y.length>0){const T=y.map(k=>`tools[${k}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(o=l==null?void 0:l.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:o.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:o.sdkHttpResponse},g}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new _i(_n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var o,r,f,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=l.video)===null||o===void 0)&&o.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(f=l.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,o,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const m=await Promise.all(f.map(async y=>pl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&Mg(t.config.tools)){const y=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Dg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,o,r;const f=new Map;for(const m of(o=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(pl(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var l,o,r;const f=(r=(o=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Oh;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,T){return Zt(this,arguments,function*(){for(var k,A,N,U,w,P;g<f;){m&&(g++,m=!1);const ee=yield he(h.processParamsMaybeAddMcpUsage(T)),ne=yield he(h.generateContentStreamInternal(ee)),L=[],z=[];try{for(var X=!0,Y=(A=void 0,$t(ne)),J;J=yield he(Y.next()),k=J.done,!k;X=!0){U=J.value,X=!1;const O=U;if(yield yield he(O),O.candidates&&(!((w=O.candidates[0])===null||w===void 0)&&w.content)){z.push(O.candidates[0].content);for(const W of(P=O.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<f&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(W.functionCall.name)){const le=yield he(v.get(W.functionCall.name).callTool([W.functionCall]));L.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(O){A={error:O}}finally{try{!X&&!k&&(N=Y.return)&&(yield he(N.call(Y)))}finally{if(A)throw A.error}}if(L.length>0){m=!0;const O=new Ea;O.candidates=[{content:{role:"user",parts:L}}],yield yield he(O);const W=[];W.push(...z),W.push({role:"user",parts:L});const le=Yt(T.contents).concat(W);T.contents=le}else break}})})(this,y,t)}async generateContentInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Vh(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=qh(v),k=new Ea;return Object.assign(k,T),k})}else{const h=Hh(this.apiClient,t);return g=te("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=Bh(v),k=new Ea;return Object.assign(k,T),k})}}async generateContentStreamInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Vh(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(T){return Zt(this,arguments,function*(){var k,A,N,U;try{for(var w=!0,P=$t(T),X;X=yield he(P.next()),k=X.done,!k;w=!0){U=X.value,w=!1;const Y=U,J=qh(yield he(Y.json()));J.sdkHttpResponse={headers:Y.headers};const ee=new Ea;Object.assign(ee,J),yield yield he(ee)}}catch(Y){A={error:Y}}finally{try{!w&&!k&&(N=P.return)&&(yield he(N.call(P)))}finally{if(A)throw A.error}}})})}else{const h=Hh(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(T){return Zt(this,arguments,function*(){var k,A,N,U;try{for(var w=!0,P=$t(T),X;X=yield he(P.next()),k=X.done,!k;w=!0){U=X.value,w=!1;const Y=U,J=Bh(yield he(Y.json()));J.sdkHttpResponse={headers:Y.headers};const ee=new Ea;Object.assign(ee,J),yield yield he(ee)}}catch(Y){A={error:Y}}finally{try{!w&&!k&&(N=P.return)&&(yield he(N.call(P)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ak(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=sk(v),k=new Eh;return Object.assign(k,T),k})}else{const h=lk(this.apiClient,t);return g=te("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=ok(v),k=new Eh;return Object.assign(k,T),k})}}async generateImagesInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vk(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=Tk(v),k=new kh;return Object.assign(k,T),k})}else{const h=yk(this.apiClient,t);return g=te("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=Sk(v),k=new kh;return Object.assign(k,T),k})}}async editImageInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=ek(this.apiClient,t);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=tk(y),v=new rS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=v_(this.apiClient,t);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=S_(y),v=new uS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=jk(this.apiClient,t);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=e_(y),v=new cS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=o_(this.apiClient,t);return f=te("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=s_(y),v=new fS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Gk(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}else{const h=Lk(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ou(v))}}async listInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Jk(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=Xk(v),k=new _h;return Object.assign(k,T),k})}else{const h=Yk(this.apiClient,t);return g=te("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=Kk(v),k=new _h;return Object.assign(k,T),k})}}async update(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,t);return g=te("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Fu(v))}else{const h=h_(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ou(v))}}async delete(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZE(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=WE(v),k=new Ah;return Object.assign(k,T),k})}else{const h=QE(this.apiClient,t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=$E(v),k=new Ah;return Object.assign(k,T),k})}}async countTokens(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=XE(v),k=new Ch;return Object.assign(k,T),k})}else{const h=YE(this.apiClient,t);return g=te("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=KE(v),k=new Ch;return Object.assign(k,T),k})}}async computeTokens(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,t);return f=te("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=VE(y),v=new dS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bk(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const T=Ak(v),k=new ts;return Object.assign(k,T),k})}else{const h=Ck(this.apiClient,t);return g=te("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const T=_k(v),k=new ts;return Object.assign(k,T),k})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dA extends Cn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,o=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,o=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;o&&"httpOptions"in o&&(f=o.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nS(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m}else{const h=tS(t);return g=te("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=X0(t);return f=te("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function pA(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>_A(f))),c(t,["parts"],r)}const o=u(i,["role"]);return o!=null&&c(t,["role"],o),t}function hA(i,t,l){const o={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const m=u(t,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],kA(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),o}function gA(i,t){const l={},o=u(t,["config"]);return o!=null&&c(l,["config"],hA(i,o,l)),l}function yA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const o=u(i,["mimeType"]);return o!=null&&c(t,["mimeType"],o),t}function vA(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const o=u(i,["args"]);o!=null&&c(t,["args"],o);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function TA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function EA(i,t){const l={},o=u(i,["generationConfig"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig"],o);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],sc(T));const k=u(i,["thinkingConfig"]);t!==void 0&&k!=null&&c(t,["setup","generationConfig","thinkingConfig"],k);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],pA(ht(N)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let ne=gl(U);Array.isArray(ne)&&(ne=ne.map(L=>CA(hl(L)))),c(t,["setup","tools"],ne)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],AA(w));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const J=u(i,["contextWindowCompression"]);t!==void 0&&J!=null&&c(t,["setup","contextWindowCompression"],J);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function kA(i,t){const l={},o=u(t,["model"]);o!=null&&c(l,["setup","model"],Me(i,o));const r=u(t,["config"]);return r!=null&&c(l,["config"],EA(r,l)),l}function _A(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const o=u(i,["codeExecutionResult"]);o!=null&&c(t,["codeExecutionResult"],o);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],yA(f));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],vA(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],mA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const k=u(i,["videoMetadata"]);return k!=null&&c(t,["videoMetadata"],k),t}function AA(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function CA(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const o=u(i,["fileSearch"]);o!=null&&c(t,["fileSearch"],o);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],SA(m));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],TA(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const o=i[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function xA(i,t){let l=null;const o=i.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else o!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=bA(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class RA extends Cn{constructor(t){super(),this.apiClient=t}async create(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=gA(this.apiClient,t);f=te("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=xA(g,t.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NA(i,t){const l={},o=u(i,["force"]);return t!==void 0&&o!=null&&c(t,["_query","force"],o),l}function MA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const o=u(i,["config"]);return o!=null&&NA(o,t),t}function DA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function IA(i,t){const l={},o=u(i,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function wA(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const o=u(i,["config"]);return o!=null&&IA(o,t),t}function UA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const o=u(i,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends Cn{constructor(t){super(),this.apiClient=t,this.list=async l=>new _i(_n.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:l.parent,config:o.config}),await this.listInternal(l),l)}async get(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DA(t);return f=te("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,o;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=MA(t);r=te("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wA(t);return f=te("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=UA(y),v=new mS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LA extends Cn{constructor(t,l=new zA(t)){super(),this.apiClient=t,this.documents=l,this.list=async(o={})=>new _i(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=b_(t);return f=te("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=N_(t);return f=te("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,o;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=R_(t);r=te("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z_(t);return f=te("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=L_(y),v=new pS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=G_(t);return f=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=H_(y),v=new hS;return Object.assign(v,h),v})}}async importFile(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=I_(t);return f=te("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const h=D_(y),v=new nc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ig=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Ig=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^l()&15>>+o/4).toString(16))};const GA=()=>Ig();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ju(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Ku=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt extends Error{}class vt extends Jt{constructor(t,l,o,r){super(`${vt.makeMessage(t,l,o)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,o){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,o,r){if(!t||!r)return new fs({message:o,cause:Ku(l)});const f=l;return t===400?new Ug(t,f,o,r):t===401?new zg(t,f,o,r):t===403?new Lg(t,f,o,r):t===404?new Gg(t,f,o,r):t===409?new Hg(t,f,o,r):t===422?new Vg(t,f,o,r):t===429?new Bg(t,f,o,r):t>=500?new qg(t,f,o,r):new vt(t,f,o,r)}}class Xu extends vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class fs extends vt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class wg extends fs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Ug extends vt{}class zg extends vt{}class Lg extends vt{}class Gg extends vt{}class Hg extends vt{}class Vg extends vt{}class Bg extends vt{}class qg extends vt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HA=/^[a-z][a-z0-9+.-]*:/i,VA=i=>HA.test(i);let Qu=i=>(Qu=Array.isArray,Qu(i));const BA=Qu;let qA=BA;const Kh=qA;function PA(i){if(!i)return!0;for(const t in i)return!1;return!0}function OA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const FA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Jt(`${i} must be an integer`);if(t<0)throw new Jt(`${i} must be a positive integer`);return t},YA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XA=()=>{var i,t,l,o,r;const f=KA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":Qh(Deno.build.os),"X-Stainless-Arch":Xh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":Qh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Xh((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=QA();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function QA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const o=l.exec(navigator.userAgent);if(o){const r=o[1]||0,f=o[2]||0,m=o[3]||0;return{browser:t,version:`${r}.${f}.${m}`}}}return null}const Xh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Qh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ko;const ZA=()=>Ko??(Ko=XA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Pg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function WA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Pg({start(){},async pull(l){const{done:o,value:r}=await t.next();o?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Og(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jA(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const o=i.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zu(i,t,l){return Fg(),new File(i,t??"unknown_file",l)}function tC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const nC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",iC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Yg(i),lC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function aC(i,t,l){if(Fg(),i=await i,iC(i))return i instanceof File?i:zu([await i.arrayBuffer()],i.name);if(lC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),zu(await Zu(r),t,l)}const o=await Zu(i);if(t||(t=tC(i)),!(l!=null&&l.type)){const r=o.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return zu(o,t,l)}async function Zu(i){var t,l,o,r,f;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(Yg(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(nC(i))try{for(var g=!0,y=$t(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;m.push(...await Zu(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${oC(i)}`)}return m}function oC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jg{constructor(t){this._client=t}}Jg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zh=Object.freeze(Object.create(null)),sC=(i=Kg)=>(function(l,...o){if(l.length===1)return l[0];let r=!1;const f=[],m=l.reduce((v,T,k)=>{var A,N,U;/[?#]/.test(T)&&(r=!0);const w=o[k];let P=(r?encodeURIComponent:i)(""+w);return k!==o.length&&(w==null||typeof w=="object"&&w.toString===((U=Object.getPrototypeOf((N=Object.getPrototypeOf((A=w.hasOwnProperty)!==null&&A!==void 0?A:Zh))!==null&&N!==void 0?N:Zh))===null||U===void 0?void 0:U.toString))&&(P=w+"",f.push({start:v.length+T.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+T+(k===o.length?"":P)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((k,A)=>{const N=" ".repeat(A.start-v),U="^".repeat(A.length);return v=A.start+A.length,k+N+U},"");throw new Jt(`Path parameters result in path with invalid segments:
${f.map(k=>k.error).join(`
`)}
${m}
${T}`)}return m}),Xo=sC(Kg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xg extends Jg{create(t,l){var o;const{api_version:r=this._client.apiVersion}=t,f=is(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Xo`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,l={},o){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Xo`/${r}/interactions/${t}`,o)}cancel(t,l={},o){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Xo`/${r}/interactions/${t}/cancel`,o)}get(t,l={},o){var r;const f=l??{},{api_version:m=this._client.apiVersion}=f,g=is(f,["api_version"]);return this._client.get(Xo`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},o),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Xg._key=Object.freeze(["interactions"]);class Qg extends Xg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let o=0;for(const r of i)l.set(r,o),o+=r.length;return l}let Qo;function uc(i){let t;return(Qo??(t=new globalThis.TextEncoder,Qo=t.encode.bind(t)))(i)}let Zo;function $h(i){let t;return(Zo??(t=new globalThis.TextDecoder,Zo=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ds{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?uc(t):t;this.buffer=rC([this.buffer,l]);const o=[];let r;for(;(r=uC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push($h(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=$h(this.buffer.subarray(0,f));o.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}ds.NEWLINE_CHARS=new Set([`
`,"\r"]);ds.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function cC(i){for(let o=0;o<i.length-1;o++){if(i[o]===10&&i[o+1]===10||i[o]===13&&i[o+1]===13)return o+2;if(i[o]===13&&i[o+1]===10&&o+3<i.length&&i[o+2]===13&&i[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ls={off:0,error:200,warn:300,info:400,debug:500},Wh=(i,t,l)=>{if(i){if(OA(ls,i))return i;yt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ls))}`)}};function Aa(){}function $o(i,t,l){return!t||ls[i]>ls[l]?Aa:t[i].bind(t)}const fC={error:Aa,warn:Aa,info:Aa,debug:Aa};let jh=new WeakMap;function yt(i){var t;const l=i.logger,o=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return fC;const r=jh.get(l);if(r&&r[0]===o)return r[1];const f={error:$o("error",l,o),warn:$o("warn",l,o),info:$o("info",l,o),debug:$o("debug",l,o)};return jh.set(l,[o,f]),f}const Ti=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(t,l,o){this.iterator=t,this.controller=l,this.client=o}static fromSSEResponse(t,l,o){let r=!1;const f=o?yt(o):console;function m(){return Zt(this,arguments,function*(){var y,h,v,T;if(r)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let k=!1;try{try{for(var A=!0,N=$t(dC(t,l)),U;U=yield he(N.next()),y=U.done,!y;A=!0){T=U.value,A=!1;const w=T;if(!k)if(w.data.startsWith("[DONE]")){k=!0;continue}else try{yield yield he(JSON.parse(w.data))}catch(P){throw f.error("Could not parse message into JSON:",w.data),f.error("From chunk:",w.raw),P}}}catch(w){h={error:w}}finally{try{!A&&!y&&(v=N.return)&&(yield he(v.call(N)))}finally{if(h)throw h.error}}k=!0}catch(w){if(Ju(w))return yield he(void 0);throw w}finally{k||l.abort()}})}return new dl(m,l,o)}static fromReadableStream(t,l,o){let r=!1;function f(){return Zt(this,arguments,function*(){var y,h,v,T;const k=new ds,A=Og(t);try{for(var N=!0,U=$t(A),w;w=yield he(U.next()),y=w.done,!y;N=!0){T=w.value,N=!1;const P=T;for(const X of k.decode(P))yield yield he(X)}}catch(P){h={error:P}}finally{try{!N&&!y&&(v=U.return)&&(yield he(v.call(U)))}finally{if(h)throw h.error}}for(const P of k.flush())yield yield he(P)})}function m(){return Zt(this,arguments,function*(){var y,h,v,T;if(r)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let k=!1;try{try{for(var A=!0,N=$t(f()),U;U=yield he(N.next()),y=U.done,!y;A=!0){T=U.value,A=!1;const w=T;k||w&&(yield yield he(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!A&&!y&&(v=N.return)&&(yield he(v.call(N)))}finally{if(h)throw h.error}}k=!0}catch(w){if(Ju(w))return yield he(void 0);throw w}finally{k||l.abort()}})}return new dl(m,l,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],o=this.iterator(),r=f=>({next:()=>{if(f.length===0){const m=o.next();t.push(m),l.push(m)}return f.shift()}});return[new dl(()=>r(t),this.controller,this.client),new dl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Pg({async start(){l=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:f}=await l.next();if(f)return o.close();const m=uc(JSON.stringify(r)+`
`);o.enqueue(m)}catch(r){o.error(r)}},async cancel(){var o;await((o=l.return)===null||o===void 0?void 0:o.call(l))}})}}function dC(i,t){return Zt(this,arguments,function*(){var o,r,f,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jt("Attempted to iterate over a response with no body");const g=new pC,y=new ds,h=Og(i.body);try{for(var v=!0,T=$t(mC(h)),k;k=yield he(T.next()),o=k.done,!o;v=!0){m=k.value,v=!1;const A=m;for(const N of y.decode(A)){const U=g.decode(N);U&&(yield yield he(U))}}}catch(A){r={error:A}}finally{try{!v&&!o&&(f=T.return)&&(yield he(f.call(T)))}finally{if(r)throw r.error}}for(const A of y.flush()){const N=g.decode(A);N&&(yield yield he(N))}})}function mC(i){return Zt(this,arguments,function*(){var l,o,r,f;let m=new Uint8Array;try{for(var g=!0,y=$t(i),h;h=yield he(y.next()),l=h.done,!l;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?uc(v):v;let k=new Uint8Array(m.length+T.length);k.set(m),k.set(T,m.length),m=k;let A;for(;(A=cC(m))!==-1;)yield yield he(m.slice(0,A)),m=m.slice(A)}}catch(v){o={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield he(r.call(y)))}finally{if(o)throw o.error}}m.length>0&&(yield yield he(m))})}class pC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,o,r]=hC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function hC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gC(i,t){const{response:l,requestLogID:o,retryOfRequestLogID:r,startTime:f}=t,m=await(async()=>{var g;if(t.options.stream)return yt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):dl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return yt(i).debug(`[${o}] response parsed`,Ti({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-f})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cc extends Promise{constructor(t,l,o=gC){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new cc(this.client,this.responsePromise,async(l,o)=>t(await this.parseResponse(l,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zg=Symbol("brand.privateNullableHeaders");function*yC(i){if(!i)return;if(Zg in i){const{values:o,nulls:r}=i;yield*o.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Kh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let o of l){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Kh(o[1])?o[1]:[o[1]];let m=!1;for(const g of f)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const ka=i=>{const t=new Headers,l=new Set;for(const o of i){const r=new Set;for(const[f,m]of yC(o)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),m===null?(t.delete(f),l.add(g)):(t.append(f,m),l.delete(g))}}return{[Zg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lu=i=>{var t,l,o,r,f,m;if(typeof globalThis.process<"u")return(o=(l=(t=P0)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(m=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $g;class ms{constructor(t){var l,o,r,f,m,g,y,{baseURL:h=Lu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=Lu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,k=is(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:T},k),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(o=A.timeout)!==null&&o!==void 0?o:ms.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(m=(f=Wh(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Wh(Lu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:N,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:$A(),this.encoder=eC,this._options=A,this.apiKey=v,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ka([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ka([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ka([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,o])=>typeof o<"u").map(([l,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(l)}=`;throw new Jt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${cl}`}defaultIdempotencyKey(){return`stainless-node-retry-${GA()}`}makeStatusError(t,l,o,r){return vt.generate(t,l,o,r)}buildURL(t,l,o){const r=!this.baseURLOverridden()&&o||this.baseURL,f=VA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return PA(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:o}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new cc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,o){var r,f,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const k="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=o===void 0?"":`, retryOf: ${o}`,N=Date.now();if(yt(this).debug(`[${k}] sending request`,Ti({retryOfRequestLogID:o,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Xu;const U=new AbortController,w=await this.fetchWithTimeout(v,h,T,U).catch(Ku),P=Date.now();if(w instanceof globalThis.Error){const Y=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new Xu;const J=Ju(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(l)return yt(this).info(`[${k}] connection ${J?"timed out":"failed"} - ${Y}`),yt(this).debug(`[${k}] connection ${J?"timed out":"failed"} (${Y})`,Ti({retryOfRequestLogID:o,url:v,durationMs:P-N,message:w.message})),this.retryRequest(g,l,o??k);throw yt(this).info(`[${k}] connection ${J?"timed out":"failed"} - error; no more retries left`),yt(this).debug(`[${k}] connection ${J?"timed out":"failed"} (error; no more retries left)`,Ti({retryOfRequestLogID:o,url:v,durationMs:P-N,message:w.message})),J?new wg:new fs({cause:w})}const X=`[${k}${A}] ${h.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${P-N}ms`;if(!w.ok){const Y=await this.shouldRetry(w);if(l&&Y){const O=`retrying, ${l} attempts remaining`;return await jA(w.body),yt(this).info(`${X} - ${O}`),yt(this).debug(`[${k}] response error (${O})`,Ti({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:P-N})),this.retryRequest(g,l,o??k,w.headers)}const J=Y?"error; no more retries left":"error; not retryable";yt(this).info(`${X} - ${J}`);const ee=await w.text().catch(O=>Ku(O).message),ne=YA(ee),L=ne?void 0:ee;throw yt(this).debug(`[${k}] response error (${J})`,Ti({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,message:L,durationMs:Date.now()-N})),this.makeStatusError(w.status,ne,L,w.headers)}return yt(this).info(X),yt(this).debug(`[${k}] response start`,Ti({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:P-N})),{response:w,options:g,controller:U,requestLogID:k,retryOfRequestLogID:o,startTime:N}}async fetchWithTimeout(t,l,o,r){const f=l||{},{signal:m,method:g}=f,y=is(f,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),o),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,o,r){var f;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await JA(m),this.makeRequest(t,l-1,o)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,m=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var o,r,f;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=m,T=this.buildURL(y,h,v);"timeout"in m&&FA("timeout",m.timeout),m.timeout=(o=m.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:k,body:A}=this.buildBody({options:m}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:k,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=m.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:o,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=ka([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),ZA()),this._options.defaultHeaders,o,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=ka([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:WA(t)}:this.encoder({body:t,headers:o})}}ms.DEFAULT_TIMEOUT=6e4;class at extends ms{constructor(){super(...arguments),this.interactions=new Qg(this)}}$g=at;at.GeminiNextGenAPIClient=$g;at.GeminiNextGenAPIClientError=Jt;at.APIError=vt;at.APIConnectionError=fs;at.APIConnectionTimeoutError=wg;at.APIUserAbortError=Xu;at.NotFoundError=Gg;at.ConflictError=Hg;at.RateLimitError=Bg;at.BadRequestError=Ug;at.AuthenticationError=zg;at.InternalServerError=qg;at.PermissionDeniedError=Lg;at.UnprocessableEntityError=Vg;at.toFile=aC;at.Interactions=Qg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(i,t){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function SC(i,t){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function TC(i,t){const l={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(l,["sdkHttpResponse"],o),l}function EC(i,t){const l={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(l,["sdkHttpResponse"],o),l}function kC(i,t,l){const o={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function _C(i,t,l){const o={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],eg(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],eg(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const k=u(i,["beta"]);return t!==void 0&&k!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],k),o}function AC(i,t){const l={},o=u(i,["baseModel"]);o!=null&&c(l,["baseModel"],o);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&zC(f);const m=u(i,["config"]);return m!=null&&kC(m,l),l}function CC(i,t){const l={},o=u(i,["baseModel"]);o!=null&&c(l,["baseModel"],o);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&LC(f,l,t);const m=u(i,["config"]);return m!=null&&_C(m,l,t),l}function bC(i,t){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function xC(i,t){const l={},o=u(i,["name"]);return o!=null&&c(l,["_url","name"],o),l}function RC(i,t,l){const o={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),o}function NC(i,t,l){const o={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),o}function MC(i,t){const l={},o=u(i,["config"]);return o!=null&&RC(o,l),l}function DC(i,t){const l={},o=u(i,["config"]);return o!=null&&NC(o,l),l}function IC(i,t){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Wg(g))),c(l,["tuningJobs"],m)}return l}function wC(i,t){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>$u(g))),c(l,["tuningJobs"],m)}return l}function UC(i,t){const l={},o=u(i,["name"]);o!=null&&c(l,["model"],o);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function zC(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=u(i,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function LC(i,t,l){const o={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Wg(i,t){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],pg(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const k=u(i,["_self"]);return k!=null&&c(l,["tunedModel"],UC(k)),l}function $u(i,t){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],pg(f));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const k=u(i,["baseModel"]);k!=null&&c(l,["baseModel"],k);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const N=u(i,["preTunedModel"]);N!=null&&c(l,["preTunedModel"],N);const U=u(i,["supervisedTuningSpec"]);U!=null&&c(l,["supervisedTuningSpec"],U);const w=u(i,["preferenceOptimizationSpec"]);w!=null&&c(l,["preferenceOptimizationSpec"],w);const P=u(i,["tuningDataStats"]);P!=null&&c(l,["tuningDataStats"],P);const X=u(i,["encryptionSpec"]);X!=null&&c(l,["encryptionSpec"],X);const Y=u(i,["partnerModelTuningSpec"]);Y!=null&&c(l,["partnerModelTuningSpec"],Y);const J=u(i,["customBaseModel"]);J!=null&&c(l,["customBaseModel"],J);const ee=u(i,["experiment"]);ee!=null&&c(l,["experiment"],ee);const ne=u(i,["labels"]);ne!=null&&c(l,["labels"],ne);const L=u(i,["outputUri"]);L!=null&&c(l,["outputUri"],L);const z=u(i,["pipelineJob"]);z!=null&&c(l,["pipelineJob"],z);const O=u(i,["serviceAccount"]);O!=null&&c(l,["serviceAccount"],O);const W=u(i,["tunedModelDisplayName"]);W!=null&&c(l,["tunedModelDisplayName"],W);const le=u(i,["veoTuningSpec"]);return le!=null&&c(l,["veoTuningSpec"],le),l}function GC(i,t){const l={},o=u(i,["sdkHttpResponse"]);o!=null&&c(l,["sdkHttpResponse"],o);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function eg(i,t){const l={},o=u(i,["gcsUri"]);o!=null&&c(l,["validationDatasetUri"],o);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _i(_n.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var o;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((o=l.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:Vu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xC(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>$u(v))}else{const h=bC(t);return g=te("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>Wg(v))}}async listInternal(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=DC(t);return g=te("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=wC(v),k=new bh;return Object.assign(k,T),k})}else{const h=MC(t);return g=te("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=IC(v),k=new bh;return Object.assign(k,T),k})}}async cancel(t){var l,o,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SC(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=EC(v),k=new xh;return Object.assign(k,T),k})}else{const h=vC(t);return g=te("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const k=T;return k.sdkHttpResponse={headers:v.headers},k})),m.then(v=>{const T=TC(v),k=new xh;return Object.assign(k,T),k})}}async tuneInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=CC(t,t);return f=te("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>$u(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AC(t);return f=te("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>GC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VC{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BC=1024*1024*8,qC=3,PC=1e3,OC=2,as="x-goog-upload-status";async function FC(i,t,l){var o;const r=await jg(i,t,l),f=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function YC(i,t,l){var o;const r=await jg(i,t,l),f=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=rg(f),g=new ic;return Object.assign(g,m),g}async function jg(i,t,l){var o,r;let f=0,m=0,g=new Bu(new Response),y="upload";for(f=i.size;m<f;){const h=Math.min(BC,f-m),v=i.slice(m,m+h);m+h>=f&&(y+=", finalize");let T=0,k=PC;for(;T<qC&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((o=g==null?void 0:g.headers)===null||o===void 0)&&o[as]));)T++,await KC(k),k=k*OC;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[as])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function JC(i){return{size:i.size,type:i.type}}function KC(i){return new Promise(t=>setTimeout(t,i))}class XC{async upload(t,l,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FC(t,l,o)}async uploadToFileSearchStore(t,l,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await YC(t,l,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await JC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC{create(t,l,o){return new ZC(t,l,o)}}class ZC{constructor(t,l,o){this.url=t,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg="x-goog-api-key";class $C{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(tg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(tg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="gl-node/";class jC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new at({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const o=J0(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new $C(this.apiKey);this.apiClient=new J_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:WC+"web",uploader:new XC,downloader:new VC}),this.models=new fA(this.apiClient),this.live=new aA(this.apiClient,r,new QC),this.batches=new ET(this.apiClient),this.chats=new nE(this.models,this.apiClient),this.caches=new jT(this.apiClient),this.files=new dE(this.apiClient),this.operations=new dA(this.apiClient),this.authTokens=new RA(this.apiClient),this.tunings=new HC(this.apiClient),this.fileSearchStores=new LA(this.apiClient)}}const Wu=["Derslik","Amfi","Ktphane/Okuma Salonu","renci Kantini","dari Ofisler","Toplant Salonu","Mescit","Ariv Odas","Fotokopi Odas","WC/Lavabolar","Koridorlar"],os={"":{aciklamaListesi:["Ltfen nce bir tehlike tr sein"],dinamikOrnekler:{eliminasyon:"Uygulanacak nlemi aklayn...",ikame:"Uygulanacak nlemi aklayn...",muhendislik:"Uygulanacak nlemi aklayn...",idari:"Uygulanacak nlemi aklayn...",kkd:"Uygulanacak nlemi aklayn..."}},"Kayma, Taklma, Dme, Dzensizlik (Zemin, Merdiven, Koridor)":{aciklamaListesi:["Kaygan/slak zemin (Yemekhane, WC, Bina Girii)","Hasarl/krk/yerinden oynam zemin kaplamas (Karo, Parke)","Yerde sabitlenmemi kablolar (Ofis, Derslik, Bilgisayar Lab.)","Hal/paspas kenarlar kalkk/sabitlenmemi","Seviye fark/eik (iaretlenmemi)","Merdiven basamaklar kaymaz deil/ypranm","Merdiven/platformda korkuluk/trabzan eksiklii veya standart d olmas","Gei yollarnda/koridorlarda engeller/malzemeler","Dzensiz alma alan, danklk, malzeme istifi (Atlye, Depo)","Ktphane/Arivde sabitlenmemi yksek raflar (Devrilme riski)","Dolap, pano vb. ekipmanlarn duvara sabitlenmemesi (Deprem riski)","Ak alanlarda bozuk kaldrm, ukur, mazgal sorunu","Islak zemin uyar levhas kullanlmyor/yetersiz"],dinamikOrnekler:{eliminasyon:"Yerdeki kablo ihtiyacn (kablosuz cihaza geerek) ortadan kaldrmak.",ikame:"Kaygan zemin kaplamasn, kaydrmazl yksek malzeme ile deitirmek.",muhendislik:"Zemine sabit kablo kanal/rampas, kaydrmaz bant (merdiven), korkuluk yaplmas.",idari:"Uyar levhas ('Dikkat Kaygan Zemin'), temizlik saatlerini planlamak, zemin iaretlemesi yapmak.",kkd:"Kaymaz tabanl ayakkab (Mutfak/Temizlik personeli iin)."}},"Yksekten Dme (Platform, Seyyar Merdiven, Pencere, at)":{aciklamaListesi:["Korkuluu olmayan/standart d merdiven boluu","Korkuluu olmayan/standart d platform/asma kat (Atlye, Is Merkezi)","Pencerelerden dme riski (Tam alr kanat, dk parapet, korkuluksuz)","at/Teras alannda korkuluk/uyar levhas eksiklii (Bakm alan)","Gvensiz seyyar merdiven/tabure/sandalye kullanm (Ampul deiimi, raf dzenleme vb.)","Ak ukur/boluk (kapatlmam, iaretlenmemi)","D cephe cam temizlii iin gvenli eriim yok","Yksekte alma izni/prosedr yok (Bakm personeli)"],dinamikOrnekler:{eliminasyon:"Yksekteki ii (ampul deiimi) uzun sapl aparatla yerden yapmak.",ikame:"Seyyar merdiven yerine, gvenli platformlu mobil iskele kullanmak.",muhendislik:"Sabit korkuluk taklmas, pencerelere kstlayc taklmas, yaam hatt.",idari:"Yksekte alma talimat, alma izni prosedr, bakm personeli eitimi.",kkd:"Parat tipi emniyet kemeri, baret (Sadece yetkili bakm personeli iin)."}},"Elektrik Tehlikeleri (Pano, Priz, Tesisat)":{aciklamaListesi:["Pano kapaklar ak / kilitli deil / yetkisiz eriim","Pano n kapal / eriim engellenmi (Min. 1m boluk olmal)","Hasarl/izolasyonu bozuk/akta kablo ucu","Priz/anahtar krk/hasarl/yerinden oynam","Kaak akm rlesi (KAR/RCD) yok (Ynetmelik gerei zorunludur)","Kaak akm rlesi almyor (Periyodik testi yaplmam)","Topraklama tesisat yok/uygun deil/lm yaplmam (Lab/Atlye makinesi)","Ar yklenmi oklu priz/zincirleme uzatma kablosu","Su kaynaklarna (sebil, lavabo vb.) yakn korumasz priz","Yetkisiz kiilerin panolara mdahalesi mmkn","Periyodik elektrik tesisat uygunluk kontrol yaplmam"],dinamikOrnekler:{eliminasyon:"Cihaz/tesisat kullanmdan kaldrmak (pilli/kablosuz olanla deitirmek).",ikame:"Yksek voltajl sistemi SELV (dk voltaj) ile deitirmek.",muhendislik:"Kaak Akm Rlesi (KAR) takmak, kablolar kanala almak, topraklama yapmak.",idari:"Uyar levhas ('lm Tehlikesi'), 'Yetkisiz Girilmez', periyodik kontrol talimat.",kkd:"zole eldiven, yaltkan ayakkab (Sadece yetkili bakm personeli iin)."}},"Yangn & Acil Durum (Ka Yolu, YSC, Tatbikat)":{aciklamaListesi:["Acil k kaps kilitli / n engelli / ters yne alyor","Acil durum ynlendirme levhalar (EXIT) eksik/grnmyor/aydnlatmasz/almyor","Acil durum aydnlatmalar almyor/yetersiz","Duman dedektr/alarm sistemi yok/almyor/maskelenmi","Yanc/parlayc maddelerin uygunsuz depolanmas (kat, ariv, kimyasal)","Elektrik panolar evresinde yanc malzeme depolama","Tahliye plan yok/asl deil/gncel deil","Acil durum ekipleri (Sndrme, Kurtarma, lkyardm) kurulmam/eitimsiz","Yllk yangn/tahliye tatbikat yaplmam","Sigara yasana uyulmuyor/izmaritler uygunsuz atlyor","YSC (Yangn Sndrme Cihaz) eriilebilir deil/n engelli/ask yerinde deil","YSC periyodik kontrol yaplmam/zaman gemi","YSC says/tipi uygun deil (Bina Tehlike Snfna gre)"],dinamikOrnekler:{eliminasyon:"Yanc malzemeyi (tiner) kullanmdan kaldrmak.",ikame:"ok parlayc malzemeyi, parlama noktas yksek olanla deitirmek.",muhendislik:"Duman dedektr/yangn alarm/sprinkler sistemi kurmak, EXIT ynlendirmelerini yenilemek.",idari:"Acil Durum Plan hazrlamak, ekipleri kurmak, yllk tatbikat yapmak, YSC kontrollerini planlamak.",kkd:"Acil durum ekipleri iin zel donanm."}},"Kimyasal Riskler (Laboratuvar, Atlye, Temizlik)":{aciklamaListesi:["Kimyasallar etiketsiz/kapaksz kaplarda/iecek iesinde","MSDS (GBF - Gvenlik Bilgi Formu) eksik/ulalamaz","Kimyasallar uygun olmayan yerde (ofis, lavabo alt) depolanyor","Uyumsuz kimyasallar bir arada depolanyor (Asit-Baz vb.)","Yetersiz havalandrma (kimyasal kokusu)","eker ocak yok/bakmsz/almyor (Laboratuvar)","Gz duu/acil du yok/almyor/n kapal (Laboratuvar vb.)","Uygun KKD (eldiven, gzlk, nlk) eksik/kullanlmyor","Dklme kiti (spill kit) yok/personel eitimi eksik","Temizlik kimyasallar kartrlyor (Tuz Ruhu + amar Suyu = Zehirli Gaz)","Tehlikeli atklar (kimyasal, solvent) uygun depolanmyor"],dinamikOrnekler:{eliminasyon:"Tehlikeli kimyasal (formaldehit) kullanmdan kaldrmak.",ikame:"Solvent bazl temizleyiciyi su bazl (deterjan) ile deitirmek.",muhendislik:"eker ocak kurmak, yerel havalandrma, havalandrmal kimyasal dolap, gz duu.",idari:"MSDS (GBF) bulundurmak, etiketleme yapmak, kimyasal eitimi vermek.",kkd:"Nitril eldiven, koruyucu gzlk, kimyasal nlk, solunum maskesi (gerekliyse)."}},"Mutfak, Yemekhane ve Hijyen Riskleri":{aciklamaListesi:["Gda hijyeni eksiklii var(i/pimi ayrm yaplmamas)","Souk zincirin krlm / yetersiz soutucu dolaplar","Personel hijyen eksiklii var (bone/eldiven/nlk kullanlmamas)","Scak su ve buharla yanma tehlikesi mevcut (Bulakhane, piirme kazanlar)","Kesici/delici alet tehlikesi mevcut(Bak, dorayc, kyma makinesi)","Davlumbaz/filtreler yal ve kirli (Yangn riski)","Gaz (LPG/Doalgaz) kaa riski / dedektr eksiklii mevcut","Haere/vektr mcadelesi yetersiz","Yemekhane ortak alanlarnda (masa, sandalye) hijyen eksiklii var"],dinamikOrnekler:{eliminasyon:"Bakla dorama yerine kapal sistem dorayc kullanmak.",ikame:"Krk/hasarl mutfak ekipmann yenilemek.",muhendislik:"Davlumbazlara otomatik sndrme sistemi kurmak, gaz kesme vanas ve dedektr montaj.",idari:"HACCP plan oluturmak, gda hijyeni eitimi, haere kontrol plan.",kkd:"elik zrhl eldiven (kesme ileri), sya dayankl eldiven (frn), kaymaz tabanl ayakkab."}},"Biyolojik Riskler (Di Hastanesi, Lab, Revir, Atk)":{aciklamaListesi:["Tbbi atk/kesici-delici alet kutusu yok/dolu/az ak (Di Hastanesi, Revir, Lab)","Enfekte materyale (kan, tkrk) maruziyet riski mevcut(Di Hastanesi)","Kesici-delici alet yaralanma riski mevcut(ne batmas)","Biyogvenlik kabini yok/bakmsz (Aratrma Merkezi)","Klima/havalandrma filtreleri bakmsz (Lejyonella riski)","Yetersiz el ykama imkan/hijyen malzemesi eksiklii (sabun, kat havlu, dezenfektan)","Ortak alanlarda (WC, lavabo) genel hijyen eksiklii mevcut","Biyolojik atklarn uygun ayrtrlmamas/depolanmamas yaplmyor"],dinamikOrnekler:{eliminasyon:"Tek kullanmlk (disposable) malzemeler kullanmak.",ikame:"ne batmasn nleyen (emniyetli) enjektr kullanmak.",muhendislik:"Biyogvenlik kabini, uygun havalandrma (negatif basnl oda), kapakl atk kutular.",idari:"Biyolojik riskler eitimi, alama program (Hepatit B), atk ynetimi plan.",kkd:"Medikal eldiven, N95/FFP2 maske, siperlik/gzlk, tbbi nlk."}},"Ergonomi - Ekranl Aralar (Ofis, Bilgisayar Lab., Ktphane)":{aciklamaListesi:["Ayarlanamayan/ergonomik olmayan ofis sandalyesi/sra","Monitr seviyesi gz hizasnda deil (ok alak/yksek)","Ekran parlamas/yetersiz aydnlatma","Uzun sreli kesintisiz oturarak alma (Ara dinlenme verilmiyor)","Masa alt bacak/ayak mesafesi yetersiz/dolu","Dizst bilgisayarn ykseltici olmadan srekli kullanm"],dinamikOrnekler:{eliminasyon:"Hareketsiz almay kaldrmak (ayakta allabilir masa vb.).",ikame:"Eski tip monitr (Tpl) LCD/LED ekranla deitirmek.",muhendislik:"Ayarlanabilir koltuk/masa salamak, monitr ykseltici, ayak destei.",idari:"Periyodik ara dinlenmeler (50dk alma 10dk mola), 'Ekranl Aralar' eitimi.",kkd:"Gerekmez (Antirefle gzlk tbbi bir geretir, KKD deildir)."}},"Ergonomi - Elle Tama & Tekrarl  (Ariv, Mutfak, Atlye, Di Hek.)":{aciklamaListesi:["Ar malzeme kaldrma (Su damacanas, kt kolisi, ariv dosyalar, yemek kazan)","Mekanik yardmc (tama arabas, transpalet) yok/kullanlmyor","Personel kaldrma teknii eitimi almam","Ykler dzensiz istiflenmi/raf ykseklii uygunsuz","Uygunsuz pozisyonda (eilerek/dnerek) kaldrma/alma (Di Hekimi, Atlye)","Zorlayc/tekrarl el-kol hareketleri (Atlye, Dental Klinik, Mutfak)"],dinamikOrnekler:{eliminasyon:"Manuel tamay kaldrmak (ktlar dijitalletirmek, merkezi su sistemi).",ikame:"Ar damacana yerine su artma cihaz kullanmak.",muhendislik:"Tama arabas, transpalet salamak, raflar eriilebilir ykseklie indirmek.",idari:"Eitim (Elle Kaldrma Tama), i rotasyonu, salk gzetimi (Bel ars).",kkd:"Mekanik risk eldiveni, elik burunlu ayakkab (Depo/Ariv/Mutfak)."}},"Fiziksel Etmenler (Grlt, Titreim, Termal Konfor)":{aciklamaListesi:["Grltl alma (Is Merkezi, Kompresr Odas, Atlye, Jeneratr)","Grlt seviyesi 85 dB zeri (Maruziyet)","Titreimli el aleti kullanm (Atlye, Bakm)","Ortam ok scak/souk (Termal konfor salanmam - Is Merkezi, Mutfak)","Yetersiz havalandrma/durgun hava (Kalabalk derslik, ofis)"],dinamikOrnekler:{eliminasyon:"Grltl yazcy odadan karmak.",ikame:"Grltl cihaz daha sessiz modeliyle deitirmek.",muhendislik:"Ses emici panel/kabin, lokal havalandrma/iklimlendirme, kurun zrhlama.",idari:"Grlt/Aydnlatma/Termal Konfor lm, alma sresini kstlama (rotasyon).",kkd:"Kulak koruyucu (tka/manonlu), anti-vibrasyon eldiveni, kurun nlk."}}," Ekipmanlar ve Mekanik Tehlikeler (Atlye, Is Merkezi)":{aciklamaListesi:["Makine koruyucusu yok/sklm/devre d (Torna, Matkap, Pres, Kay-Kasnak)","Ekipmanda Acil Durdurma Butonu yok/almyor/eriilemiyor","Arzal/uygunsuz el aleti kullanlyor (spiral, matkap vb.)","Kaldrma ekipmanlarnn(Asansr, Vin, Forklift) periyodik kontrol yaplmam","Basnl kaplarn (Kompresr, Otoklav, Kalorifer Kazan) periyodik kontrol yaplmam","Kompresr/Kazan emniyet ventili arzal/bloke edilmi/uygun deil","Asansrde krmz/sar etiket var (kullanma uygun deil)","Atlyedeki ekipman (torna, freze) zemine sabitlenmemi","Is Merkezinde kazan dairesi iletmecisi (yetki belgeli) yok"],dinamikOrnekler:{eliminasyon:"Tehlikeli makineyi/ilemi fason (dardan hizmet alm) olarak yaptrmak.",ikame:"Arzal/gvensiz el aletini yenisiyle deitirmek.",muhendislik:"Makineye sabit koruyucu kapak/sensr/acil stop butonu eklenmesi.",idari:"Ekipmanlarn periyodik kontrol planna dahil edilmesi, kullanm talimat aslmas, yetkili operatr grevlendirilmesi.",kkd:"Mekanik i eldiveni, elik burunlu ayakkab, koruyucu gzlk."}},"Psikososyal Riskler (Stres, Mobbing, letiim)":{aciklamaListesi:["Ar i yk/zaman basks (zellikle snav/kayt dnemleri)","Rol belirsizlii/grev tanm atmas","Mobbing (Yatay/Dikey Zorbalk)","Akademik/idari personel aras iletiim sorunlar/atma","iddet/Szl taciz riski (renci-personel-hasta yakn)","Yalnz alma (gece/tenha alanlar - Gvenlik, Bakm)","Dzensiz vardiya/ar uzun alma saatleri","Kararlara katlm eksiklii/geri bildirim yokluu"],dinamikOrnekler:{eliminasyon:"Mobbinge neden olan kiiyi/kayna izole etmek/iliiini kesmek.",ikame:"atmal bir yneticiyi, yapc bir ynetici ile deitirmek.",muhendislik:"Yalnz alanlar iin panik butonu, gvenlik kameralar, giri kontrol sistemleri.",idari:"Mobbing/iddet politikas oluturmak, ikayet mekanizmas kurmak, grev tanmlarn netletirmek, adil vardiya plan.",kkd:"Gerekmez."}},"Radyasyon Riski (Nkleer Tp, Aratrma, Fizik Lab.)":{aciklamaListesi:["yonize radyasyon kayna var(X-Ray, Gama, Radyoaktif zotop)","Dozimetre/Film rozeti kullanlmyor/takip edilmiyor","Radyasyon uyar levhas/iaretleme eksik","Kurun zrhlama/koruyucu ekran yetersiz (Di Rntgeni)","Radyoaktif atk uygun depolanmyor/etiketlenmemi","Hamile personel/renci bilgilendirilmemi","Radyasyon Gvenlii sorumlusu atanmam","Lazer kullanmnda uygun gz korumas yok (Fizik/Mhendislik Lab.)"],dinamikOrnekler:{eliminasyon:"Radyoaktif kayna/ilemi kaldrmak (gerekten gerekli mi?).",ikame:"Yksek aktiviteli kayna dk aktiviteli ile deitirmek.",muhendislik:"Kurun zrhlama, uzaktan kumanda, otomatik kapanma, kilitli depolama.",idari:"Radyasyon alma izni, maruz kalma srelerini kstlama, hamilelik bildirimi prosedr.",kkd:"Kurun nlk, tiroid kalkan, dozimetre/film rozeti (izleme)."}},"Atk Ynetimi (Tehlikeli/Tbbi/Kimyasal)":{aciklamaListesi:["Atklar ayrtrlmadan kark atlyor","Tbbi atk kutular uygun deil/tayor (Di Hast., Revir)","Kimyasal atk lavaboya/kanalizasyona dklyor","Tehlikeli atk geici depolama alan uygunsuz (ak/gnee maruz)","Atk etiketleme/kayd yaplmyor","Atk tama/toplama personeli eitimsiz","Kesici-delici atk (ine, bistri) kutudan tayor/uygunsuz","Radyoaktif atk ayr depolanmyor/bozunma beklenmemi"],dinamikOrnekler:{eliminasyon:"Atk oluturan malzemeyi/ilemi kullanmdan kaldrmak.",ikame:"Tek kullanmlk yerine ykanabilir/tekrar kullanlabilir malzeme tercih etmek.",muhendislik:"Renkli kodlu atk konteynerleri, kilitli tehlikeli atk deposu, havalandrma.",idari:"Atk Ynetim Plan, personel eitimi, lisansl firma ile szleme, kayt tutma.",kkd:"Atk toplama eldiveni, maske, gzlk, nlk."}},"Deney Hayvanlar Birimleri (Vivaryum)":{aciklamaListesi:["Hayvan srmas/trmalama riski mevcut","Alerjen maruziyeti (ty, dk, idrar) riski mevcut","Zoonotik hastalk bulamas riski (Toksoplazmoz, Hantavirs) mevcut","Yetersiz havalandrma/amonyak birikimi var","Kesici-delici atk (Enjektr inesi) mevcut","Anestezi gaz maruziyeti (zofluran vb.) mevcut","Hayvan ka/kontrol kayb riski var","Kadavra/doku atklarnn bertaraf uygunsuz"],dinamikOrnekler:{eliminasyon:"Deney hayvan kullanmn alternatif yntemlerle (in-vitro, simulasyon) deitirmek.",ikame:"Iri hayvan yerine daha kk/kolay kontrol edilebilir tr kullanmak.",muhendislik:"HEPA filtreli havalandrma, otoklav, biyogvenlik kabini, gvenli kafes sistemi.",idari:"Hayvan bakm protokolleri, alama program (Kuduz, Tetanoz), eitim.",kkd:"Hayvan tutma eldiveni, N95 maske, tulum, gzlk."}},"Dier (Yukardaki Snflara Girmeyen)":{aciklamaListesi:["Doal afet riski var(Deprem - binada hasar riski)","Gvenlik zafiyeti var(Yetkisiz giri, hrszlk)","Hayvan saldrs riski var(Babo kpek - kamps ak alan)","Park alan yetersizlii mevcut(Trafik skkl)","Ar souk/scak hava koullarndan etkilenme riski (Ak alanlarda alma)","Manuel olarak tanmlanacak dier tehlikeler"],dinamikOrnekler:{eliminasyon:"Risk kaynan ortadan kaldrmak.",ikame:"Daha gvenli alternatifle deitirmek.",muhendislik:"Teknik kontrol nlemleri uygulamak.",idari:"Prosedr/talimat/eitim oluturmak.",kkd:"Kiisel koruyucu donanm salamak."}}},eb=["renci","Akademik Personel","dari Personel","Temizlik Personeli (Alt veren)","Gvenlik Personeli (Alt veren)","Bakm/Teknik Personel","Ziyareti / Misafir","Tm alanlar","Herkes (renci + alan + Ziyareti)"],fc=[{v:.5,t:"0.5 - Neredeyse mkansz"},{v:1,t:"1 - Pratik Olarak mkansz"},{v:2,t:"2 - Olduka Dk"},{v:3,t:"3 - Zayf"},{v:6,t:"6 - Dk"},{v:10,t:"10 - Orta"},{v:15,t:"15 - Yksek"}],dc=[{v:1,t:"1 - Hafif"},{v:3,t:"3 - Kk"},{v:7,t:"7 - nemli"},{v:15,t:"15 - Ciddi"},{v:40,t:"40 - ok Ciddi"},{v:100,t:"100 - Felaket"}],mc=[{v:.5,t:"0.5 - ok Nadir"},{v:1,t:"1 - Nadir"},{v:2,t:"2 - Ara Sra"},{v:3,t:"3 - Sk"},{v:6,t:"6 - Srekli"},{v:10,t:"10 - Devaml"}],tb={fineKinney:{baslik:"Fine-Kinney Risk Deerlendirme Yntemi",icerik:["Risk Skoru = Olaslk  iddet  Sklk",""," Risk Seviyeleri (rnek Matris):"," 0-20: nemsiz Risk (Yeil) - Kabul edilebilir"," 20-70: Dk Risk (Mavi) - Dikkat edilmeli"," 70-200: Orta Risk (Sar) - yiletirme gerekli"," 200-400: nemli Risk (Turuncu) - Acil nlem"," 400+: Yksek Risk (Krmz) - Derhal mdahale"]},olasilik:{baslik:"Olaslk Deerleri",icerik:`0.5 = Neredeyse mkansz
1 = Pratik Olarak mkansz
2 = Olduka Dk
3 = Zayf
6 = Dk
10 = Orta
15 = Yksek`},siddet:{baslik:"iddet (Sonu) Deerleri",icerik:`1 = Hafif - lk yardmsz
3 = Kk - lk yardm gerektirir
7 = nemli -  gremezlik
15 = Ciddi - Sakatlk
40 = ok Ciddi - Kalc sakatlk
100 = Felaket - lm`},siklik:{baslik:"Sklk (Maruziyet) Deerleri",icerik:`0.5 = ok Nadir (Ylda bir)
1 = Nadir (Ayda bir)
2 = Ara Sra (Haftada bir)
3 = Sk (Gnde bir)
6 = Srekli (Saatte bir)
10 = Devaml`},hiyerarsi:{baslik:"Risk Kontrol Hiyerarisi (RDY Madde 10)",icerik:`Risklerin kontrolnde bu ncelik sras esastr:
1. Eliminasyon (Yok Etme): Tehlikeyi ortadan kaldrn.
2. kame (Deitirme): Tehlikeliyi daha az tehlikeli olanla deitirin.
3. Mhendislik nlemleri: Riski kaynanda izole edin (rn: Koruyucu, bariyer, havalandrma).
4. dari nlemler: alma sresi, talimatlar, uyar levhalar, eitimler.
5. Kiisel Koruyucu Donanm (KKD): En son are olarak alana KKD verin.`},aiRiskScoring:{baslik:"AI Destekli Risk Puanlama",icerik:`Bu zellik, "Tehlike Aklamas" alanna yazdnz metni analiz eder ve Fine-Kinney metodolojisine gre en uygun Olaslk, iddet ve Sklk deerlerini nerir.

AI, tehlikenin ciddiyetini ve potansiyel etkilerini deerlendirerek size bir balang noktas sunar. Son karar ve dorulama her zaman size aittir.`},aiControlMeasures:{baslik:"AI Destekli nlem nerileri",icerik:`Bu zellik, tanmladnz tehlike iin Risk Kontrol Hiyerarisi'nin her bir basamana (Yok Etme, kame, Mhendislik vb.) uygun, spesifik ve uygulanabilir kontrol nlemleri oluturur.

Oluturulan neriler, niversite ortamna uygun ve pratik zmler sunmay hedefler. Bu nerileri dorudan kullanabilir veya kendi nlemleriniz iin ilham kayna olarak deerlendirebilirsiniz.`},aiResponsibleUnit:{baslik:"AI Destekli Sorumlu Birim Tespiti",icerik:`Bu zellik, girilen Alan, Faaliyet ve Tehlike bilgilerini analiz ederek, bu riskin zm iin en olas sorumlu birimi nerir.

rnein, "arzal priz" gibi bir tehlike iin "Teknik Bakm Birimi" gibi bir neri sunarak, grev atama srecini hzlandrr.`},aiImageAnalysis:{baslik:"Fotoraftan Tehlike Tespiti",icerik:`Bu zellik, bu riske eklediiniz son fotoraf analiz ederek grntdeki poteniyel tehlikeleri tespit eder ve bunlar metin olarak "Tehlike Aklamas" alanna ekler.

rnein, yerde duran bir kabloyu veya engellenmi bir acil k otomatik olarak tanyabilir. Analiz iin en az bir fotoraf eklenmi olmaldr.`},aiGeneralSummary:{baslik:"AI Destekli Genel Deerlendirme zeti",icerik:`Bu zellik, formda tanmlanan tm riskleri, puanlarn ve nerilen nlemleri analiz ederek "Genel Deerlendirme" alan iin kapsaml bir zet metin oluturur.

Bu zet, en yksek riskli alanlar, ortak temalar ve genel aksiyon plann vurgulayarak raporunuzun sonu blmn hazrlamanza yardmc olur.`}},ey=i=>new Promise((t,l)=>{const o=new FileReader;o.onloadend=()=>{const r=o.result.split(",")[1];t(r)},o.onerror=l,o.readAsDataURL(i)}),nb=(i,t,l)=>{const o=atob(i),r=new Array(o.length);for(let m=0;m<o.length;m++)r[m]=o.charCodeAt(m);const f=new Uint8Array(r);return new File([f],t,{type:l})},Gu=i=>i<=20?"nemsiz Risk":i<=70?"Dk Risk":i<=200?"Orta Risk":i<=400?"nemli Risk":"Yksek Risk",ib=i=>i.replace(/\S*/g,t=>t.charAt(0).toLocaleUpperCase("tr-TR")+t.slice(1).toLowerCase()),lb=i=>i&&i.charAt(0).toLocaleUpperCase("tr-TR")+i.slice(1),ju=(i,t=1024,l=.7)=>new Promise((o,r)=>{const f=new FileReader;f.readAsDataURL(i),f.onload=m=>{var y;const g=new Image;g.src=(y=m.target)==null?void 0:y.result,g.onload=()=>{const h=document.createElement("canvas");let v=g.width,T=g.height;v>t&&(T=Math.round(T*t/v),v=t),h.width=v,h.height=T;const k=h.getContext("2d");if(!k){r(new Error("Canvas context failure"));return}k.drawImage(g,0,0,v,T),h.toBlob(A=>{if(!A){r(new Error("Canvas to Blob failure"));return}const N=new File([A],i.name,{type:"image/jpeg",lastModified:Date.now()});o(N)},"image/jpeg",l)},g.onerror=h=>r(h)},f.onerror=m=>r(m)}),ab={BASE_URL:"/ISG-Tehlike-Analizi/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ty=()=>{try{const i=localStorage.getItem("gemini_api_key");if(i)return i}catch{}return""},ob=i=>{try{i&&i.trim()&&localStorage.setItem("gemini_api_key",i.trim())}catch(t){console.error("API anahtar kaydedilemedi:",t)}},sb=()=>ty()!=="",ei=()=>new jC({apiKey:ty()}),rb=async i=>{const t=ei(),l=`Sen deneyimli bir niversite  Sal ve Gvenlii (SG) Uzmansn. 
u anda "${i}" biriminde/fakltesinde risk deerlendirmesi yapyoruz.

Grevin: Bu birimde bulunmas muhtemel, ancak aadaki "MEVCUT LSTE" iinde yer almayan, 5 adet spesifik ve o birime zg alan/blm/oda ismi nermektir.

MEVCUT LSTE (Bunlar ASLA tekrar nerme):
${JSON.stringify(Wu)}

KURALLAR:
1. nerilerin bu birimin (Faklte/Yksekokul) akademik veya idari yapsna uygun olmal (rn: Laboratuvar isimleri, Atlyeler, zel alma odalar, Ariv tipleri vb.).
2. Sadece mekan isimleri ver, aklama yapma.
3. Yant sadece geerli bir JSON formatnda ver.

stenen JSON Format:
{"alanlar": ["nerilen Alan 1", "nerilen Alan 2", ...]}
`,o=await t.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:Fe.OBJECT,properties:{alanlar:{type:Fe.ARRAY,items:{type:Fe.STRING}}}}}}),r=JSON.parse(o.text.trim());return[...new Set([...Wu,...r.alanlar||[]])]},ub=async(i,t)=>{const l=ei(),o=t.map(m=>({alan:m.alan,tehlike:m.tehlikeAciklama,riskSeviyesi:m.riskSeviye,riskSkoru:m.riskSkoru,onlemler:m.onerilecekOnlemler})),r=`
Sen uzman bir Ba Denetisin. Bir niversitenin "${i.birim}" birimi iin yaplan  Sal ve Gvenlii Risk Deerlendirmesi raporunun "SONU VE GENEL DEERLENDRME" blmn yazyorsun.

BRM BLGLER:
- Birim Ad: ${i.birim}
- Tehlike Snf: ${i.tehlikeSinifi}
- Toplam Tespit Edilen Risk Says: ${t.length}

TESPT EDLEN RSKLERN DETAYLARI:
${JSON.stringify(o.slice(0,30),null,2)}

GREVN:
Ynetime sunulacak, resmi, teknik ve profesyonel bir dille yazlm kapsaml bir zet metni olutur.

METN ER UNLARI KAPSAMALIDIR:
1. **Giri:** almann amac ve kapsam.
2. **Genel Durum Analizi:** Birimde ne kan temel risk alanlar nelerdir? (rn: Elektrik altyaps m kt, yoksa ergonomik sorunlar m arlkta?)
3. **ncelikli Aksiyonlar:** Acilen mdahale edilmesi gereken "Yksek" veya "nemli" riskler varsa vurgula.
4. **neriler ve Sonu:** yiletirme nerilerinin genel erevesi ve SG kltrne katks.

KURALLAR:
- "Merhaba", "te zetiniz" gibi sohbet ifadeleri KULLANMA. Dorudan rapor metnini yaz.
- Maddeler halinde deil, akc paragraflar halinde yaz (veya gerekirse ok nemli yerleri maddeleyebilirsin ama btnlk bozulmasn).
- Yaklak 300-500 kelime uzunluunda olsun.
`;return(await l.models.generateContent({model:"gemini-2.5-flash",contents:r})).text},cb=async(i,t)=>{const l=ei(),o=`
Sen bir SG Uzmansn. 
Birim: "${i}"
Alan/Blm: "${t}"

Bu alanda gerekletirilen tipik ileri, sreleri ve faaliyetleri dn.
Risk deerlendirmesine konu olabilecek 15 adet tekil faaliyet/i listesi olutur.

rnekler: "Projeksiyon cihaz kullanm", "Kimyasal tama", "Snav kad okuma", "Zemin temizlii", "Pencere ama/kapama" gibi somut iler olsun.

Yant JSON formatnda ver: {"activities": ["faaliyet 1", "faaliyet 2"]}
`,r=await l.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Fe.OBJECT,properties:{activities:{type:Fe.ARRAY,items:{type:Fe.STRING}}}}}});return JSON.parse(r.text.trim()).activities||[]},fb=async(i,t)=>{var g;const l=ei(),o=((g=os[t.tehlike])==null?void 0:g.aciklamaListesi)||[],r=`
Sen tecrbeli bir  Gvenlii Uzmansn. Aadaki balama uygun potansiyel tehlikeleri belirlemen gerekiyor.

BALAM:
- Birim: ${i}
- Alan: ${t.alan}
- Faaliyet: ${t.faaliyet}
- Tehlike Kategorisi: ${t.tehlike}

GREV:
Bu kategoride, bu alanda ve bu faaliyet srasnda oluabilecek, MEVCUT LSTEDE OLMAYAN 7 adet spesifik tehlike durumu cmlesi yaz.
Cmleler bir tehlikeyi veya risk kaynan aka belirtmeli. (rn: "Kablolarn dank olmas", "Havalandrmann yetersizlii" gibi).

MEVCUT LSTE (Bunlar tekrar etme):
${JSON.stringify(o)}

Yant JSON formatnda ver: {"suggestions": ["tehlike aklamas 1", "tehlike aklamas 2"]}
`,f=await l.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Fe.OBJECT,properties:{suggestions:{type:Fe.ARRAY,items:{type:Fe.STRING}}}}}});return JSON.parse(f.text.trim()).suggestions||[]},db=async(i,t)=>{const l=ei(),o=await ey(i);return(await l.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:`
Sen uzman bir SG Denetisisin. Sana bir niversite/i yeri ortamndan ekilmi bir fotoraf gnderildi.
Bu fotoraf i sal ve gvenlii (SG) perspektifiyle detaylca analiz et.

GREVN:
Fotorafta grlen potansiyel tehlikeleri, riskleri ve uygunsuzluklar (gvensiz durum ve davranlar) tespit et.
Sadece bariz olanlar deil, dikkatli bakldnda grlebilecek detaylar da yakala (rn: ergonomi, elektrik gvenlii, yangn riski, dzen-tertip, KKD eksiklii vb.).

IKTI FORMATI:
Tespitlerini maddeler halinde, net ve anlalr cmlelerle yaz. Her madde bir tehlikeyi belirtsin.
Giri/gelime cmlelerine gerek yok, dorudan tespitlerini srala.

rnek:
- Yerde taklma tehlikesi oluturan dank kablolar mevcut.
- Yangn dolabnn n kolilerle kapatlm.
- Personel baret takmadan alyor.
`},{inlineData:{mimeType:t,data:o}}]}})).text},mb=async(i,t)=>{const l=ei(),o=`
Sen bir SG Uzmansn. Aadaki tehlike durumunu "Fine-Kinney Risk Deerlendirme Metodu"na gre puanlaman istiyorum.

DURUM:
- Birim: ${t}
- Alan: ${i.alan}
- Tehlike Aklamas: "${i.tehlikeAciklama}"

Fine-Kinney Skalalar (Buna Sadk Kal):
1. OLASILIK (P): 0.2, 0.5, 1, 3, 6, 10 (10=Beklenir, 0.2=Beklenmez)
2. DDET (D): 1, 3, 7, 15, 40, 100 (100=Birden ok lm, 1=Hafif Yaralanma)
3. SIKLIK (F): 0.5, 1, 2, 3, 6, 10 (10=Srekli, 0.5=ok Nadir)

GREV:
Bu tehlikenin gerekleme olasln, gerekleirse yarataca iddeti ve tehlikeye maruz kalma skln analiz et.
Mantkl ve gereki bir puanlama yap.

Yant JSON formatnda ver:
{
  "olasilik": number,
  "siddet": number,
  "siklik": number,
  "gerekce": "Neden bu puanlar verdiini aklayan ksa, ikna edici bir cmle."
}
`,r=await l.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Fe.OBJECT,properties:{olasilik:{type:Fe.NUMBER},siddet:{type:Fe.NUMBER},siklik:{type:Fe.NUMBER},gerekce:{type:Fe.STRING}}}}});return JSON.parse(r.text.trim())},pb=async i=>{const t=ei(),l=`
Sen bir SG Uzmansn. Aada belirtilen risk iin "Risk Kontrol Hiyerarisi"ne (Hierarchy of Controls) uygun, niversite ortamnda uygulanabilir, somut ve teknik nlemler ner.

RSK BLGS:
- Alan: ${i.alan}
- Tehlike: ${i.tehlikeAciklama}

HYERAR ADIMLARI VE BEKLENEN ERK:
1. Eliminasyon (Yok Etme): Tehlikeyi tamamen ortadan kaldran kkten zm.
2. kame (Yerine Koyma): Tehlikeli olan daha az tehlikeli ile deitirme.
3. Mhendislik nlemleri: Toplu koruma, teknik donanm, sensr, bariyer, havalandrma vb.
4. dari nlemler: Eitim, talimat, iaretleme, rotasyon, bakm planlar.
5. KKD (Kiisel Koruyucu Donanm): Kiiye ynelik koruyucu ekipmanlar.

KURALLAR:
- Her balk iin en az 1-2 cmlelik, uygulanabilir, net neriler yaz.
- "Gerekli nlemler alnmal" gibi yuvarlak laflar etme. "Kaydrmaz bant yaptrlmal" gibi net konu.
- NEML: Her nerinin sonuna, ilgili Trk SG Ynetmeliine ve maddesine minimal bir atf ekle (parantez iinde).
  rnek: ( Ekipmanlar Yn. Md. 5) veya (Binalarn Yangndan Korunmas Yn. Md. 21).
- kty tam olarak aadaki XML benzeri etiket formatnda ver (Parse edeceim):

<eliminasyon>...</eliminasyon>
<ikame>...</ikame>
<muhendislik>...</muhendislik>
<idari>...</idari>
<kkd>...</kkd>
`;return t.models.generateContentStream({model:"gemini-2.5-flash",contents:l})},hb=async i=>{const t=ei(),l=`
Sen bir niversitenin idari yapsn bilen bir uzmansn.
Aadaki SG riskini/arzasn gidermekten sorumlu olmas en muhtemel idari birimi veya teknik servisi belirle.

Tehlike: "${i.tehlikeAciklama}"
Alan: "${i.alan}"

rnekler:
- Elektrik, su, bina hasar -> Yap leri ve Teknik Daire Bakanl
- Temizlik, tama -> dari ve Mali ler / Destek Hizmetleri
- Bilgisayar, a -> Bilgi lem Daire Bakanl
- Laboratuvar cihaz -> lgili Blm Bakanl / Dekanlk

Sadece tek bir birim ad ner.

Yant JSON olarak ver: {"sorumlu": "Birim Ad"}
`,o=await t.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:{type:Fe.OBJECT,properties:{sorumlu:{type:Fe.STRING}}}}});return JSON.parse(o.text.trim()).sorumlu};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,o)=>o?o.toUpperCase():l.toLowerCase()),ng=i=>{const t=yb(i);return t.charAt(0).toUpperCase()+t.slice(1)},ny=(...i)=>i.filter((t,l,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===l).join(" ").trim(),vb=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=K.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:r="",children:f,iconNode:m,...g},y)=>K.createElement("svg",{ref:y,...Sb,width:t,height:t,stroke:i,strokeWidth:o?Number(l)*24/Number(t):l,className:ny("lucide",r),...!f&&!vb(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,v])=>K.createElement(h,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(i,t)=>{const l=K.forwardRef(({className:o,...r},f)=>K.createElement(Tb,{ref:f,iconNode:t,className:ny(`lucide-${gb(ng(i))}`,`lucide-${i}`,o),...r}));return l.displayName=ng(i),l};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],kb=He("bold",Eb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ab=He("camera",_b);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bb=He("chevron-up",Cb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rb=He("circle-question-mark",xb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],iy=He("copy",Nb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Db=He("download",Mb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wb=He("image",Ib);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],zb=He("italic",Ub);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Gb=He("key",Lb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Vb=He("lightbulb",Hb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],qb=He("list",Bb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ly=He("loader-circle",Pb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Fb=He("maximize-2",Ob);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Jb=He("mic",Yb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Xb=He("palette",Kb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ay=He("paperclip",Qb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$b=He("plus",Zb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jb=He("printer",Wb);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tx=He("rotate-ccw",ex);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],ix=He("text-align-center",nx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],ax=He("text-align-end",lx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],sx=He("text-align-start",ox);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ux=He("trash-2",rx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fx=He("type",cx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],mx=He("underline",dx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hx=He("upload",px);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yx=He("users",gx);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sx=He("x",vx),Tx=be.memo(()=>E.jsx(jb,{className:"w-5 h-5"})),Ex=be.memo(()=>E.jsx($b,{className:"w-4 h-4"})),ps=be.memo(()=>E.jsx(ux,{className:"w-6 h-6 stroke-current"})),Ei=be.memo(()=>E.jsx(Rb,{className:"w-[14px] h-[14px] inline stroke-current"})),oy=be.memo(({className:i})=>E.jsx(Sx,{className:i||"w-6 h-6"})),kx=be.memo(()=>E.jsx(yx,{className:"w-5 h-5"})),_x=be.memo(()=>E.jsx(tx,{className:"w-5 h-5 stroke-current"})),Ax=be.memo(()=>E.jsx(Db,{className:"w-5 h-5 stroke-current"})),Cx=be.memo(()=>E.jsx(hx,{className:"w-5 h-5 stroke-current"})),pc=be.memo(({isCollapsed:i,className:t="w-6 h-6"})=>E.jsx(bb,{className:`${t} stroke-current toggle-icon ${i?"toggle-icon-collapsed":""}`})),An=be.memo(({isListening:i})=>E.jsx(Jb,{className:`w-5 h-5 ${i?"text-red-500":""}`})),bx=be.memo(()=>E.jsx(Fb,{className:"w-4 h-4",strokeWidth:"2"})),xx=be.memo(()=>E.jsx(ay,{className:"w-4 h-4",strokeWidth:"2"})),Rx=be.memo(()=>E.jsx(ay,{className:"w-4 h-4",strokeWidth:"2"})),Nx=be.memo(()=>E.jsx(Ab,{className:"w-4 h-4",strokeWidth:"2"})),Mx=be.memo(()=>E.jsx(wb,{className:"w-6 h-6",strokeWidth:"2"})),sy=be.memo(()=>E.jsx(ly,{className:"w-5 h-5 animate-spin"})),$n=be.memo(()=>E.jsx(Vb,{className:"w-4 h-4"})),Wn=be.memo(()=>E.jsx(ly,{className:"w-4 h-4 animate-spin"})),ry=be.memo(()=>E.jsx(iy,{className:"w-6 h-6 stroke-current"})),Dx=be.memo(()=>E.jsx(iy,{className:"w-4 h-4"})),uy=be.memo(({className:i})=>E.jsx(Gb,{className:i||"w-5 h-5"})),Ix=be.memo(()=>E.jsx(kb,{className:"w-4 h-4"})),wx=be.memo(()=>E.jsx(zb,{className:"w-4 h-4"})),Ux=be.memo(()=>E.jsx(mx,{className:"w-4 h-4"})),zx=be.memo(()=>E.jsx(sx,{className:"w-4 h-4"})),Lx=be.memo(()=>E.jsx(ix,{className:"w-4 h-4"})),Gx=be.memo(()=>E.jsx(ax,{className:"w-4 h-4"}));be.memo(()=>E.jsx(qb,{className:"w-4 h-4"}));const Hx=be.memo(()=>E.jsx(Xb,{className:"w-4 h-4"})),Vx=be.memo(()=>E.jsx(fx,{className:"w-4 h-4"})),cy=({value:i,onChange:t,placeholder:l,className:o,disabled:r})=>{const f=K.useRef(null),m=K.useRef(null),[g,y]=K.useState(!1),[h,v]=K.useState(!1),[T,k]=K.useState(!1),A=[{hex:"#000000",label:"Siyah"},{hex:"#6B7280",label:"Gri"},{hex:"#DC2626",label:"Krmz"},{hex:"#F59E0B",label:"Turuncu"},{hex:"#16A34A",label:"Yeil"},{hex:"#2563EB",label:"Mavi"},{hex:"#7C3AED",label:"Mor"}],N=[{val:"1",label:"ok Kk"},{val:"2",label:"Kk"},{val:"3",label:"Normal"},{val:"4",label:"Byk"},{val:"5",label:"ok Byk"},{val:"6",label:"Devasa"},{val:"7",label:"Maksimum"}],U=[{label:"Varsaylan",val:"Arial, Helvetica, sans-serif"},{label:"Arial",val:"Arial"},{label:"Verdana",val:"Verdana"},{label:"Times New Roman",val:"Times New Roman"},{label:"Courier New",val:"Courier New"},{label:"Georgia",val:"Georgia"},{label:"Tahoma",val:"Tahoma"},{label:"Trebuchet MS",val:"Trebuchet MS"}];K.useEffect(()=>{f.current&&document.activeElement!==f.current&&f.current.innerHTML!==i&&(i&&!i.includes("<")&&i.includes(`
`)?f.current.innerHTML=i.replace(/\n/g,"<br>"):f.current.innerHTML=i||"")},[i]),K.useEffect(()=>{const J=ee=>{m.current&&m.current.contains(ee.target)||(y(!1),v(!1),k(!1))};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const w=J=>{t(J.currentTarget.innerHTML)},P=J=>{J.preventDefault();const ee=J.clipboardData.getData("text/plain"),ne=J.clipboardData.getData("text/html");if(ne){const L=document.createElement("div");L.innerHTML=ne;const z=O=>{O.style.lineHeight="inherit",O.style.backgroundColor="",O.removeAttribute("class")};L.querySelectorAll("*").forEach(O=>{O instanceof HTMLElement&&z(O)}),L instanceof HTMLElement&&z(L),document.execCommand("insertHTML",!1,L.innerHTML)}else document.execCommand("insertText",!1,ee)},X=(J,ee=void 0)=>{var ne;document.execCommand(J,!1,ee),(ne=f.current)==null||ne.focus()},Y=J=>{J.preventDefault(),J.stopPropagation()};return E.jsxs("div",{className:`flex flex-col border border-gray-300 rounded overflow-visible bg-white ${r?"opacity-75":""}`,children:[!r&&E.jsxs("div",{ref:m,className:"flex items-center flex-wrap gap-1 p-1 bg-gray-50 border-b border-gray-200 overflow-visible print:hidden relative z-20",children:[E.jsxs("div",{className:"flex items-center gap-0.5 border-r border-gray-300 pr-1 mr-1",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onMouseDown:Y,onClick:()=>{k(!T),v(!1),y(!1)},className:`h-7 px-2 hover:bg-gray-200 rounded text-gray-700 flex items-center gap-1 border border-transparent hover:border-gray-300 ${T?"bg-gray-200 border-gray-300":""}`,title:"Yaz Tipi Se",children:[E.jsx("span",{className:"font-serif font-bold text-sm px-1",children:"Font"}),E.jsx("span",{className:"text-[10px] text-gray-500",children:""})]}),T&&E.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 shadow-xl rounded py-1 z-50 w-[160px] flex flex-col max-h-[250px] overflow-y-auto",children:U.map(J=>E.jsx("button",{onMouseDown:ee=>{ee.preventDefault(),X("fontName",J.val),k(!1)},className:"text-left px-3 py-2 hover:bg-gray-100 text-sm text-gray-700 w-full truncate border-b border-gray-50 last:border-0",style:{fontFamily:J.val},children:J.label},J.val))})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onMouseDown:Y,onClick:()=>{v(!h),k(!1),y(!1)},className:`h-7 px-2 hover:bg-gray-200 rounded text-gray-700 flex items-center gap-1 border border-transparent hover:border-gray-300 ${h?"bg-gray-200 border-gray-300":""}`,title:"Yaz Boyutu Se",children:[E.jsx(Vx,{}),E.jsx("span",{className:"text-[10px] text-gray-500",children:""})]}),h&&E.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 shadow-xl rounded py-1 z-50 w-[130px] flex flex-col max-h-[250px] overflow-y-auto",children:N.map(J=>E.jsxs("button",{onMouseDown:ee=>{ee.preventDefault(),X("fontSize",J.val),v(!1)},className:"text-left px-3 py-1.5 hover:bg-gray-100 text-sm text-gray-700 w-full flex items-baseline gap-2 border-b border-gray-50 last:border-0",children:[E.jsx("span",{className:"text-gray-400 text-[10px] w-4",children:J.val}),E.jsx("span",{style:{fontSize:J.val==="1"?"10px":J.val==="2"?"13px":J.val==="3"?"16px":J.val==="4"?"18px":J.val==="5"?"24px":"28px"},children:J.label})]},J.val))})]})]}),E.jsxs("div",{className:"flex items-center gap-0.5 border-r border-gray-300 pr-1 mr-1",children:[E.jsx("button",{onMouseDown:Y,onClick:()=>X("bold"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"Kaln",children:E.jsx(Ix,{})}),E.jsx("button",{onMouseDown:Y,onClick:()=>X("italic"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"talik",children:E.jsx(wx,{})}),E.jsx("button",{onMouseDown:Y,onClick:()=>X("underline"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"Alt izili",children:E.jsx(Ux,{})})]}),E.jsxs("div",{className:"flex items-center gap-0.5 border-r border-gray-300 pr-1 mr-1",children:[E.jsx("button",{onMouseDown:Y,onClick:()=>X("justifyLeft"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"Sola Hizala",children:E.jsx(zx,{})}),E.jsx("button",{onMouseDown:Y,onClick:()=>X("justifyCenter"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"Ortala",children:E.jsx(Lx,{})}),E.jsx("button",{onMouseDown:Y,onClick:()=>X("justifyRight"),className:"p-1.5 hover:bg-gray-200 rounded text-gray-700",title:"Saa Hizala",children:E.jsx(Gx,{})})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onMouseDown:Y,onClick:()=>{y(!g),v(!1),k(!1)},className:`h-7 px-2 hover:bg-gray-200 rounded text-gray-700 flex items-center gap-1 border border-transparent hover:border-gray-300 ${g?"bg-gray-200 border-gray-300":""}`,title:"Yaz Rengi",children:[E.jsx(Hx,{}),E.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300 bg-gradient-to-r from-red-500 via-green-500 to-blue-500"}),E.jsx("span",{className:"text-[10px] font-bold",children:""})]}),g&&E.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 shadow-xl rounded p-2 z-50 flex flex-col w-[130px]",children:[E.jsx("div",{className:"grid grid-cols-4 gap-1 mb-2",children:A.map(J=>E.jsx("button",{onMouseDown:ee=>{ee.preventDefault(),X("foreColor",J.hex),y(!1)},className:"w-6 h-6 rounded-sm border border-gray-200 hover:scale-110 hover:border-gray-400 transition-all",style:{backgroundColor:J.hex},title:J.label},J.hex))}),E.jsx("button",{onMouseDown:J=>{J.preventDefault(),X("removeFormat"),y(!1)},className:"w-full text-xs text-center text-red-600 hover:bg-red-50 p-1 rounded border border-red-100",children:"Temizle"})]})]})]}),E.jsx("div",{ref:f,contentEditable:!r,onInput:w,onPaste:P,className:`overflow-y-auto outline-none p-2 min-h-[56px] ${o} ${i?"":"empty:before:content-[attr(data-placeholder)] empty:before:text-gray-400"}`,"data-placeholder":l,spellCheck:!1,style:{minHeight:"80px"}})]})},Bx=({risk:i,riskIndex:t,riskSeviyeBadgeColor:l,shortenedTehlike:o,onRemove:r,onDuplicate:f,onToggleCollapse:m,riskColor:g})=>E.jsxs("div",{className:`relative flex justify-between items-center p-3 md:p-4 gap-2 ${g} rounded-t border-b border-gray-300`,children:[E.jsxs("div",{className:"flex-shrink-0",children:[E.jsxs("h4",{className:"font-bold text-sm md:text-base",children:["RSK #",t]}),E.jsxs("p",{className:"text-xs text-gray-600 truncate max-w-[150px] md:max-w-xs hidden sm:block print:hidden",children:["(",o," - ",i.alan||"Genel",")"]}),E.jsxs("p",{className:"text-xs text-gray-600 hidden print:block",children:["(",o," - ",i.alan||"Genel",")"]})]}),E.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 px-3 py-1 text-xs sm:text-sm text-center font-bold rounded-full ${l} whitespace-nowrap`,children:i.riskSeviye}),E.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:[E.jsxs("span",{className:"px-3 py-1 bg-white rounded border-2 font-bold text-sm",children:["Skor: ",i.riskSkoru]}),E.jsx("button",{onClick:()=>r(i.id),className:"text-blue-600 hover:text-blue-800 print:hidden p-1",children:E.jsx(ps,{})}),E.jsx("button",{onClick:()=>f(i.id),className:"text-blue-600 hover:text-blue-800 print:hidden p-1",children:E.jsx(ry,{})}),E.jsx("button",{onClick:()=>m(i.id),className:"text-blue-600 hover:text-blue-800 print:hidden p-1",children:E.jsx(pc,{isCollapsed:!!i.isCollapsed})})]})]}),qx=i=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:[E.jsxs("div",{ref:i.alanContainerRef,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("label",{className:"block text-xs font-semibold",children:"Alan/Blm:"}),E.jsx("button",{type:"button",onClick:i.onGenerateAlan,disabled:i.isGeneratingAlan,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-wait print:hidden",children:i.isGeneratingAlan?E.jsx(Wn,{}):E.jsx($n,{})})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:i.risk.alan,onChange:t=>i.onUpdate(i.risk.id,"alan",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm pr-10",placeholder:"Derslik D-201 vb."}),E.jsx("button",{onClick:()=>i.onToggleSpeech({id:i.risk.id,field:"alan"}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(i.activeSpeechTarget&&"id"in i.activeSpeechTarget&&i.activeSpeechTarget.id===i.risk.id&&i.activeSpeechTarget.field==="alan")})}),i.showAlanSuggestions&&i.alanSuggestions.length>0&&E.jsx("div",{className:"absolute z-30 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto mt-1 print:hidden",children:E.jsx("ul",{className:"py-1",children:i.alanSuggestions.map((t,l)=>E.jsx("li",{onClick:()=>{i.onUpdate(i.risk.id,"alan",t),i.setShowAlanSuggestions(!1)},className:"px-3 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100",children:t},l))})})]})]}),E.jsxs("div",{ref:i.faaliyetContainerRef,children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("label",{className:"block text-xs font-semibold",children:"Faaliyet/:"}),E.jsx("button",{type:"button",onClick:i.onGenerateFaaliyet,disabled:i.isGeneratingFaaliyet,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-wait print:hidden",children:i.isGeneratingFaaliyet?E.jsx(Wn,{}):E.jsx($n,{})})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:i.risk.faaliyet,onChange:t=>i.onUpdate(i.risk.id,"faaliyet",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm pr-10",placeholder:"Ders ileme vb."}),E.jsx("button",{onClick:()=>i.onToggleSpeech({id:i.risk.id,field:"faaliyet"}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(i.activeSpeechTarget&&"id"in i.activeSpeechTarget&&i.activeSpeechTarget.id===i.risk.id&&i.activeSpeechTarget.field==="faaliyet")})}),i.showSuggestions&&i.suggestions.length>0&&E.jsx("div",{className:"absolute z-20 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto mt-1 print:hidden",children:E.jsx("ul",{className:"py-1",children:i.suggestions.map((t,l)=>E.jsx("li",{onClick:()=>{i.onUpdate(i.risk.id,"faaliyet",t),i.setShowSuggestions(!1)},className:"px-3 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100",children:t},l))})})]})]})]}),E.jsxs("div",{className:"grid grid-cols-7 md:grid-cols-3 gap-2 mb-3",children:[E.jsxs("div",{className:"col-span-3 md:col-span-1",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Tehlike Tr:"}),E.jsxs("select",{value:i.risk.tehlike,onChange:t=>i.onUpdate(i.risk.id,"tehlike",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:[E.jsx("option",{value:"",children:"Ltfen Sein"}),Object.keys(os).filter(t=>t).map(t=>E.jsx("option",{value:t,children:t},t))]})]}),E.jsxs("div",{className:"col-span-3 md:col-span-1",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Etkilenen Kii:"}),E.jsxs("select",{value:i.risk.etkilenenKisi,onChange:t=>i.onUpdate(i.risk.id,"etkilenenKisi",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:[E.jsx("option",{value:"",children:"--- Sein ---"}),eb.map(t=>E.jsx("option",{value:t,children:t},t))]})]}),E.jsxs("div",{className:"col-span-1 md:col-span-1",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Says:"}),E.jsx("input",{type:"number",value:i.risk.etkilenenSayi,onChange:t=>i.onUpdate(i.risk.id,"etkilenenSayi",t.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",placeholder:"Say..."})]})]})]}),Px=({risk:i,onUpdate:t,onToggleSpeech:l,activeSpeechTarget:o,tehlikeData:r,aiHazardSuggestions:f,isGeneratingHazards:m,onGenerateHazards:g,handleSelectAciklama:y})=>E.jsxs("div",{className:"space-y-2 mb-3 print-tehlike-container",children:[E.jsxs("div",{className:"flex items-center mb-1",children:[E.jsx("label",{className:"block text-xs font-semibold mr-2",children:"Tehlike Aklamas:"}),E.jsx("button",{type:"button",onClick:g,disabled:m,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-wait print:hidden",children:m?E.jsx(Wn,{}):E.jsx($n,{})})]}),E.jsxs("select",{onChange:y,className:"w-full border border-gray-300 rounded px-2 py-2 text-sm print:hidden",children:[E.jsx("option",{value:"",children:"--- Hazr Listeden Ekle ---"}),r.aciklamaListesi.map(h=>E.jsx("option",{value:h,children:h},h)),f.length>0&&E.jsx("optgroup",{label:"AI nerileri",children:f.map((h,v)=>E.jsx("option",{value:h,children:h},`ai-${v}`))})]}),E.jsxs("div",{className:"relative print:flex-grow print:flex print:flex-col",children:[E.jsxs("div",{className:"print:hidden w-full relative",children:[E.jsx(cy,{value:i.tehlikeAciklama,onChange:h=>t(i.id,"tehlikeAciklama",h),className:"w-full rounded-b px-2 py-2 text-sm max-h-[300px] bg-white pr-10 border-0",placeholder:"Tespitlerinizi buraya yazn (veya kopyala/yaptr yapn)..."}),E.jsx("button",{onClick:()=>l({id:i.id,field:"tehlikeAciklama"}),className:"absolute right-2 bottom-2 text-gray-500 hover:text-blue-600 z-10",children:E.jsx(An,{isListening:!!(o&&"id"in o&&o.id===i.id&&o.field==="tehlikeAciklama")})})]}),E.jsx("div",{className:"hidden print-twin print-tehlike-content w-full border border-gray-300 rounded px-2 py-2 text-sm min-h-[56px] bg-white",dangerouslySetInnerHTML:{__html:i.tehlikeAciklama}})]})]}),Ox=({risk:i,files:t,isAnalyzingImage:l,onAnalyzeImage:o,onShowInfo:r,onFileChange:f,onDeleteFile:m,onFileClick:g,getFileLabel:y,PrintThumbnail:h})=>E.jsxs("div",{className:"mt-3",children:[E.jsx("label",{className:"block text-xs font-semibold mb-2",children:"Kant/Fotoraf Ekle:"}),E.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[E.jsxs("label",{htmlFor:`camera-input-${i.id}`,className:"cursor-pointer bg-gray-100 text-gray-700 border border-gray-300 rounded hover:bg-gray-200 text-xs px-3 py-1.5 flex items-center gap-1.5",children:[E.jsx(Nx,{})," Kamera"]}),E.jsx("input",{type:"file",id:`camera-input-${i.id}`,className:"hidden",accept:"image/*",capture:"environment",onChange:f}),E.jsxs("label",{htmlFor:`file-input-${i.id}`,className:"cursor-pointer bg-gray-100 text-gray-700 border border-gray-300 rounded hover:bg-gray-200 text-xs px-3 py-1.5 flex items-center gap-1.5",children:[E.jsx(xx,{})," Dosya Ekle"]}),E.jsx("input",{type:"file",id:`file-input-${i.id}`,className:"hidden",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:f}),E.jsx("div",{className:"h-4 border-l border-gray-300 mx-1"}),E.jsx("button",{type:"button",onClick:()=>r("aiImageAnalysis"),className:"text-blue-600 hover:text-blue-800",children:E.jsx(Ei,{})}),E.jsxs("button",{type:"button",onClick:o,disabled:l,className:"text-xs font-semibold bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait px-3 py-1 flex items-center gap-1.5",children:[l?E.jsx(Wn,{}):E.jsx($n,{})," ",E.jsx("span",{children:"Fotoraf Analiz Et"})]})]}),E.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.map(v=>{const T=v.fileType.startsWith("image/"),k=y(v.fileType,v.fileName);return E.jsxs("div",{className:"relative group print:inline-block",children:[E.jsxs("button",{onClick:()=>g(v),className:"print:hidden bg-gray-50 border border-gray-300 rounded text-blue-600 hover:text-blue-800 hover:underline text-xs px-2.5 py-1.5 flex items-center gap-1.5",children:[T?E.jsx(Mx,{}):E.jsx(Rx,{})," ",E.jsx("span",{children:k})]}),E.jsx("button",{onClick:()=>m(v.id),className:"print:hidden absolute -top-2 -right-2 p-0.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-700",children:E.jsx(ps,{})}),T&&E.jsx(h,{file:v,label:k})]},v.id)})})]}),Fx=({risk:i,onUpdate:t,isGeneratingScores:l,onGenerateScores:o,onShowInfo:r})=>E.jsxs("div",{className:"bg-white bg-opacity-50 rounded p-3 mb-3 mt-4",children:[E.jsxs("div",{className:"flex justify-end items-center mb-2 gap-2 print:hidden",children:[E.jsx("button",{type:"button",onClick:()=>r("aiRiskScoring"),className:"text-blue-600 hover:text-blue-800",children:E.jsx(Ei,{})}),E.jsxs("button",{type:"button",onClick:o,disabled:l,className:"text-xs font-semibold bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait px-3 py-1 flex items-center gap-1.5",children:[l?E.jsx(Wn,{}):E.jsx($n,{})," ",E.jsx("span",{children:"AI ile Puanla"})]})]}),E.jsx("div",{className:"grid grid-cols-3 gap-2",children:["olasilik","siddet","siklik"].map(f=>E.jsxs("div",{children:[E.jsxs("label",{className:"block text-xs font-semibold mb-1 capitalize",children:[f," ",E.jsx("button",{onClick:()=>r(f),className:"ml-1 text-blue-600 hover:text-blue-800 print:hidden",children:E.jsx(Ei,{})})]}),E.jsx("select",{value:i[f],onChange:m=>t(i.id,f,parseFloat(m.target.value)),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm",children:(f==="olasilik"?fc:f==="siddet"?dc:mc).map(m=>E.jsx("option",{value:String(m.v),children:m.t},m.v))})]},f))}),E.jsx("div",{className:"mt-3 text-center text-sm font-semibold",children:i.riskSeviye})]}),Yx=({risk:i,onUpdate:t,onToggleSpeech:l,activeSpeechTarget:o,tehlikeData:r,isGeneratingMeasures:f,onGenerateMeasures:m,onShowInfo:g,onlemRefs:y,mevcutOnlemlerRef:h,handleTextareaInput:v,riskIndex:T,shortenedTehlike:k,riskSeviyeBadgeColor:A})=>{const N=[{field:"eliminasyon",label:"1. Yok Etme (Eliminasyon)",placeholder:r.dinamikOrnekler.eliminasyon},{field:"ikame",label:"2. kame (Deitirme)",placeholder:r.dinamikOrnekler.ikame},{field:"muhendislik",label:"3. Mhendislik nlemleri",placeholder:r.dinamikOrnekler.muhendislik},{field:"idari",label:"4. dari nlemler",placeholder:r.dinamikOrnekler.idari},{field:"kkd",label:"5. Kiisel Koruyucu Donanm (KKD)",placeholder:r.dinamikOrnekler.kkd}];return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mt-3",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Mevcut nlemler"}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{ref:h,"data-field":"mevcutOnlemler",value:i.mevcutOnlemler,onInput:v,className:"w-full border border-gray-300 rounded px-2 py-2 text-sm min-h-[56px] auto-grow-textarea print:hidden pr-10",placeholder:"Mevcut kontroller..."}),E.jsx("button",{onClick:()=>l({id:i.id,field:"mevcutOnlemler"}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(o&&"id"in o&&o.id===i.id&&o.field==="mevcutOnlemler")})}),E.jsx("div",{className:"hidden print-twin print-twin-collapsible w-full border border-gray-300 rounded px-2 py-2 text-sm min-h-[56px] whitespace-pre-wrap bg-white",children:i.mevcutOnlemler})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-x-4 gap-y-2 mb-2 print:hidden",children:[E.jsxs("label",{className:"block text-sm font-bold text-gray-800",children:["nerilecek nlemler ",E.jsx("button",{onClick:()=>g("hiyerarsi"),className:"ml-1 text-blue-600 hover:text-blue-800 align-middle",children:E.jsx(Ei,{})})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{type:"button",onClick:()=>g("aiControlMeasures"),className:"text-blue-600 hover:text-blue-800",children:E.jsx(Ei,{})}),E.jsxs("button",{type:"button",onClick:m,disabled:f,className:"text-xs font-semibold bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait px-3 py-1 flex items-center gap-1.5",children:[f?E.jsx(Wn,{}):E.jsx($n,{})," ",E.jsx("span",{children:"Tmn Doldur"})]})]})]}),E.jsxs("div",{className:"hidden print:flex relative justify-between items-center mt-4 mb-2 border-b border-gray-300 pb-2",children:[E.jsx("p",{className:"text-sm font-bold text-gray-800",children:"nerilecek nlemler"}),E.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 px-3 py-1 text-xs text-center font-bold rounded-full ${A} whitespace-nowrap`,children:i.riskSeviye}),E.jsxs("h4",{className:"text-sm font-bold text-gray-800",children:["RSK #",T," ",E.jsxs("span",{className:"font-normal",children:["(",k," - ",i.alan||"Genel",")"]})]})]})]}),N.map(({field:U,label:w,placeholder:P})=>E.jsxs("div",{className:"mt-2",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1 text-gray-700",children:w}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{ref:y[U],"data-field":U,value:i.onerilecekOnlemler[U],onInput:v,readOnly:f,className:`w-full border border-gray-300 rounded px-2 py-2 text-sm min-h-[56px] auto-grow-textarea print:hidden pr-10 ${f?"bg-gray-100":""}`,placeholder:P}),E.jsx("button",{onClick:()=>l({id:i.id,field:U}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(o&&"id"in o&&o.id===i.id&&o.field===U)})}),E.jsx("div",{className:"hidden print-twin print-twin-collapsible w-full border border-gray-300 rounded px-2 py-2 text-sm min-h-[56px] whitespace-pre-wrap bg-white",children:i.onerilecekOnlemler[U]})]})]},U))]})},Jx=({risk:i,onUpdate:t,onToggleSpeech:l,activeSpeechTarget:o,isGeneratingSorumlu:r,onGenerateSorumlu:f,onShowInfo:m,onRemove:g,onDuplicate:y,handleBottomCollapse:h})=>E.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-2 gap-2 mt-3 items-end",children:[E.jsxs("div",{className:"col-span-2 md:col-span-1",children:[E.jsxs("div",{className:"flex items-center mb-1",children:[E.jsx("label",{className:"block text-xs font-semibold mr-2",children:"Sorumlu Kii/Birim:"}),E.jsxs("span",{className:"flex items-center gap-1 print:hidden",children:[E.jsx("button",{type:"button",onClick:()=>m("aiResponsibleUnit"),className:"text-blue-600 hover:text-blue-800",children:E.jsx(Ei,{})}),E.jsx("button",{type:"button",onClick:f,disabled:r,className:"text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-wait",children:r?E.jsx(Wn,{}):E.jsx($n,{})})]})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:i.sorumlu,onChange:v=>t(i.id,"sorumlu",v.target.value),className:"w-full border border-gray-300 rounded px-2 py-2 text-sm pr-10",placeholder:"lgili birim/kii ad"}),E.jsx("button",{onClick:()=>l({id:i.id,field:"sorumlu"}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(o&&"id"in o&&o.id===i.id&&o.field==="sorumlu")})})]})]}),E.jsxs("div",{className:"col-span-1 md:col-span-1",children:[E.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Dzeltme Tarihi:"}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("input",{type:"date",value:i.tamamlanmaTarihi,onChange:v=>t(i.id,"tamamlanmaTarihi",v.target.value),className:"w-full min-w-0 flex-1 border border-gray-300 rounded px-2 py-2 text-sm"}),E.jsxs("div",{className:"flex items-center print:hidden",children:[E.jsx("button",{onClick:()=>g(i.id),className:"text-blue-600 hover:text-blue-800 p-1",children:E.jsx(ps,{})}),E.jsx("button",{onClick:()=>y(i.id),className:"text-blue-600 hover:text-blue-800 p-1",children:E.jsx(ry,{})}),E.jsx("button",{onClick:h,className:"text-blue-600 hover:text-blue-800 p-1",children:E.jsx(pc,{isCollapsed:!!i.isCollapsed})})]})]})]})]}),Kx=({file:i,label:t})=>{const[l,o]=K.useState(null);return K.useEffect(()=>{if(i&&i.fileData instanceof Blob){const r=URL.createObjectURL(i.fileData);return o(r),()=>{URL.revokeObjectURL(r)}}},[i]),l?E.jsx("img",{src:l,alt:t,className:"hidden print:block w-[80px] h-[80px] object-contain border border-gray-300 align-top mt-1"}):null},Xx=be.memo(({risk:i,riskIndex:t,birimAdi:l,onUpdate:o,onRemove:r,onDuplicate:f,onToggleCollapse:m,onShowInfo:g,onPreviewImage:y,onToggleSpeech:h,activeSpeechTarget:v,onUpdateScores:T,showConfirmation:k,showAlert:A,alanSuggestions:N,isGeneratingAlanSuggestions:U,onGenerateAlanSuggestions:w,dataVersion:P})=>{var Cl;const[X,Y]=K.useState([]),[J,ee]=K.useState([]),[ne,L]=K.useState(!1),[z,O]=K.useState(!1),[W,le]=K.useState(!1),[re,me]=K.useState([]),[Ae,Ue]=K.useState(!1),[H,Z]=K.useState(!1),[fe,$]=K.useState(!1),[pe,b]=K.useState(!1),[B,Q]=K.useState(!1),j=K.useRef(null),oe=K.useRef(null),ce=K.useRef(null),Se=K.useRef(null),Ze={eliminasyon:K.useRef(null),ikame:K.useRef(null),muhendislik:K.useRef(null),idari:K.useRef(null),kkd:K.useRef(null)};K.useEffect(()=>{const ae=xe=>{xe&&(xe.style.height="auto",xe.style.height=`${xe.scrollHeight}px`)};ae(Se.current),Object.values(Ze).forEach(xe=>ae(xe.current))},[i.tehlikeAciklama,i.mevcutOnlemler,i.onerilecekOnlemler,Ze]);const Be=K.useCallback(async()=>{try{Y(await og(i.id))}catch(ae){console.error("Error loading files",ae)}},[i.id]);K.useEffect(()=>{Be()},[i,Be,P]),K.useEffect(()=>{const ae=xe=>{oe.current&&!oe.current.contains(xe.target)&&le(!1),ce.current&&!ce.current.contains(xe.target)&&O(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]);const ti=async ae=>{var xe;if((xe=ae.target.files)!=null&&xe[0]){const Ye=ae.target.files[0];let Ut=Ye;if(Ye.type.startsWith("image/"))try{Ut=await ju(Ye,1024,.7)}catch(bl){console.error("Image resize failed, using original file.",bl)}await ag(i.id,Ut),Be()}ae.target.value=""},Ai=ae=>{k({title:"Dosyay Sil",message:"Bu dosyay kalc olarak silmek istediinizden emin misiniz?",confirmText:"Sil",onConfirm:async()=>{await sg(ae),Be()}})},vl=(ae,xe)=>ae.startsWith("image/")?"Foto":ae.includes("pdf")?"PDF":xe.endsWith(".docx")||xe.endsWith(".doc")?"Word":xe.endsWith(".xlsx")||xe.endsWith(".xls")?"Excel":"Dosya",Ca=async ae=>{if(ae.fileData)if(ae.fileType.startsWith("image/")){const xe=`RSK #${t} - ${i.alan||"Alan/Blm Girilmedi"} (${i.tehlike||"Tehlike Tr Girilmedi"})`;y(ae,xe)}else{const xe=URL.createObjectURL(ae.fileData),Ye=document.createElement("a");Ye.href=xe,Ye.target="_blank",document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),setTimeout(()=>URL.revokeObjectURL(xe),100)}},ln=ae=>{ae.target.dataset.field&&o(i.id,ae.target.dataset.field,ae.target.value)},Sl=ae=>{ae.target.value&&(o(i.id,"tehlikeAciklama",i.tehlikeAciklama?`${i.tehlikeAciklama}
${ae.target.value}`:ae.target.value),ae.target.value="")},Tl=()=>{m(i.id),i.isCollapsed||setTimeout(()=>{var ae;return(ae=j.current)==null?void 0:ae.scrollIntoView({behavior:"smooth",block:"center"})},100)},hs=async()=>{if(!i.alan){A("Gerekli Bilgi Eksik","nce 'Alan/Blm' girin.");return}L(!0);try{const ae=await cb(l,i.alan);ee(ae),O(!0)}catch{A("AI Hatas","Faaliyet nerileri baarsz.")}finally{L(!1)}},ba=async()=>{if(!i.tehlike){A("Gerekli Bilgi Eksik","Tehlike tr sein.");return}Ue(!0);try{const ae=await fb(l,i);me(ae)}catch{A("AI Hatas","Tehlike nerileri baarsz.")}finally{Ue(!1)}},El=async()=>{const ae=X.find(xe=>xe.fileType.startsWith("image/"));if(!ae){A("Eksik","Fotoraf ekleyin.");return}Q(!0);try{const xe=await db(ae.fileData,ae.fileType);o(i.id,"tehlikeAciklama",`${i.tehlikeAciklama||""}

--- FOTORAF ANALZ ---
${xe}`.trim())}catch{A("AI Hatas","Analiz baarsz.")}finally{Q(!1)}},kl=async()=>{if(!i.tehlikeAciklama){A("Eksik","Tehlike aklamas girin.");return}Z(!0);try{const ae=await mb(i,l);k({title:"AI Puanlama nerisi",message:E.jsxs("div",{children:[E.jsxs("ul",{className:"list-disc list-inside",children:[E.jsxs("li",{children:["Olaslk: ",ae.olasilik]}),E.jsxs("li",{children:["iddet: ",ae.siddet]}),E.jsxs("li",{children:["Sklk: ",ae.siklik]})]}),E.jsx("p",{className:"text-xs mt-2",children:ae.gerekce})]}),confirmText:"Uygula",onConfirm:()=>T(i.id,{olasilik:ae.olasilik,siddet:ae.siddet,siklik:ae.siklik})})}catch{A("AI Hatas","Puanlama baarsz.")}finally{Z(!1)}},_l=async()=>{if(!i.tehlikeAciklama){A("Eksik","Tehlike aklamas girin.");return}$(!0);const ae=["eliminasyon","ikame","muhendislik","idari","kkd"];try{const xe=await pb(i);let Ye="",Ut=null;for await(const bl of xe)for(Ye+=bl.text||"";;){if(!Ut){const $e=ae.find(ot=>Ye.includes(`<${ot}>`));if($e){Ut=$e;const ot=`<${$e}>`;Ye=Ye.substring(Ye.indexOf(ot)+ot.length)}else break}if(Ut){const $e=`</${Ut}>`,ot=Ye.indexOf($e);if(ot!==-1){const mt=Ye.substring(0,ot).trim(),Na=i.onerilecekOnlemler[Ut];o(i.id,Ut,Na?`${Na}
${mt}`:mt),Ye=Ye.substring(ot+$e.length),Ut=null}else break}}}catch{A("AI Hatas","nlem nerileri baarsz.")}finally{$(!1)}},gs=async()=>{if(!i.tehlikeAciklama){A("Eksik","Tehlike aklamas girin.");return}b(!0);try{const ae=await hb(i);ae&&o(i.id,"sorumlu",ae)}catch{A("AI Hatas","Sorumlu birim nerisi baarsz.")}finally{b(!1)}},xa=i.riskSeviye==="nemsiz Risk"?"bg-green-100 border-green-400":i.riskSeviye==="Dk Risk"?"bg-blue-100 border-blue-400":i.riskSeviye==="Orta Risk"?"bg-yellow-100 border-yellow-400":i.riskSeviye==="nemli Risk"?"bg-orange-100 border-orange-400":i.riskSeviye==="Yksek Risk"?"bg-red-200 border-red-500 text-black":"bg-gray-100 border-gray-400",dt={"nemsiz Risk":"bg-green-600 text-white","Dk Risk":"bg-blue-600 text-white","Orta Risk":"bg-yellow-500 text-black","nemli Risk":"bg-orange-500 text-white","Yksek Risk":"bg-red-600 text-white"}[i.riskSeviye]||"bg-gray-500 text-white",Ra=((Cl=i.tehlike)==null?void 0:Cl.split("(")[0].trim())||"Tanmsz",Al=os[i.tehlike]||os[""];return E.jsxs("div",{ref:j,className:`border-2 rounded ${xa} risk-card print-break-before-always`,children:[E.jsx(Bx,{risk:i,riskIndex:t,riskSeviyeBadgeColor:dt,shortenedTehlike:Ra,riskColor:xa,onRemove:r,onDuplicate:f,onToggleCollapse:m,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v}),E.jsxs("div",{className:`risk-card-content p-3 md:p-4 border-t border-gray-300 ${i.isCollapsed?"hidden collapsed-in-print":""}`,children:[E.jsxs("div",{className:"risk-problem-section print:break-inside-avoid",children:[E.jsx(qx,{risk:i,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v,alanSuggestions:N,suggestions:J,showAlanSuggestions:W,showSuggestions:z,isGeneratingAlan:U,isGeneratingFaaliyet:ne,onGenerateAlan:w,onGenerateFaaliyet:hs,setShowAlanSuggestions:le,setShowSuggestions:O,alanContainerRef:oe,faaliyetContainerRef:ce}),E.jsx(Px,{risk:i,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v,tehlikeData:Al,aiHazardSuggestions:re,isGeneratingHazards:Ae,onGenerateHazards:ba,handleSelectAciklama:Sl}),E.jsx(Ox,{risk:i,files:X,isAnalyzingImage:B,onAnalyzeImage:El,onShowInfo:g,onFileChange:ti,onDeleteFile:Ai,onFileClick:Ca,getFileLabel:vl,PrintThumbnail:Kx}),E.jsx(Fx,{risk:i,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v,isGeneratingScores:H,onGenerateScores:kl,onShowInfo:g})]}),E.jsxs("div",{className:"risk-solution-section print:break-inside-avoid",children:[E.jsx(Yx,{risk:i,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v,tehlikeData:Al,isGeneratingMeasures:fe,onGenerateMeasures:_l,onShowInfo:g,onlemRefs:Ze,mevcutOnlemlerRef:Se,handleTextareaInput:ln,riskIndex:t,shortenedTehlike:Ra,riskSeviyeBadgeColor:dt}),E.jsx(Jx,{risk:i,onUpdate:o,onToggleSpeech:h,activeSpeechTarget:v,isGeneratingSorumlu:pe,onGenerateSorumlu:gs,onShowInfo:g,onRemove:r,onDuplicate:f,onToggleCollapse:m,handleBottomCollapse:Tl})]})]})]})}),Qx=be.memo(({totalRisks:i,stats:t})=>{const l=[{label:"Toplam Risk",value:i,border:"border-gray-300",bg:"bg-gray-50",text:"text-gray-700",sub:"text-gray-600"},{label:"nemsiz",value:t.onemsiz,border:"border-green-400",bg:"bg-green-50",text:"text-green-700",sub:"text-green-600"},{label:"Dk",value:t.dusuk,border:"border-blue-400",bg:"bg-blue-50",text:"text-blue-700",sub:"text-blue-600"},{label:"Orta",value:t.orta,border:"border-yellow-400",bg:"bg-yellow-50",text:"text-yellow-700",sub:"text-yellow-600"},{label:"nemli",value:t.onemli,border:"border-orange-400",bg:"bg-orange-50",text:"text-orange-700",sub:"text-orange-600"},{label:"Yksek",value:t.yuksek,border:"border-red-500",bg:"bg-red-100",text:"text-red-800",sub:"text-red-700"}];return E.jsx("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-6 gap-3",children:l.map((o,r)=>E.jsxs("div",{className:`border-2 ${o.border} rounded p-3 ${o.bg} text-center`,children:[E.jsx("div",{className:`text-2xl font-bold ${o.text}`,children:o.value}),E.jsx("div",{className:`text-xs ${o.sub}`,children:o.label})]},r))})}),Zx=({formData:i,riskEkibi:t,onUpdateFormData:l,onGenerateSummary:o,isGeneratingSummary:r,onShowInfo:f,onToggleSpeech:m,activeSpeechTarget:g})=>E.jsxs("div",{className:"print-summary-page",children:[E.jsxs("div",{className:"mb-6 mt-8 border-t-2 border-gray-300 pt-6 print:mt-0 print:border-t-0 print:pt-0",children:[E.jsxs("h3",{className:"text-lg font-bold mb-3 bg-gray-200 p-3 rounded flex justify-between items-center",children:[E.jsx("span",{children:"GENEL DEERLENDRME"}),E.jsxs("span",{className:"flex items-center gap-2 print:hidden",children:[E.jsx("button",{type:"button",onClick:()=>f("aiGeneralSummary"),className:"text-blue-600 hover:text-blue-800",children:E.jsx(Ei,{})}),E.jsxs("button",{type:"button",onClick:o,disabled:r,className:"text-xs font-semibold bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait px-3 py-1 flex items-center gap-1.5",children:[r?E.jsx(Wn,{}):E.jsx($n,{})," ",E.jsx("span",{children:"zet Olutur"})]})]})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"print:hidden relative",children:[E.jsx(cy,{value:i.genelDegerlendirme,onChange:y=>l("genelDegerlendirme",y),placeholder:"Genel sonular...",className:"w-full rounded px-2 py-2 text-base md:text-sm pr-10 min-h-[150px]"}),E.jsx("button",{onClick:()=>m({field:"genelDegerlendirme"}),className:"absolute right-2 bottom-2 text-gray-500 hover:text-blue-600 z-10",children:E.jsx(An,{isListening:g&&"field"in g&&g.field==="genelDegerlendirme"})})]}),E.jsx("div",{id:"print-genel-degerlendirme",className:"hidden print-twin",dangerouslySetInnerHTML:{__html:i.genelDegerlendirme}})]})]}),E.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border-2 border-yellow-400 rounded print-legal-warning",children:[E.jsx("p",{className:"text-sm md:text-xs font-semibold mb-2 text-yellow-900",children:"YASAL BLGLENDRME:"}),E.jsxs("ul",{className:"text-sm md:text-xs text-yellow-800 leading-relaxed list-disc list-inside space-y-1",children:[E.jsxs("li",{children:["Bu risk deerlendirmesi, iyerinizin tehlike snf (",i.tehlikeSinifi,") dikkate alnarak yenilenmelidir."]}),E.jsx("li",{children:"Tespit edilen risklere kar nerilen nlemlerin alnmas iverenin yasal ykmlldr."})]})]}),E.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-gray-300 print-signature-section",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-center",children:"RSK DEERLENDRME EKB ONAY TABLOSU"}),E.jsx("div",{className:"w-full overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left min-w-[600px]",children:[E.jsx("thead",{className:"bg-gray-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2 border border-gray-300",children:"Grevi / Rol"}),E.jsx("th",{className:"p-2 border border-gray-300",children:"Ad Soyad"}),E.jsx("th",{className:"p-2 border border-gray-300",children:"mza"})]})}),E.jsx("tbody",{children:t.map(y=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-2 border border-gray-300 font-semibold",children:y.rol}),E.jsx("td",{className:"p-2 border border-gray-300",children:y.adSoyad}),E.jsx("td",{className:"p-2 border border-gray-300 h-12"})]},y.id))})]})})]})]});var $x=lg();const Wx=({riskler:i,showAlert:t})=>{const[l,o]=K.useState(!1),[r,f]=K.useState([]),m=async()=>{o(!0);try{const y=[],h=[...i].sort((v,T)=>v.id-T.id);for(const v of h){const k=(await og(v.id)).filter(A=>A.fileType.startsWith("image/"));if(k.length>0){const A=h.findIndex(N=>N.id===v.id)+1;for(const[N,U]of k.entries())if(U.fileData instanceof Blob){const w=v.tehlike?v.tehlike.split("(")[0].trim():"Tehlike Belirtilmemi",P=v.alan?v.alan:"Alan Belirtilmemi",X=`RSK #${A} | Alan: ${P} | Tehlike: ${w} ${k.length>1?`(${N+1}/${k.length})`:""}`;y.push({url:URL.createObjectURL(U.fileData),caption:X})}}}await Promise.all(y.map(v=>new Promise(T=>{const k=new Image;k.onload=()=>T(),k.onerror=()=>T(),k.src=v.url}))),f(y),setTimeout(()=>{window.print()},500)}catch(y){o(!1),console.error(y),t("Yazdrma Hatas","Rapor fotoraflar hazrlanrken bir hata olutu.")}};K.useEffect(()=>{if(l){const y=()=>{r.forEach(h=>URL.revokeObjectURL(h.url)),f([]),o(!1)};return window.addEventListener("afterprint",y),()=>window.removeEventListener("afterprint",y)}},[l,r]);const g=[];for(let y=0;y<r.length;y+=2)g.push(r.slice(y,y+2));return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:m,disabled:l,className:"flex items-center justify-center w-11 h-11 bg-blue-600 text-white rounded hover:bg-blue-700 print:hidden",title:"Yazdr / PDF Kaydet",children:l?E.jsx(sy,{}):E.jsx(Tx,{})}),l&&r.length>0&&$x.createPortal(E.jsx("div",{id:"photo-appendix",className:"print:block fixed w-0 h-0 overflow-hidden",children:g.map((y,h)=>E.jsxs("div",{style:{pageBreakAfter:"always",height:"100vh",display:"flex",flexDirection:"column",padding:"10mm",boxSizing:"border-box"},children:[h===0&&E.jsx("h2",{className:"text-center text-2xl font-bold mb-4 text-gray-800 border-b-2 border-gray-800 pb-2 flex-shrink-0",children:"FOTORAF EKLER"}),E.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"5mm"},children:[y.map((v,T)=>E.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minHeight:0},children:[E.jsx("div",{className:"bg-gray-100 p-2 mb-1 rounded border-b border-gray-200 text-xs font-bold text-gray-800 text-center flex-shrink-0",children:v.caption}),E.jsx("div",{style:{flex:1,position:"relative",width:"100%",minHeight:0},children:E.jsx("img",{src:v.url,alt:"Risk Fotoraf",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:"block"}})})]},T)),y.length===1&&E.jsx("div",{style:{flex:1}})]})]},h))}),document.body)]})},jx=({isOpen:i,onClose:t,onSave:l,required:o=!1})=>{const[r,f]=K.useState(""),[m,g]=K.useState("");if(!i)return null;const y=()=>{if(!r.trim()){g("API anahtar bo olamaz");return}if(r.trim().length<30){g("API anahtar ok ksa grnyor. Ltfen geerli bir Google Gemini API anahtar girin.");return}l(r.trim()),f(""),g(""),t()},h=()=>{f(""),g(""),t()};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[200] p-4 print:hidden",children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-xl",onClick:v=>v.stopPropagation(),children:[E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:E.jsx(uy,{className:"w-6 h-6 text-blue-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Google Gemini API Anahtar"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"AI zelliklerini kullanabilmek iin Google Gemini API anahtarnz girin. Anahtarnz taraycnzda gvenli bir ekilde saklanacaktr."}),E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[E.jsx("p",{className:"text-xs text-blue-800 font-semibold mb-1",children:" API Anahtar Nasl Alnr?"}),E.jsxs("ol",{className:"text-xs text-blue-700 space-y-1 ml-4 list-decimal",children:[E.jsxs("li",{children:[E.jsx("a",{href:"https://aistudio.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"Google AI Studio"}),"'ya gidin"]}),E.jsx("li",{children:'"Get API Key" butonuna tklayn'}),E.jsx("li",{children:"cretsiz API anahtarnz oluturun"}),E.jsx("li",{children:"Anahtar kopyalayp aaya yaptrn"})]})]}),E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"API Anahtar (stee Bal)"}),E.jsx("input",{type:"password",value:r,onChange:v=>{f(v.target.value),g("")},placeholder:"AIzaSy...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm font-mono",autoFocus:!0,onKeyPress:v=>{v.key==="Enter"&&y()}}),m&&E.jsx("p",{className:"text-xs text-red-600 mt-2 font-semibold",children:m})]}),E.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:E.jsxs("p",{className:"text-xs text-yellow-800",children:[E.jsx("strong",{children:" Gvenlik Notu:"})," API anahtarnz sadece taraycnzda saklanr ve hibir sunucuya gnderilmez."]})}),E.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:E.jsxs("p",{className:"text-xs text-gray-700",children:[E.jsx("strong",{children:" pucu:"})," API anahtar olmadan da uygulamay kullanabilirsiniz. Sadece AI destekli zellikler (neri oluturma, otomatik doldurma vb.) almayacaktr. Daha sonra header'daki  butonu ile API anahtarnz ekleyebilirsiniz."]})})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex justify-end items-center gap-3 rounded-b-lg",children:[E.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-semibold bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Daha Sonra"}),E.jsx("button",{onClick:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Kaydet"})]})]})})},eR=({infoKey:i,onClose:t})=>{if(!i)return null;const l=tb[i];return l?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4 print:hidden",onClick:t,children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-h-[85vh] md:max-w-2xl max-w-full overflow-y-auto p-4 sm:p-6",onClick:o=>o.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h3",{className:"text-xl font-bold text-blue-900",children:l.baslik}),E.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:E.jsx(oy,{})})]}),E.jsx("div",{className:"space-y-2 text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:Array.isArray(l.icerik)?l.icerik.map((o,r)=>E.jsx("p",{children:o},r)):E.jsx("p",{children:l.icerik})}),E.jsx("button",{onClick:t,className:"mt-6 w-full px-4 py-3 text-base bg-blue-600 text-white rounded hover:bg-blue-700",children:"Kapat"})]})}):null},tR=({fileRecord:i,title:t,onClose:l,onDelete:o,showConfirmation:r})=>{const[f,m]=K.useState(null);if(K.useEffect(()=>{if(i&&i.fileData instanceof Blob){const h=URL.createObjectURL(i.fileData);return m(h),()=>{URL.revokeObjectURL(h)}}else m(null)},[i]),!i||!f)return null;const g=()=>{i&&r({title:"Dosyay Sil",message:`'${i.fileName}' dosyasn kalc olarak silmek istediinizden emin misiniz?`,confirmText:"Sil",onConfirm:async()=>{await o(i.id),l()}})},y=()=>{window.open(f,"_blank")};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100] p-4 print:hidden",onClick:l,children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-h-[95vh] md:max-w-4xl max-w-full overflow-hidden flex flex-col shadow-2xl relative",onClick:h=>h.stopPropagation(),children:[E.jsx("button",{onClick:l,className:"absolute top-2 right-2 z-10 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-red-600 hover:bg-opacity-90 transition-all",title:"Kapat",children:E.jsx(oy,{className:"w-5 h-5"})}),E.jsx("div",{className:"flex-1 overflow-auto p-2 bg-gray-900 flex items-center justify-center",children:E.jsx("img",{src:f,alt:"nizleme",className:"object-contain max-w-full max-h-[80vh]"})}),E.jsxs("div",{className:"flex-shrink-0 p-3 border-t border-gray-200 bg-gray-50 flex justify-between items-center gap-3",children:[E.jsx("span",{className:"text-xs font-bold text-gray-800 truncate flex-1",title:t,children:t}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[E.jsxs("button",{onClick:g,type:"button",className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-red-600 text-white rounded hover:bg-red-700",children:[E.jsx(ps,{})," Sil"]}),E.jsxs("button",{onClick:y,type:"button",className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 text-white rounded hover:bg-blue-700",children:[E.jsx(bx,{})," Tam Boyut"]})]})]})]})})},nR=({isOpen:i,title:t,message:l,onConfirm:o,onCancel:r,confirmText:f="Onayla",cancelText:m})=>i?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[200] p-4 print:hidden",onClick:r,children:E.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-xl",onClick:g=>g.stopPropagation(),children:[E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:t}),E.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",children:l})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex justify-end items-center gap-3 rounded-b-lg",children:[m&&E.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-semibold bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:m}),E.jsx("button",{onClick:o,className:`px-4 py-2 text-sm font-semibold text-white rounded-md ${f==="Sil"||f==="Evet, Sfrla"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:f})]})]})}):null,_a={alan:"",faaliyet:"",tehlike:"",tehlikeAciklama:"",etkilenenKisi:"",etkilenenSayi:"",olasilik:fc[3].v,siddet:dc[1].v,siklik:mc[2].v,riskSkoru:0,riskSeviye:"nemsiz Risk",mevcutOnlemler:"",onerilecekOnlemler:{eliminasyon:"",ikame:"",muhendislik:"",idari:"",kkd:""},sorumlu:"",tamamlanmaTarihi:new Date().toISOString().split("T")[0],isCollapsed:!0},iR=(i,t)=>{const[l,o]=K.useState({birim:"lahiyat Fakltesi",tarih:new Date().toISOString().split("T")[0],tehlikeSinifi:"Az Tehlikeli",genelDegerlendirme:""}),[r,f]=K.useState([{id:1,rol:"veren / veren Vekili (Onaylayan)",adSoyad:"",placeholder:"rn: Dekan / Genel Sekreter"},{id:2,rol:" Gvenlii Uzman",adSoyad:"",placeholder:"SG Katip'ten atanan uzman"},{id:3,rol:"yeri Hekimi",adSoyad:"",placeholder:"SG Katip'ten atanan hekim"},{id:4,rol:"alan Temsilcisi",adSoyad:"",placeholder:"Seimle belirlenen temsilci"},{id:5,rol:"Destek Eleman",adSoyad:"",placeholder:"rn: Yangn, lk Yardm Ekibi"},{id:6,rol:"Birim Sorumlusu (Bilgi Sahibi alan)",adSoyad:"",placeholder:"Deerlendirilen blmn amiri/alan"}]),[m,g]=K.useState([{..._a,id:1,alan:"Derslik - D201",faaliyet:"Ders ileme, snav yapma",tehlike:"Kayma, Taklma, Dme, Dzensizlik (Zemin, Merdiven, Koridor)",tehlikeAciklama:"Yerde bulunan ve sabitlenmemi projektr/uzatma kablolar",etkilenenKisi:"renci",etkilenenSayi:"50",olasilik:3,siddet:3,siklik:6,riskSkoru:54,riskSeviye:"Dk Risk",mevcutOnlemler:"Yok",onerilecekOnlemler:{eliminasyon:"",ikame:"",muhendislik:"Zemindeki kablolarn, kablo kanal veya kablo rampas ile gizlenmesi/sabitlenmesi.",idari:"Dersliklerin her ders ncesi dzen kontrolnn yaplmas iin grevlendirme yaplmas.",kkd:""},sorumlu:"dari ve Mali ler Daire Bk. / Faklte Sekreterlii",isCollapsed:!1}]),[y,h]=K.useState(!0),[v,T]=K.useState(Wu);K.useEffect(()=>{try{const L=localStorage.getItem("riskFormData"),z=localStorage.getItem("riskEkibiData"),O=localStorage.getItem("risklerData"),W=localStorage.getItem("isEkipCollapsed");if(L){const le=JSON.parse(L);o(re=>({...re,...le}))}if(z&&f(JSON.parse(z)),O){const le=JSON.parse(O),re=Array.isArray(le)?le.map(me=>({..._a,...me,onerilecekOnlemler:{..._a.onerilecekOnlemler,...me.onerilecekOnlemler||{}},faaliyet:me.faaliyet||_a.faaliyet,isCollapsed:me.isCollapsed??!0})):[];g(re)}W&&h(JSON.parse(W)),V0().catch(le=>console.error("DB Init Error",le))}catch(L){console.error("LocalStorage Error",L)}},[]),K.useEffect(()=>{localStorage.setItem("riskFormData",JSON.stringify(l)),localStorage.setItem("riskEkibiData",JSON.stringify(r)),localStorage.setItem("risklerData",JSON.stringify(m)),localStorage.setItem("isEkipCollapsed",JSON.stringify(y))},[l,r,m,y]);const k=K.useCallback((L,z)=>{o(O=>{const W=typeof z=="function"?z(O[L]):z;return{...O,[L]:W}})},[]),A=K.useCallback((L,z)=>{f(O=>O.map(W=>{if(W.id!==L)return W;const le=typeof z=="function"?z(W.adSoyad):z;return{...W,adSoyad:le}}))},[]),N=K.useCallback((L,z,O)=>{g(W=>W.map(le=>{if(le.id!==L)return le;let re={...le},me;["eliminasyon","ikame","muhendislik","idari","kkd"].includes(z)?me=re.onerilecekOnlemler[z]:me=re[z];const Ae=typeof O=="function"?O(me):O;if(["eliminasyon","ikame","muhendislik","idari","kkd"].includes(z)?re.onerilecekOnlemler={...re.onerilecekOnlemler,[z]:Ae}:re[z]=Ae,["olasilik","siddet","siklik"].includes(z)){const Ue={...re},H=Number(Ue.olasilik)*Number(Ue.siddet)*Number(Ue.siklik);re.riskSkoru=H,re.riskSeviye=Gu(H)}return re}))},[]),U=K.useCallback((L,z)=>{g(O=>O.map(W=>{if(W.id!==L)return W;const le=z.olasilik*z.siddet*z.siklik;return{...W,...z,riskSkoru:le,riskSeviye:Gu(le)}}))},[]),w=K.useCallback((L,z)=>{g(O=>O.map(W=>W.id===L?{...W,onerilecekOnlemler:{...z}}:W))},[]),P=K.useCallback(()=>{g(L=>{const z=L.length>0?Math.max(...L.map(Ae=>Ae.id))+1:1,[O,W,le]=[fc[3].v,dc[1].v,mc[2].v],re=O*W*le;return[{..._a,id:z,olasilik:O,siddet:W,siklik:le,riskSkoru:re,riskSeviye:Gu(re),isCollapsed:!1},...L.map(Ae=>({...Ae,isCollapsed:!0}))]})},[]),X=K.useCallback(L=>{g(z=>{const O=z.find(re=>re.id===L);if(!O)return z;const W=z.length>0?Math.max(...z.map(re=>re.id))+1:1;return[{...O,id:W,isCollapsed:!1},...z.map(re=>({...re,isCollapsed:!0}))]})},[]),Y=K.useCallback(L=>{if(m.length<=1){i("Hata","En az bir risk kalmal.");return}const z=m.find(O=>O.id===L);t({title:"Riski Sil",message:`"${(z==null?void 0:z.alan)||"Bu"}" riskini silmek istediinize emin misiniz?`,confirmText:"Sil",onConfirm:()=>{q0(L).catch(O=>console.error("Fotoraflar silinemedi:",O)),g(O=>O.filter(W=>W.id!==L))}})},[m,i,t]),J=K.useCallback(L=>{g(z=>z.map(O=>O.id===L?{...O,isCollapsed:!O.isCollapsed}:O))},[]),ee=K.useMemo(()=>m.reduce((L,z)=>{const W={"nemsiz Risk":"onemsiz","Dk Risk":"dusuk","Orta Risk":"orta","nemli Risk":"onemli","Yksek Risk":"yuksek"}[z.riskSeviye];return W&&L[W]++,L},{onemsiz:0,dusuk:0,orta:0,onemli:0,yuksek:0}),[m]),ne=K.useCallback((L,z)=>{if(!L)return;const O=le=>{const re=le||"",me=z||"",Ae=re.trim(),Ue=me.trim();return!Ue||Ae.endsWith(Ue)?re:Ae?`${Ae} ${Ue}`:Ue},W=()=>z;if("adSoyad"in L)A(L.id,W);else if("field"in L&&"id"in L){const le=L.field,re=["tehlikeAciklama","mevcutOnlemler","eliminasyon","ikame","muhendislik","idari","kkd"].includes(le);N(L.id,le,re?O:W)}else if("field"in L){const le=L.field;le==="genelDegerlendirme"?k(le,O):k(le,W)}},[A,N,k]);return{formData:l,setFormData:o,riskEkibi:r,setRiskEkibi:f,riskler:m,setRiskler:g,stats:ee,alanSuggestions:v,setAlanSuggestions:T,isEkipCollapsed:y,setIsEkipCollapsed:h,updateFormData:k,updateEkip:A,updateRisk:N,updateRiskScores:U,updateControlMeasures:w,addRisk:P,duplicateRisk:X,removeRisk:Y,toggleRiskCollapse:J,handleSpeechResult:ne}},lR=(i,t)=>{const[l,o]=K.useState(null),r=K.useRef(!1),f=K.useRef(null),m=K.useRef(null),g=K.useRef(i),y=K.useRef(t),h=K.useRef(-1),v=K.useRef(!1);K.useEffect(()=>{g.current=i},[i]),K.useEffect(()=>{y.current=t},[t]),K.useEffect(()=>{m.current=l},[l]),K.useEffect(()=>{const k=window.SpeechRecognition||window.webkitSpeechRecognition;if(!k){console.error("Browser does not support SpeechRecognition");return}const A=new k;return A.lang="tr-TR",A.continuous=!0,A.interimResults=!1,A.maxAlternatives=1,A.onresult=N=>{if(r.current){v.current=!0;for(let U=N.resultIndex;U<N.results.length;++U)if(!(U<=h.current)&&N.results[U].isFinal){const w=N.results[U][0].transcript.trim();if(!w)continue;h.current=U;const P=m.current;if(!P)continue;let X=w,Y=!1;("adSoyad"in P||"field"in P&&["birim","alan","sorumlu"].includes(P.field))&&(Y=!0),X=Y?ib(w):lb(w),g.current&&g.current(P,X)}}},A.onend=()=>{if(r.current)if(A.continuous)if(v.current){console.log("Mic stopped (Keep-Alive triggered)..."),h.current=-1,v.current=!1;try{A.start()}catch{}}else console.log("Mic stopped due to silence (Auto-Stop)."),r.current=!1,o(null);else r.current=!1,o(null);else o(null)},A.onerror=N=>{console.warn("Speech recognition error",N.error),N.error==="not-allowed"&&(r.current=!1,o(null),y.current&&y.current("Mikrofon Eriimi Engellendi."))},f.current=A,()=>{r.current=!1,f.current&&f.current.abort()}},[]);const T=K.useCallback(k=>{if(!f.current){y.current&&y.current("Taraycnz ses tanmay desteklemiyor.");return}if(r.current)r.current=!1,o(null),f.current.stop();else{o(k),r.current=!0;let A=!1;("adSoyad"in k||"field"in k&&["birim","alan","faaliyet","sorumlu","etkilenenKisi","etkilenenSayi","tarih","tamamlanmaTarihi","tehlikeSinifi"].includes(k.field))&&(A=!0),f.current.continuous=!A,h.current=-1,v.current=!1;try{f.current.start()}catch(N){console.error("Mic start error",N),r.current=!1,o(null)}}},[]);return{speechTarget:l,toggleSpeech:T}},aR=()=>{const[i,t]=K.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[l,o]=K.useState(null),[r,f]=K.useState(!1),[m,g]=K.useState(!0),[y,h]=K.useState(null),[v,T]=K.useState(!1),[k,A]=K.useState(!1),[N,U]=K.useState(!1),[w,P]=K.useState(0),X=K.useRef(null);K.useEffect(()=>{sb()?g(!1):f(!0)},[]);const Y=K.useCallback($=>{ob($),g(!1)},[]),J=K.useCallback(()=>{f(!1),g(!1)},[]),ee=K.useCallback(()=>t($=>({...$,isOpen:!1})),[]),ne=K.useCallback($=>{t({...$,isOpen:!0,onConfirm:()=>{$.onConfirm(),ee()},cancelText:$.cancelText??"ptal"})},[ee]),L=K.useCallback(($,pe)=>{ne({title:$,message:pe,onConfirm:()=>{},confirmText:"Tamam",cancelText:""})},[ne]),z=iR(L,ne),{speechTarget:O,toggleSpeech:W}=lR(z.handleSpeechResult,$=>L("Hata",$)),le=K.useRef(z.riskler.length);K.useEffect(()=>{var $,pe;z.riskler.length>le.current&&((pe=($=X.current)==null?void 0:$.firstElementChild)==null||pe.scrollIntoView({behavior:"smooth",block:"start"})),le.current=z.riskler.length},[z.riskler]);const re=K.useCallback(async()=>{if(!z.formData.birim){L("Eksik","Birim girin.");return}A(!0);try{z.setAlanSuggestions(await rb(z.formData.birim))}catch{L("Hata","Alan nerileri baarsz.")}finally{A(!1)}},[z.formData.birim,L,z.setAlanSuggestions]),me=async()=>{T(!0);try{z.updateFormData("genelDegerlendirme",await ub(z.formData,z.riskler))}catch{L("Hata","zet oluturulamad.")}finally{T(!1)}},Ae=K.useCallback(()=>{z.riskler.length===0?L("Hata","Risk yok."):z.duplicateRisk(z.riskler[0].id)},[z.riskler,z.duplicateRisk,L]),Ue=K.useCallback(async()=>{U(!0);try{const $=await B0(),pe=await Promise.all($.map(async j=>{let oe=j.fileData;if(oe instanceof File&&oe.type.startsWith("image/"))try{oe=await ju(oe,1024,.7)}catch{console.warn("Export srasnda resim kltlemedi, orijinali kullanlyor:",j.fileName)}return{riskId:j.riskId,fileName:j.fileName,fileType:j.fileType,data:oe instanceof Blob?await ey(oe):""}})),b={formData:z.formData,riskEkibi:z.riskEkibi,riskler:z.riskler,files:pe},B=URL.createObjectURL(new Blob([JSON.stringify(b,null,2)],{type:"application/json"})),Q=document.createElement("a");Q.href=B,Q.download=`risk_formu_${z.formData.tarih}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(B)}catch($){console.error($),L("Hata","Da aktarma baarsz oldu.")}finally{U(!1)}},[z,L]),H=$=>{var B;const pe=(B=$.target.files)==null?void 0:B[0];if(!pe)return;const b=new FileReader;b.onload=async Q=>{var j;try{const oe=JSON.parse((j=Q.target)==null?void 0:j.result);oe.formData&&ne({title:"e Aktar",message:"Mevcut veriler ve fotoraflar silinecek. Onaylyor musunuz?",confirmText:"Ykle",onConfirm:async()=>{try{if(await kp(),z.setFormData(oe.formData),z.setRiskEkibi(oe.riskEkibi||[]),z.setRiskler(oe.riskler||[]),oe.files&&Array.isArray(oe.files)){for(const ce of oe.files)if(ce.data){let Se=nb(ce.data,ce.fileName,ce.fileType);if(Se.type.startsWith("image/"))try{Se=await ju(Se,1024,.7)}catch{console.warn("Import srasnda resim kltlemedi:",ce.fileName)}await ag(ce.riskId,Se)}}P(ce=>ce+1),L("Baarl","Veriler ve fotoraflar yklendi. (Resimler optimize edildi)")}catch(ce){console.error(ce),L("Hata","Veritaban yazma hatas.")}}})}catch{L("Hata","Dosya bozuk veya okunamad.")}},b.readAsText(pe),$.target.value=""},Z=()=>ne({title:"Sfrla",message:"Tm veriler silinecek. API anahtarnz korunacak.",confirmText:"Sfrla",onConfirm:async()=>{await kp();const $=localStorage.getItem("gemini_api_key");localStorage.clear(),$&&localStorage.setItem("gemini_api_key",$),window.location.reload()}}),fe=()=>{f(!0)};return E.jsxs(E.Fragment,{children:[E.jsx(eR,{infoKey:l,onClose:()=>o(null)}),E.jsx(jx,{isOpen:r,onClose:J,onSave:Y}),E.jsx(tR,{fileRecord:(y==null?void 0:y.file)??null,title:(y==null?void 0:y.title)??"",onClose:()=>h(null),onDelete:async $=>{await sg($),y!=null&&y.file&&P(pe=>pe+1)},showConfirmation:ne}),E.jsx(nR,{isOpen:i.isOpen,title:i.title,message:i.message,onConfirm:i.onConfirm,onCancel:ee,confirmText:i.confirmText,cancelText:i.cancelText}),E.jsxs("div",{className:"p-2 md:p-4",children:[E.jsxs("div",{className:"print:hidden mb-4 flex flex-wrap gap-2 justify-end",children:[E.jsx("button",{onClick:fe,className:"w-11 h-11 bg-blue-600 text-white rounded hover:bg-blue-700 flex justify-center items-center",title:"API Anahtar Ayarlar",children:E.jsx(uy,{})}),E.jsx("button",{onClick:Z,className:"w-11 h-11 bg-red-600 text-white rounded hover:bg-red-700 flex justify-center items-center",title:"Sfrla",children:E.jsx(_x,{})}),E.jsx("button",{onClick:Ue,disabled:N,className:"w-11 h-11 bg-green-600 text-white rounded hover:bg-green-700 flex justify-center items-center disabled:opacity-50 disabled:cursor-wait",title:"Yedek ndir (JSON)",children:N?E.jsx(sy,{}):E.jsx(Ax,{})}),E.jsxs("label",{className:"w-11 h-11 bg-yellow-600 text-white rounded hover:bg-yellow-700 cursor-pointer flex justify-center items-center",title:"Yedek Ykle (JSON)",children:[E.jsx(Cx,{}),E.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:H})]}),E.jsx(Wx,{riskler:z.riskler,showAlert:L})]}),E.jsxs("div",{className:"border-2 border-gray-800 p-4 md:p-6 bg-white shadow-lg rounded-lg relative",children:[E.jsx("span",{className:"absolute top-1 left-2 text-[10px] text-gray-400 font-mono select-none print:hidden",children:"v2.0"}),E.jsxs("div",{className:"text-center mb-6 border-b-2 border-gray-300 pb-4",children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-2",children:"RSK DEERLENDRME FORMU"}),E.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-700",children:"Fine-Kinney Yntemi (niversite)"})]}),E.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Birim/Faklte:"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:z.formData.birim,onChange:$=>z.updateFormData("birim",$.target.value),className:"w-full border border-gray-300 rounded px-3 py-3 text-sm pr-10"}),E.jsx("button",{onClick:()=>W({field:"birim"}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:O&&"field"in O&&O.field==="birim"})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Tehlike Snf:"}),E.jsx("select",{value:z.formData.tehlikeSinifi,onChange:$=>z.updateFormData("tehlikeSinifi",$.target.value),className:"w-full border border-gray-300 rounded px-3 py-3 text-sm",children:["Az Tehlikeli","Tehlikeli","ok Tehlikeli"].map($=>E.jsx("option",{value:$,children:$},$))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Tarih:"}),E.jsx("input",{type:"date",value:z.formData.tarih,onChange:$=>z.updateFormData("tarih",$.target.value),className:"w-full border border-gray-300 rounded px-3 py-3 text-sm"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("h3",{className:"text-lg font-bold mb-3 bg-gray-200 p-3 rounded flex justify-between items-center cursor-pointer",onClick:()=>z.setIsEkipCollapsed(!z.isEkipCollapsed),children:[E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(kx,{})," RSK EKB"]}),E.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 print:hidden",children:E.jsx(pc,{isCollapsed:z.isEkipCollapsed})})]}),E.jsx("div",{id:"risk-ekibi-listesi",className:`grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 ${z.isEkipCollapsed?"hidden":""}`,children:z.riskEkibi.map($=>E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-semibold mb-1",children:[$.rol,":"]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:$.adSoyad,onInput:pe=>z.updateEkip($.id,pe.target.value),placeholder:$.placeholder,className:"w-full border border-gray-300 rounded px-3 py-3 text-sm pr-10"}),E.jsx("button",{onClick:()=>W({id:$.id,adSoyad:""}),className:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-blue-600 print:hidden",children:E.jsx(An,{isListening:!!(O&&"id"in O&&O.id===$.id)})})]})]},$.id))})]}),E.jsx(Qx,{stats:z.stats,totalRisks:z.riskler.length}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("h3",{className:"text-lg font-bold mb-3 bg-blue-900 text-white p-3 rounded flex flex-wrap justify-between items-center gap-2 print:hidden",children:[E.jsx("span",{children:"RSK TABLOSU"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:Ae,disabled:!z.riskler.length,className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[E.jsx(Dx,{})," Tret"]}),E.jsxs("button",{onClick:z.addRisk,className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 flex items-center gap-2",children:[E.jsx(Ex,{})," Yeni Risk"]})]})]}),E.jsx("div",{className:"space-y-4",ref:X,children:z.riskler.map(($,pe)=>E.jsx(Xx,{risk:$,riskIndex:z.riskler.length-pe,birimAdi:z.formData.birim,onUpdate:z.updateRisk,onRemove:z.removeRisk,onDuplicate:z.duplicateRisk,onToggleCollapse:z.toggleRiskCollapse,onShowInfo:o,onPreviewImage:(b,B)=>h({file:b,title:B}),onToggleSpeech:W,activeSpeechTarget:O,onUpdateScores:z.updateRiskScores,onUpdateMeasures:z.updateControlMeasures,showConfirmation:ne,showAlert:L,alanSuggestions:z.alanSuggestions,isGeneratingAlanSuggestions:k,onGenerateAlanSuggestions:re,dataVersion:w},$.id))})]}),E.jsx(Zx,{formData:z.formData,riskEkibi:z.riskEkibi,onUpdateFormData:z.updateFormData,onGenerateSummary:me,isGeneratingSummary:v,onShowInfo:o,onToggleSpeech:W,activeSpeechTarget:O})]})]})]})},fy=document.getElementById("root");if(!fy)throw new Error("Could not find root element to mount to");const oR=L0.createRoot(fy);oR.render(E.jsx(be.StrictMode,{children:E.jsx(aR,{})}));
